/*! For license information please see main.dfef1c0b.js.LICENSE.txt */
(()=>{"use strict";var e={87:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},117:(e,t,n)=>{var r=n(572);t.H=r.createRoot,r.hydrateRoot},256:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(578),i=n(407),s=n(533);const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],u=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:h="",children:p,iconNode:m}=e,f=(0,i.A)(e,c);return(0,s.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},l),{},{width:a,height:a,stroke:n,strokeWidth:d?24*Number(u)/Number(a):u,className:o("lucide",h)},!p&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"}),f),[...m.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(p)?p:[p]])}),d=["className"],h=(e,t)=>{const n=(0,s.forwardRef)((n,l)=>{let{className:c}=n,h=(0,i.A)(n,d);return(0,s.createElement)(u,(0,r.A)({ref:l,iconNode:t,className:o("lucide-".concat((p=a(e),p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},h));var p});return n.displayName=a(e),n}},267:(e,t,n)=>{var r=n(533),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},298:(e,t,n)=>{n.d(t,{HF:()=>et,F0:()=>kt,eJ:()=>pt,xI:()=>zn,hg:()=>gt,oM:()=>ft,x9:()=>mt,df:()=>tn,CI:()=>yt});var r=n(407),i=n(578),s=n(675),a=n(886),o=n(87),l=n(752);const c=["providerId"],u=["uid","auth","stsTokenManager"],d=["providerId","signInMethod"];function h(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p=h,m=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new o.Vy("@firebase/auth");function g(e){if(f.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw k(e,...n)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k(e,...n)}function x(e,t,n){const r=(0,i.A)((0,i.A)({},p()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function b(e){return x(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&y(e,"argument-error"),x(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function S(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw k(t,...r)}}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function C(e,t){e||E(t)}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function A(){return"http:"===N()||"https:"===N()}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(A()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function j(e,t){C(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O=new _(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function D(e,t,n,r){return L(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const l=(0,a.Am)((0,i.A)({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,i.A)({method:t,headers:c},s);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),I.fetch()(await V(e,e.config.apiHost,n,l),u)})}async function L(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},P),t);try{const t=new z(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw B(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw B(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw x(e,o,a);y(e,o)}}catch(s){if(s instanceof a.g)throw s;y(e,"network-request-failed",{message:String(s)})}}async function F(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await D(e,t,n,r,i);return"mfaPendingCredential"in s&&y(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function V(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?j(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(R.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function U(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(v(this.auth,"network-request-failed")),O.get())})}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=v(e,t,r);return i.customData._tokenResponse=n,i}function q(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W(e,t){return D(e,"GET","/v2/recaptchaConfig",M(e,t))}async function K(e,t){return D(e,"POST","/v1/accounts:lookup",t)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(e){return 1e3*Number(e)}function X(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(i){return g("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Y(e){const t=X(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function J(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ee(e){var t;const n=e.auth,r=await e.getIdToken(),i=await J(e,K(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?te(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Z(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function te(e){return e.map(e=>{let{providerId:t}=e,n=(0,r.A)(e,c);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");const t=Y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await L(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await V(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),I.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ne;return n&&(S("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return E("not implemented")}}function re(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){let{uid:t,auth:n,stsTokenManager:i}=e,s=(0,r.A)(e,u);this.providerId="firebase",this.proactiveRefresh=new $(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),i=X(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:G(Q(i.auth_time)),issuedAtTime:G(Q(i.iat)),expirationTime:G(Q(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await ee(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ee(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(b(this.auth));const e=await this.getIdToken();return await J(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,a,o,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:E}=t;S(x&&E,e,"internal-error");const C=ne.fromJSON(this.name,E);S("string"===typeof x,e,"internal-error"),re(d,e.name),re(h,e.name),S("boolean"===typeof b,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),re(p,e.name),re(m,e.name),re(f,e.name),re(g,e.name),re(y,e.name),re(v,e.name);const T=new ie({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:f,stsTokenManager:C,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(T.providerData=k.map(e=>(0,i.A)({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ne;r.updateFromServerResponse(t);const i=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ee(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];S(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?te(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new ne;a.updateFromIdToken(n);const o=new ie({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Z(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const se=new Map;function ae(e){C(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class oe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oe.type="NONE";const le=oe;function ce(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ue{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ce(this.userKey,r.apiKey,i),this.fullPersistenceKey=ce("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await K(this.auth,{idToken:e}).catch(()=>{});return t?ie._fromGetAccountInfoResponse(this.auth,t,e):null}return ie._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ue(ae(le),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ae(le);const s=ce(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await K(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ie._fromGetAccountInfoResponse(e,r,t)}else n=ie._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new ue(i,e,n)):new ue(i,e,n)}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(he(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ye(t))return"Blackberry";if(ve(t))return"Webos";if(pe(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ge(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function pe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return xe(e)||ge(e)||ve(e)||ye(e)||/windows phone/i.test(e)||fe(e)}function we(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=de((0,a.ZQ)());break;case"Worker":t="".concat(de((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class ke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Se{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ee{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Te(this),this.idTokenSubscription=new Te(this),this.beforeStateQueue=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ae(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ue.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await K(this,{idToken:e}),n=await ie._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ee(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(b(this));const t=e?(0,a.Ku)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(b(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(b(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ae(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return D(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Se(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return D(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ae(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await ue.create(this,[ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=we(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(f.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ce(e){return(0,a.Ku)(e)}class Te{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ae={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ne(e){return Ae.loadJS(e)}function _e(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class je{constructor(){this.enterprise=new Ie}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ie{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Pe="NO_RECAPTCHA";class Re{constructor(e){this.type="recaptcha-enterprise",this.auth=Ce(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;q(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Pe)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new je).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{W(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&q(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ae.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ne(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Oe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Re(e);let o;if(s)o=Pe;else try{o=await a.verify(n)}catch(c){o=await a.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Me(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Oe(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Oe(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Oe(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Oe(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Oe(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function De(e){const t=Ce(e),n=await W(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Re(t).verify()}}function Le(e,t,n){const r=Ce(e);S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Fe(t),{host:o,port:l}=function(e){const t=Fe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ve(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(s,"//").concat(o).concat(c,"/")},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return S(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void S((0,a.bD)(u,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(o)?((0,a.gE)("".concat(s,"//").concat(o).concat(c)),(0,a.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ue{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function ze(e,t){return D(e,"POST","/v1/accounts:signUp",t)}async function Be(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}class qe extends Ue{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qe(e,t,"password")}static _fromEmailAndCode(e,t){return new qe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Me(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ze,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function He(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class We extends Ue{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new We(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=(0,r.A)(t,d);if(!n||!i)return null;const a=new We(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return He(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,He(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,He(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Ke(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}const Ge={USER_NOT_FOUND:"user-not-found"};class Qe extends Ue{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await F(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),Ge)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xe{constructor(e){var t,n,r,i,s,o;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);S(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Xe(t)}catch(n){return null}}}class Ye{constructor(){this.providerId=Ye.PROVIDER_ID}static credential(e,t){return qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xe.parseLink(t);return S(n,"argument-error"),qe._fromEmailAndCode(e,n.code,n.tenantId)}}Ye.PROVIDER_ID="password",Ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $e extends Je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ze extends $e{constructor(){super("facebook.com")}static credential(e){return We._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(n){return null}}}Ze.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ze.PROVIDER_ID="facebook.com";class et extends $e{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return We._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return et.credential(n,r)}catch(i){return null}}}et.GOOGLE_SIGN_IN_METHOD="google.com",et.PROVIDER_ID="google.com";class tt extends $e{constructor(){super("github.com")}static credential(e){return We._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tt.credential(t.oauthAccessToken)}catch(n){return null}}}tt.GITHUB_SIGN_IN_METHOD="github.com",tt.PROVIDER_ID="github.com";class nt extends $e{constructor(){super("twitter.com")}static credential(e,t){return We._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return nt.credential(n,r)}catch(i){return null}}}async function rt(e,t){return F(e,"POST","/v1/accounts:signUp",M(e,t))}nt.TWITTER_SIGN_IN_METHOD="twitter.com",nt.PROVIDER_ID="twitter.com";class it{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ie._fromIdTokenResponse(e,n,r),s=st(n);return new it({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=st(n);return new it({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function st(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class at extends a.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,at.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new at(e,t,n,r)}}function ot(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw at._fromErrorAndOperation(e,n,t,r);throw n})}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return it._forOperation(e,"link",r)}async function ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(b(r));const i="reauthenticate";try{const s=await J(e,ot(r,i,t,e),n);S(s.idToken,r,"internal-error");const a=X(s.idToken);S(a,r,"internal-error");const{sub:o}=a;return S(e.uid===o,r,"user-mismatch"),it._forOperation(e,i,s)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&y(r,"user-mismatch"),a}}async function ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r="signIn",i=await ot(e,r,t),a=await it._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function dt(e,t){return ut(Ce(e),t)}async function ht(e){const t=Ce(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function pt(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(b(e));const r=Ce(e),i=Me(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rt,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t}),o=await it._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function mt(e,t,n){return(0,s.xZ)(e.app)?Promise.reject(b(e)):dt((0,a.Ku)(e),Ye.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ht(e),t})}function ft(e,t){return(0,a.Ku)(e).setPersistence(t)}function gt(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function yt(e){return(0,a.Ku)(e).signOut()}function vt(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}new WeakMap;const xt="__sak";class bt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xt,"1"),this.storage.removeItem(xt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wt extends bt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wt.type="LOCAL";const kt=wt;function St(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Et(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ct{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Et(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return St(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Et(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Et(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=St(n);const i=setInterval(()=>{const e=St(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ct.type="COOKIE";class Tt extends bt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tt.type="SESSION";const At=Tt;class Nt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Nt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Nt.receivers=[];class jt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=_t("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function It(){return window}function Pt(){return"undefined"!==typeof It().WorkerGlobalScope&&"function"===typeof It().importScripts}const Rt="firebaseLocalStorageDb",Ot="firebaseLocalStorage",Mt="fbase_key";class Dt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lt(e,t){return e.transaction([Ot],t?"readwrite":"readonly").objectStore(Ot)}function Ft(){const e=indexedDB.open(Rt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ot,{keyPath:Mt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ot)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rt);return new Dt(e).toPromise()}(),t(await Ft()))})})}async function Vt(e,t,n){const r=Lt(e,!0).put({[Mt]:t,value:n});return new Dt(r).toPromise()}function Ut(e,t){const n=Lt(e,!0).delete(t);return new Dt(n).toPromise()}class zt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ft()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nt._getInstance(Pt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new jt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ft();return await Vt(e,xt,"1"),await Ut(e,xt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Lt(e,!1).get(t),r=await new Dt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ut(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Lt(e,!1).getAll();return new Dt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zt.type="LOCAL";const Bt=zt;function qt(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}_e("rcb"),new _(3e4,6e4);const Ht="recaptcha";async function Wt(e,t,n){if(!e._getRecaptchaConfig())try{await De(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){S("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Me(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return vt(e,await Kt(e,t,n))}return vt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;S("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;S(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Me(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return qt(e,await Kt(e,t,n))}return qt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Me(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Ht,e,"argument-error");return Ke(e,await Kt(e,t,n))}return Ke(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Kt(e,t,n){S(n.type===Ht,e,"argument-error");const r=await n.verify();S("string"===typeof r,e,"argument-error");const s=(0,i.A)({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Gt{constructor(e){this.providerId=Gt.PROVIDER_ID,this.auth=Ce(e)}verifyPhoneNumber(e,t){return Wt(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gt.credentialFromTaggedObject(t)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qe._fromTokenResponse(n,r):null}}function Qt(e,t){return t?ae(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gt.PROVIDER_ID="phone",Gt.PHONE_SIGN_IN_METHOD="phone";class Xt extends Ue{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return He(e,this._buildIdpRequest())}_linkToIdToken(e,t){return He(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return He(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yt(e){return ut(e.auth,new Xt(e),e.bypassAuthState)}function Jt(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),ct(n,new Xt(e),e.bypassAuthState)}async function $t(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),lt(n,new Xt(e),e.bypassAuthState)}class Zt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yt;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return Jt;default:y(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const en=new _(2e3,1e4);async function tn(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(v(e,"operation-not-supported-in-this-environment"));const r=Ce(e);w(e,t,Je);const i=Qt(r,n);return new nn(r,"signInViaPopup",t,i).executeNotNull()}class nn extends Zt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nn.currentPopupAction&&nn.currentPopupAction.cancel(),nn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){C(1===this.filter.length,"Popup operations only handle one event");const e=_t();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,en.get())};e()}}nn.currentPopupAction=null;const rn=new Map;class sn extends Zt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=rn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ln(t),r=on(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}rn.set(this.auth._key(),e)}return this.bypassAuthState||rn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function an(e,t){rn.set(e._key(),t)}function on(e){return ae(e._redirectPersistence)}function ln(e){return ce("pendingRedirect",e.config.apiKey,e.name)}async function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r=Ce(e),i=Qt(r,t),a=new sn(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class un{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hn(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dn(e))}saveEventToCache(e){this.cachedEventUids.add(dn(e)),this.lastProcessedEventTime=Date.now()}}function dn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function hn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const pn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mn=/^https?/;async function fn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return D(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gn(r))return}catch(n){}y(e,"unauthorized-domain")}function gn(e){const t=T(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!mn.test(n))return!1;if(pn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yn=new _(3e4,6e4);function vn(){const e=It().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xn(e){return new Promise((t,n)=>{var r,i;function s(){vn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vn(),n(v(e,"network-request-failed"))},timeout:yn.get()})}if(null!==(r=It().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=It().gapi)||void 0===i||!i.load){const t=_e("iframefcb");return It()[t]=()=>{gapi.load?s():n(v(e,"network-request-failed"))},Ne("".concat(Ae.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw bn=null,e})}let bn=null;const wn=new _(5e3,15e3),kn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function En(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?j(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},i=Sn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function Cn(e){const t=await function(e){return bn=bn||xn(e),bn}(e),n=It().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:En(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=v(e,"network-request-failed"),s=It().setTimeout(()=>{r(i)},wn.get());function a(){It().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Tn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class An{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Nn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,i.A)((0,i.A)({},Tn),{},{width:r.toString(),height:s.toString(),top:o,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=me(d)?"_blank":n),he(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new An(null);const p=window.open(t||"",c,h);S(p,e,"popup-blocked");try{p.focus()}catch(m){}return new An(p)}const _n="__/auth/handler",jn="emulator/auth/handler",In=encodeURIComponent("fac");async function Pn(e,t,n,r,i,o){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:i};if(t instanceof Je){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof $e){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(In,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_n);return j(t,jn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const Rn="webStorageSupport";const On=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=At,this._completeRedirectFn=cn,this._overrideRedirectResult=an}async _openPopup(e,t,n,r){var i;C(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Nn(e,await Pn(e,t,n,T(),r),_t())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){It().location.href=e}(await Pn(e,t,n,T(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Cn(e),n=new un(e);return t.register("authEvent",t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rn,{type:Rn},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Rn];void 0!==i&&t(!!i),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||pe()||xe()}};var Mn="@firebase/auth",Dn="1.11.1";class Ln{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fn=(0,a.XA)("authIdTokenMaxAge")||300;let Vn=null;const Un=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Fn)return;const i=null===n||void 0===n?void 0:n.token;Vn!==i&&(Vn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:On,persistence:[Bt,kt,At]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=Un(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=(0,a.Tj)("auth");return i&&Le(n,"http://".concat(i)),n}var Bn;Ae={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Bn="Browser",(0,s.om)(new l.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;S(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Bn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:we(Bn)},c=new Ee(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ae);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new l.uA("auth-internal",e=>(e=>new Ln(e))(Ce(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Mn,Dn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bn)),(0,s.KO)(Mn,Dn,"esm2020")},340:(e,t,n)=>{var r=n(533),i=n(875);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ce(e){if(e=xi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function _e(){}var je=!1;function Ie(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==Se||null!==Ee)&&(_e(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Me(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Fe=!1,Ve=null,Ue={onError:function(e){De=!0,Le=e}};function ze(e,t,n,r,i,s,a,o,l){De=!1,Le=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Et,Ct,Tt=!1,At=[],Nt=null,_t=null,jt=null,It=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==_t&&Ft(_t)&&(_t=null),null!==jt&&Ft(jt)&&(jt=null),It.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==_t&&zt(_t,e),null!==jt&&zt(jt,e),It.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=xt,s=qt.transition;qt.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=i,qt.transition=s}}function Kt(e,t,n,r){var i=xt,s=qt.transition;qt.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,i),!0;case"dragenter":return _t=Dt(_t,e,t,n,r,i),!0;case"mouseover":return jt=Dt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return It.set(s,Dt(It.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Dt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=xi(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(pn),fn=sn(L({},pn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),bn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Tn),Nn=sn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(In),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ie(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Cr("animationend"),Ar=Cr("animationiteration"),Nr=Cr("animationstart"),_r=Cr("transitionend"),jr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ir.length;Rr++){var Or=Ir[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=s,i=we(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Tr:case Ar:case Nr:l=yn;break;case _r:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,m=r;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Pe(m,h))&&u.push(Wr(m,f,p)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,f="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bi(l),p=null==c?o:bi(c),(o=new u(f,m+"leave",l,n,i)).target=d,o.relatedTarget=p,f=null,vi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,m=0,p=u=l;p;p=Gr(p))m++;for(p=0,f=h;f;f=Gr(f))p++;for(;0<m-p;)u=Gr(u),m--;for(;0<p-m;)h=Gr(h),p--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if(Jn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,mi="__reactContainer$"+di,fi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[pi]||null}var ki=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ti(e,t){Si++,ki[Si]=e.current,e.current=t}var Ai={},Ni=Ei(Ai),_i=Ei(!1),ji=Ai;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(_i),Ci(Ni)}function Oi(e,t,n){if(Ni.current!==Ai)throw Error(s(168));Ti(Ni,t),Ti(_i,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,ji=Ni.current,Ti(Ni,e),Ti(_i,_i.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ci(_i),Ci(Ni),Ti(Ni,e)):Ci(_i),Ti(_i,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{xt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Xi=null,Yi=1,Ji="";function $i(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function f(i,s,o,l){for(var c=null,u=null,d=s,f=s=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=p(i,d,o[f],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,f),null===u?c=y:u.sibling=y,u=y,d=g}if(f===o.length)return n(i,d),is&&$i(i,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(i,o[f],l))&&(s=a(d,s,f),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,f),c}for(d=r(i,d);f<o.length;f++)null!==(g=m(d,i,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),s=a(g,s,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&$i(i,f),c}function g(i,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,f=o,g=o=0,y=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var x=p(i,f,v.value,c);if(null===x){null===f&&(f=y);break}e&&f&&null===x.alternate&&t(i,f),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,f=y}if(v.done)return n(i,f),is&&$i(i,g),u;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&$i(i,g),u}for(f=r(i,f);!v.done;g++,v=l.next())null!==(v=m(f,i,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Mc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return f(r,s,a,l);if(M(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=xs(!0),ws=xs(!1),ks=Ei(null),Ss=null,Es=null,Cs=null;function Ts(){Cs=Es=Ss=null}function As(e){var t=ks.current;Ci(ks),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _s(e,t){Ss=e,Cs=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Is=null;function Ps(e){null===Is?Is=[e]:Is.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,d,h):m)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=Ei(Hs),Ks=Ei(Hs),Gs=Ei(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Xs(e,t){switch(Ti(Gs,t),Ti(Ks,e),Ti(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ws),Ti(Ws,t)}function Ys(){Ci(Ws),Ci(Ks),Ci(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Ti(Ks,e),Ti(Ws,n))}function $s(e){Ks.current===e&&(Ci(Ws),Ci(Ks))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function pa(){throw Error(s(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fa(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Sa(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,xo=!0),r=r.queue,Ma(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ja(9,Ca.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Na(e)}function Ta(e,t,n){return n(function(){Aa(t)&&Na(e)})}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Na(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function _a(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return va().memoizedState}function Pa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}aa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Oa(e,t){return Pa(8390656,8,e,t)}function Ma(e,t){return Ra(2048,8,e,t)}function Da(e,t){return Ra(4,2,e,t)}function La(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),aa.lanes|=n,Dl|=n,e.baseState=!0),t)}function Ha(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{xt=n,ia.transition=r}}function Wa(){return va().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Xa(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:js,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:js,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:_a,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===_l)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Ta.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=_l.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:js,useCallback:za,useContext:js,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Da,useLayoutEffect:La,useMemo:Ba,useReducer:ba,useRef:Ia,useState:function(){return ba(xa)},useDebugValue:Ua,useDeferredValue:function(e){return qa(va(),oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:js,useCallback:za,useContext:js,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Da,useLayoutEffect:La,useMemo:Ba,useReducer:wa,useRef:Ia,useState:function(){return wa(xa)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ai,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Pi(t)?ji:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ai),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Pi(t)?ji:Ni.current,i.context=Ii(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),uo(0,t)},n}function mo(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return _s(t,i),r=fa(e,t,n,r,s,i),n=ga(),null===e||xo?(is&&n&&es(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return To(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Rl,Pl),Pl|=r;return bo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?ji:Ni.current;return s=Ii(t,s),_s(t,i),n=fa(e,t,n,r,s,i),r=ga(),null===e||xo?(is&&r&&es(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Ao(e,t,n,r,i){if(Pi(n)){var s=!0;Di(t)}else s=!1;if(_s(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Ii(t,c=Pi(n)?ji:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ms=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||_i.current||Ms?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ms||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Ii(t,l=Pi(n)?ji:Ni.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ms=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var m=t.memoizedState;o!==d||h!==m||_i.current||Ms?("function"===typeof p&&(no(t,n,p,r),m=t.memoizedState),(c=Ms||io(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xs(e,t.containerInfo)}function jo(e,t,n,r,i){return ps(),ms(i),t.flags|=256,bo(e,t,n,r),t.child}var Io,Po,Ro,Oo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,i,0,null),e=Mc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Mo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=_l)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nc(r,e,i,-1))}return fc(),Vo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ms(r),bs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ko(t),null;case 3:return r=t.stateNode,Ys(),Ci(_i),Ci(Ni),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Ko(t),null;case 5:$s(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Qs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ci(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ys(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return As(t.type._context),Ko(t),null;case 19:if(Ci(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ci(_i),Ci(Ni),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Ci(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Zs),null;case 4:return Ys(),null;case 10:return As(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[fi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));pl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:fl(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(fl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(fl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,fl(t,e),Yo=u):fl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(m=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==m?(m.return=p,$o=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$o=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Xo;var c=Yo;if(Xo=a,(Yo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,$o=l):kl(i);for(;null!==s;)$o=s,xl(s,t,n),s=s.sibling;$o=i,Xo=o,Yo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):bl(e)}}function bl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(p){Ec(t,t.return,p)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function kl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Sl,El=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Nl=0,_l=null,jl=null,Il=0,Pl=0,Rl=Ei(0),Ol=0,Ml=null,Dl=0,Ll=0,Fl=0,Vl=null,Ul=null,zl=0,Bl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Xl=0,Yl=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Nl)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Il?Il&-Il:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===_l||(e===_l&&(0===(2&Nl)&&(Ll|=n),4===Ol&&oc(e,Il)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Je()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===_l?Il:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Nl)&&Bi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nl;Nl|=2;var a=mc();for(_l===e&&Il===t||(ql=null,Bl=Je()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ts(),Cl.current=a,Nl=i,null!==jl?t=0:(_l=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ml,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),t);break}wc(e,Ul,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),r);break}wc(e,Ul,ql);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,ql),rc(e,Je()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Je()+500,Vi&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&kc();var t=Nl;Nl|=1;var n=Al.transition,r=xt;try{if(Al.transition=null,xt=1,e)return e()}finally{xt=r,Al.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Pl=Rl.current,Ci(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Ci(_i),Ci(Ni),na();break;case 5:$s(r);break;case 4:Ys();break;case 13:case 19:Ci(Zs);break;case 10:As(r.type._context);break;case 22:case 23:dc()}n=n.return}if(_l=e,jl=e=Rc(e.current,null),Il=Pl=t,Ol=0,Ml=null,Fl=Ll=Dl=0,Ul=Vl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Is=null}return e}function pc(e,t){for(;;){var n=jl;try{if(Ts(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Tl.current=null,null===n||null===n.return){Ol=1,Ml=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,yo(m,o,l,0,t),1&m.mode&&fo(a,u,t),c=u;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,u,t),fc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ms(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===_l||0===(268435455&Dl)&&0===(268435455&Ll)||oc(_l,Il)}function gc(e,t){var n=Nl;Nl|=2;var r=mc();for(_l===e&&Il===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ts(),Nl=n,Cl.current=r,null!==jl)throw Error(s(261));return _l=null,Il=0,Ol}function yc(){for(;null!==jl;)xc(jl)}function vc(){for(;null!==jl&&!Xe();)xc(jl)}function xc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):jl=t,Tl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Pl)))return void(jl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ol=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=xt,i=Al.transition;try{Al.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===_l&&(jl=_l=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,_c(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var o=xt;xt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,y=f.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}f=tl,tl=!1}(e,n),gl(n,e),mr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Nl=l,xt=o,Al.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Al.transition=i,xt=r}return null}function kc(){if(null!==Ql){var e=bt(Xl),t=Al.transition,n=xt;try{if(Al.transition=null,xt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var p=(d=$o).sibling,m=d.return;if(sl(d),d===u){$o=null;break}if(null!==p){p.return=m,$o=p;break}$o=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var x=e.current;for($o=x;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=x;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Ec(l,l.return,k)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{xt=n,Al.transition=t}}return!1}function Sc(e,t,n){e=Vs(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vs(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Il&n)===n&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function _c(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new jc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case E:o=8,i|=8;break;case C:return(e=Ic(12,n,t,2|i)).elementType=C,e.lanes=a,e;case _:return(e=Ic(13,n,t,i)).elementType=_,e.lanes=a,e;case j:return(e=Ic(19,n,t,i)).elementType=j,e.lanes=a,e;case R:return Dc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case A:o=9;break e;case N:o=11;break e;case I:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Ai;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:_o(t),ps();break;case 5:Js(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ii(t,Ni.current);_s(t,n),i=fa(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===I)return 14}return 2}(r),e=to(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(_o(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!_i.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ns(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_s(t,n),r=r(i=js(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),ko(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,_s(t,n),so(t,r,i),oo(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[mi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[mi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[mi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Nl)&&(Bl=Je()+500,Bi()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return xt},Ct=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,_e=uc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Te,Ae,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[mi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},356:(e,t,n)=>{n.d(t,{Ay:()=>se});var r=n(578);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t.apply(n,[].concat(i,r))}}}function p(e){return{}.toString.call(e).includes("Object")}function m(e){return"function"===typeof e}var f=h(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),g={changes:function(e,t){return p(t)||f("changeType"),Object.keys(t).some(function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r})&&f("changeField"),t},selector:function(e){m(e)||f("selectorType")},handler:function(e){m(e)||p(e)||f("handlerType"),p(e)&&Object.values(e).some(function(e){return!m(e)})&&f("handlersType")},initial:function(e){var t;e||f("initialIsRequired"),p(e)||f("initialType"),t=e,Object.keys(t).length||f("initialContent")}};function y(e,t){return m(t)?t(e.current):t}function v(e,t){return e.current=d(d({},e.current),t),t}function x(e,t,n){return m(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}const b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.initial(e),g.handler(t);var n={current:e},r=h(x)(n,t),i=h(v)(n),s=h(g.changes)(e),a=h(y)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return g.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(r,i,s,a)(e)}]}};const w={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const k=function(e){return{}.toString.call(e).includes("Object")};var S={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},E=function(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t.apply(n,[].concat(i,r))}}}(function(e,t){throw new Error(e[t]||e.default)})(S),C={config:function(e){return e||E("configIsRequired"),k(e)||E("configType"),e.urls?(console.warn(S.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const T=C;const A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};const N=function e(t,n){return Object.keys(n).forEach(function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))}),a(a({},t),n)};var _={type:"cancelation",msg:"operation is manually canceled"};const j=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(_):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n};var I,P,R=b.create({config:w,isInitialized:!1,resolve:null,reject:null,monaco:null}),O=(P=2,function(e){if(Array.isArray(e))return e}(I=R)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}}(I,P)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(I,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),M=O[0],D=O[1];function L(e){return document.body.appendChild(e)}function F(e){var t=M(function(e){return{config:e.config,reject:e.reject}}),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function V(){var e=M(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){U(t),e.resolve(t)},function(t){e.reject(t)})}function U(e){M().monaco||D({monaco:e})}var z=new Promise(function(e,t){return D({resolve:e,reject:t})}),B={config:function(e){var t=T.config(e),n=t.monaco,r=o(t,["monaco"]);D(function(e){return{config:N(e.config,r),monaco:n}})},init:function(){var e=M(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(D({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),j(z);if(window.monaco&&window.monaco.editor)return U(window.monaco),e.resolve(window.monaco),j(z);A(L,F)(V)}return j(z)},__getMonacoInstance:function(){return M(function(e){return e.monaco})}};const q=B;var H=n(533),W={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},K={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var G=function(e){let{children:t}=e;return H.createElement("div",{style:K.container},t)};var Q=function(e){let{width:t,height:n,isEditorReady:i,loading:s,_ref:a,className:o,wrapperProps:l}=e;return H.createElement("section",(0,r.A)({style:(0,r.A)((0,r.A)({},W.wrapper),{},{width:t,height:n})},l),!i&&H.createElement(G,null,s),H.createElement("div",{ref:a,style:(0,r.A)((0,r.A)({},W.fullWidth),!i&&W.hide),className:o}))},X=(0,H.memo)(Q);var Y=function(e){(0,H.useEffect)(e,[])};var J=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,H.useRef)(!0);(0,H.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function $(){}function Z(e,t,n,r){return function(e,t){return e.editor.getModel(ee(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?ee(e,r):void 0)}(e,t,n,r)}function ee(e,t){return e.Uri.parse(t)}var te=function(e){let{original:t,modified:n,language:i,originalLanguage:s,modifiedLanguage:a,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:d="light",loading:h="Loading...",options:p={},height:m="100%",width:f="100%",className:g,wrapperProps:y={},beforeMount:v=$,onMount:x=$}=e,[b,w]=(0,H.useState)(!1),[k,S]=(0,H.useState)(!0),E=(0,H.useRef)(null),C=(0,H.useRef)(null),T=(0,H.useRef)(null),A=(0,H.useRef)(x),N=(0,H.useRef)(v),_=(0,H.useRef)(!1);Y(()=>{let e=q.init();return e.then(e=>(C.current=e)&&S(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>E.current?function(){var e,t,n,r;let i=null===(e=E.current)||void 0===e?void 0:e.getModel();c||null!==i&&void 0!==i&&null!==(t=i.original)&&void 0!==t&&t.dispose(),u||null!==i&&void 0!==i&&null!==(n=i.modified)&&void 0!==n&&n.dispose(),null===(r=E.current)||void 0===r||r.dispose()}():e.cancel()}),J(()=>{if(E.current&&C.current){let e=E.current.getOriginalEditor(),n=Z(C.current,t||"",s||i||"text",o||"");n!==e.getModel()&&e.setModel(n)}},[o],b),J(()=>{if(E.current&&C.current){let e=E.current.getModifiedEditor(),t=Z(C.current,n||"",a||i||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],b),J(()=>{let e=E.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[n],b),J(()=>{var e;null===(e=E.current)||void 0===e||null===(e=e.getModel())||void 0===e||e.original.setValue(t||"")},[t],b),J(()=>{let{original:e,modified:t}=E.current.getModel();C.current.editor.setModelLanguage(e,s||i||"text"),C.current.editor.setModelLanguage(t,a||i||"text")},[i,s,a],b),J(()=>{var e;null===(e=C.current)||void 0===e||e.editor.setTheme(d)},[d],b),J(()=>{var e;null===(e=E.current)||void 0===e||e.updateOptions(p)},[p],b);let j=(0,H.useCallback)(()=>{var e;if(!C.current)return;N.current(C.current);let r=Z(C.current,t||"",s||i||"text",o||""),c=Z(C.current,n||"",a||i||"text",l||"");null===(e=E.current)||void 0===e||e.setModel({original:r,modified:c})},[i,n,a,t,s,o,l]),I=(0,H.useCallback)(()=>{var e;!_.current&&T.current&&(E.current=C.current.editor.createDiffEditor(T.current,(0,r.A)({automaticLayout:!0},p)),j(),null!==(e=C.current)&&void 0!==e&&e.editor.setTheme(d),w(!0),_.current=!0)},[p,d,j]);return(0,H.useEffect)(()=>{b&&A.current(E.current,C.current)},[b]),(0,H.useEffect)(()=>{!k&&!b&&I()},[k,b,I]),H.createElement(X,{width:f,height:m,isEditorReady:b,loading:h,_ref:T,className:g,wrapperProps:y})};(0,H.memo)(te);var ne=function(e){let t=(0,H.useRef)();return(0,H.useEffect)(()=>{t.current=e},[e]),t.current},re=new Map;var ie=function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:i,value:s,language:a,path:o,theme:l="light",line:c,loading:u="Loading...",options:d={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:m=!1,width:f="100%",height:g="100%",className:y,wrapperProps:v={},beforeMount:x=$,onMount:b=$,onChange:w,onValidate:k=$}=e,[S,E]=(0,H.useState)(!1),[C,T]=(0,H.useState)(!0),A=(0,H.useRef)(null),N=(0,H.useRef)(null),_=(0,H.useRef)(null),j=(0,H.useRef)(b),I=(0,H.useRef)(x),P=(0,H.useRef)(),R=(0,H.useRef)(s),O=ne(o),M=(0,H.useRef)(!1),D=(0,H.useRef)(!1);Y(()=>{let e=q.init();return e.then(e=>(A.current=e)&&T(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>N.current?function(){var e,t;null!==(e=P.current)&&void 0!==e&&e.dispose(),m?p&&re.set(o,N.current.saveViewState()):null===(t=N.current.getModel())||void 0===t||t.dispose(),N.current.dispose()}():e.cancel()}),J(()=>{var e,r,l,c;let u=Z(A.current,t||s||"",n||a||"",o||i||"");u!==(null===(e=N.current)||void 0===e?void 0:e.getModel())&&(p&&re.set(O,null===(r=N.current)||void 0===r?void 0:r.saveViewState()),null!==(l=N.current)&&void 0!==l&&l.setModel(u),p&&(null===(c=N.current)||void 0===c||c.restoreViewState(re.get(o))))},[o],S),J(()=>{var e;null===(e=N.current)||void 0===e||e.updateOptions(d)},[d],S),J(()=>{!N.current||void 0===s||(N.current.getOption(A.current.editor.EditorOption.readOnly)?N.current.setValue(s):s!==N.current.getValue()&&(D.current=!0,N.current.executeEdits("",[{range:N.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),N.current.pushUndoStop(),D.current=!1))},[s],S),J(()=>{var e,t;let n=null===(e=N.current)||void 0===e?void 0:e.getModel();n&&a&&(null===(t=A.current)||void 0===t||t.editor.setModelLanguage(n,a))},[a],S),J(()=>{var e;void 0!==c&&(null===(e=N.current)||void 0===e||e.revealLine(c))},[c],S),J(()=>{var e;null===(e=A.current)||void 0===e||e.editor.setTheme(l)},[l],S);let L=(0,H.useCallback)(()=>{if(_.current&&A.current&&!M.current){var e;I.current(A.current);let u=o||i,m=Z(A.current,s||t||"",n||a||"",u||"");N.current=null===(e=A.current)||void 0===e?void 0:e.editor.create(_.current,(0,r.A)({model:m,automaticLayout:!0},d),h),p&&N.current.restoreViewState(re.get(u)),A.current.editor.setTheme(l),void 0!==c&&N.current.revealLine(c),E(!0),M.current=!0}},[t,n,i,s,a,o,d,h,p,l,c]);return(0,H.useEffect)(()=>{S&&j.current(N.current,A.current)},[S]),(0,H.useEffect)(()=>{!C&&!S&&L()},[C,S,L]),R.current=s,(0,H.useEffect)(()=>{var e,t;S&&w&&(null!==(e=P.current)&&void 0!==e&&e.dispose(),P.current=null===(t=N.current)||void 0===t?void 0:t.onDidChangeModelContent(e=>{D.current||w(N.current.getValue(),e)}))},[S,w]),(0,H.useEffect)(()=>{if(S){let e=A.current.editor.onDidChangeMarkers(e=>{var t;let n=null===(t=N.current.getModel())||void 0===t?void 0:t.uri;if(n&&e.find(e=>e.path===n.path)){let e=A.current.editor.getModelMarkers({resource:n});null===k||void 0===k||k(e)}});return()=>{null===e||void 0===e||e.dispose()}}return()=>{}},[S,k]),H.createElement(X,{width:f,height:g,isEditorReady:S,loading:u,_ref:_,className:y,wrapperProps:v})},se=(0,H.memo)(ie)},407:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},465:(e,t,n)=>{e.exports=n(267)},533:(e,t,n)=>{e.exports=n(612)},572:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(340)},578:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},612:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,f(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),_(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=_(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=_(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},633:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(256).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},651:(e,t,n)=>{n.d(t,{A:()=>c,O:()=>u});var r=n(533),i=n(787),s=n(699),a=n(298),o=n(465);const l=(0,r.createContext)(void 0),c=()=>{const e=(0,r.useContext)(l);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},u=e=>{let{children:t}=e;const[n,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),h=async e=>{try{const t=(0,i.H9)(s.db,"users",e.uid);await(0,i.BN)(t,{uid:e.uid,name:e.displayName||"Anonymous",email:e.email,photoURL:e.photoURL||null,currentLevel:1,xp:0,lastQuestionId:null,createdAt:new Date,lastLogin:new Date},{merge:!0}),console.log("User data saved to Firestore")}catch(t){throw console.error("Error saving user to Firestore:",t),t}};(0,r.useEffect)(()=>{const e=(0,a.hg)(s.j2,e=>{c(e),d(!1)});return()=>e()},[]);const p={user:n,loading:u,signInWithGoogle:async()=>{try{const e=await(0,a.df)(s.j2,s.hJ);if(!e.user)throw new Error("No user data available");await h(e.user)}catch(e){throw console.error("Google sign-in error:",e),e}},signInWithEmail:async(e,t)=>{try{await(0,a.x9)(s.j2,e,t)}catch(n){throw console.error("Error during email sign-in:",n),n}},signUpWithEmail:async(e,t)=>{try{const n=await(0,a.eJ)(s.j2,e,t);if(!n.user)throw new Error("No user data available");await h(n.user)}catch(n){throw console.error("Error during email sign-up:",n),n}},logout:async()=>{try{await(0,a.CI)(s.j2),console.log("User signed out")}catch(e){throw console.error("Error during sign-out:",e),e}}};return(0,o.jsx)(l.Provider,{value:p,children:t})}},675:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>pe,Wp:()=>he,KO:()=>me});var r=n(578),i=n(752),s=n(87),a=n(886);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap;let m={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(v(this),t,...r);return d.set(s,t.sort?t.sort():[t]),y(s)}}function g(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,m):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(y(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),p.set(t,e)),t}const v=e=>p.get(e);const x=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function k(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return w.set(t,s),s}m=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>k(t,n)||e.get(t,n,r),has:(t,n)=>!!k(t,n)||e.has(t,n)}))(m);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const E="@firebase/app",C="0.14.5",T=new s.Vy("@firebase/app"),A="@firebase/app-compat",N="@firebase/analytics-compat",_="@firebase/analytics",j="@firebase/app-check-compat",I="@firebase/app-check",P="@firebase/auth",R="@firebase/auth-compat",O="@firebase/database",M="@firebase/data-connect",D="@firebase/database-compat",L="@firebase/functions",F="@firebase/functions-compat",V="@firebase/installations",U="@firebase/installations-compat",z="@firebase/messaging",B="@firebase/messaging-compat",q="@firebase/performance",H="@firebase/performance-compat",W="@firebase/remote-config",K="@firebase/remote-config-compat",G="@firebase/storage",Q="@firebase/storage-compat",X="@firebase/firestore",Y="@firebase/ai",J="@firebase/firestore-compat",$="firebase",Z="[DEFAULT]",ee={[E]:"fire-core",[A]:"fire-core-compat",[_]:"fire-analytics",[N]:"fire-analytics-compat",[I]:"fire-app-check",[j]:"fire-app-check-compat",[P]:"fire-auth",[R]:"fire-auth-compat",[O]:"fire-rtdb",[M]:"fire-data-connect",[D]:"fire-rtdb-compat",[L]:"fire-fn",[F]:"fire-fn-compat",[V]:"fire-iid",[U]:"fire-iid-compat",[z]:"fire-fcm",[B]:"fire-fcm-compat",[q]:"fire-perf",[H]:"fire-perf-compat",[W]:"fire-rc",[K]:"fire-rc-compat",[G]:"fire-gcs",[Q]:"fire-gcs-compat",[X]:"fire-fst",[J]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[$]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){T.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function se(e){const t=e.name;if(re.has(t))return T.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new a.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="12.5.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=(0,r.A)({name:Z,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw ce.create("bad-app-name",{appName:String(o)});if(n||(n=(0,a.T9)()),!n)throw ce.create("no-options");const l=te.get(o);if(l){if((0,a.bD)(n,l.options)&&(0,a.bD)(s,l.config))return l;throw ce.create("duplicate-app",{appName:o})}const c=new i.h1(o);for(const r of re.values())c.addComponent(r);const u=new ue(n,s,c);return te.set(o,u),u}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,a.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function me(e,t,n){var r;let s=null!==(r=ee[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void T.warn(e.join(" "))}se(new i.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const fe="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=y(a);return r&&a.addEventListener("upgradeneeded",e=>{r(y(a.result),e.oldVersion,e.newVersion,y(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fe)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ve(e,t){try{const n=(await ye()).transaction(fe,"readwrite"),r=n.objectStore(fe);await r.put(t,xe(e)),await n.done}catch(n){if(n instanceof a.g)T.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});T.warn(e.message)}}}function xe(e){return"".concat(e.name,"!").concat(e.options.appId)}class be{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ke(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=we();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){T.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=we(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Se(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return T.warn(t),""}}}function we(){return(new Date).toISOString().substring(0,10)}class ke{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(fe),n=await t.objectStore(fe).get(xe(e));return await t.done,n}catch(t){if(t instanceof a.g)T.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});T.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Se(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ee;Ee="",se(new i.uA("platform-logger",e=>new S(e),"PRIVATE")),se(new i.uA("heartbeat",e=>new be(e),"PRIVATE")),me(E,C,Ee),me(E,C,"esm2020"),me("fire-js","")},683:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(256).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},699:(e,t,n)=>{n.d(t,{j2:()=>o,db:()=>c,hJ:()=>l});var r=n(675);(0,r.KO)("firebase","12.5.0","app");var i=n(298),s=n(787);const a=(0,r.Wp)({apiKey:"AIzaSyBxohu9tOMRj4_A3HU-ZUcz5V82sSoH768",authDomain:"algo-duo-quest-37286300-b56fc.firebaseapp.com",projectId:"algo-duo-quest-37286300-b56fc",storageBucket:"algo-duo-quest-37286300-b56fc.appspot.com",messagingSenderId:"802859361739",appId:"1:802859361739:web:1eea6994a5d3ffe0b7424e"}),o=(0,i.xI)(a);(0,i.oM)(o,i.F0);const l=new i.HF;l.addScope("https://www.googleapis.com/auth/userinfo.email"),l.addScope("https://www.googleapis.com/auth/userinfo.profile"),l.setCustomParameters({prompt:"select_account"});const c=(0,s.aU)(a)},736:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(256).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},752:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(886);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},787:(e,t,n)=>{n.d(t,{gS:()=>lc,rJ:()=>tl,H9:()=>nl,x7:()=>rc,GG:()=>sc,aU:()=>ol,P:()=>ql,O5:()=>pc,BN:()=>ac,mZ:()=>oc,_M:()=>Wl,wP:()=>mc});var r,i,s=n(578),a=n(675),o=n(752),l=n(87),c=n(886),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function s(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var a={};function o(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],e<0?-1:0)}):new s([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return f(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),u=o(1),h=o(16777216);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function m(e){return-1==e.h}function f(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(u)}function g(e,t){return e.add(f(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function x(e,t){if(p(t))throw Error("division by zero");if(p(e))return new v(c,c);if(m(e))return t=x(f(e),t),new v(f(t.g),f(t.h));if(m(t))return t=x(e,f(t)),new v(f(t.g),t.h);if(e.g.length>30){if(m(e)||m(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=b(n),r=b(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!p(r);){var a=s.add(r);a.l(e)<=0&&(i=i.add(n),s=a),r=w(r,1),n=w(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),a=(s=l(n)).j(t);m(a)||a.l(e)>0;)a=(s=l(n-=r)).j(t);p(s)&&(s=u),i=i.add(s),e=g(e,a)}return new v(i,e)}function b(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function w(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let s=0;s<r;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(m(this))return-f(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(m(this))return"-"+f(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const i=x(n,t).g;let s=(((n=g(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(p(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return m(e=g(this,e))?-1:p(e)?0:1},e.abs=function(){return m(this)?f(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,t&=65535,s&=65535,n[i]=s<<16|t}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(p(this)||p(e))return c;if(m(this))return m(e)?f(this).j(f(e)):f(f(this).j(e));if(m(e))return f(this.j(f(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,s=65535&this.i(r),a=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=s*o,y(n,2*r+2*t),n[2*r+2*t+1]+=i*o,y(n,2*r+2*t+1),n[2*r+2*t+1]+=s*a,y(n,2*r+2*t+1),n[2*r+2*t+2]+=i*a,y(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new s(n,0)},e.B=function(e){return x(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=d.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let i=c;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=l(Math.pow(n,s)),i=i.j(s).add(l(e))):(i=i.j(r),i=i.add(l(e)))}return i},r=d.Integer=s}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,p,m,f,g,y,v,x,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function k(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e){s.setTimeout(()=>{throw e},0)}function T(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,j=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=Promise.resolve(void 0);_=()=>{e.then(R)}};function R(){for(var e;e=T();){try{e.h.call(e.g)}catch(n){C(n)}var t=A;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}j=!1}function O(){this.u=this.u,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function L(e){return/^[\s\xa0]*$/.test(e)}function F(e,t){M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(F,M),F.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var V="closure_listenable_"+(1e6*Math.random()|0),U=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function H(e){const t={};for(const n in e)t[n]=e[n];return t}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<W.length;t++)n=W[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function X(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}G.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=X(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Y="closure_lm_"+(1e6*Math.random()|0),J={};function $(e,t,n,r,i){if(r&&r.once)return ee(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=le(n),e&&e[V]?e.J(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=ae(e);if(l||(e[Y]=l=new G(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=se;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)ee(e,t[s],n,r,i);return null}return n=le(n),e&&e[V]?e.K(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function ne(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=le(n),e&&e[V]?(e=e.i,(s=String(t).toString())in e.g&&((n=X(t=e.g[s],n,r,i))>-1&&(B(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=ae(e))&&(t=e.g[t.toString()],e=-1,t&&(e=X(t,n,r,i)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[V])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ae(t))?(Q(n,e),0==n.h&&(n.src=null,t[Y]=null)):B(e)}}}function ie(e){return e in J?J[e]:J[e]="on"+e}function se(e,t){if(e.da)e=!0;else{t=new F(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function ae(e){return(e=e[Y])instanceof G?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function ce(){O.call(this),this.i=new G(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var i=t;K(t=new M(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=de(s,r,!0,t)&&i;if(s=t.g=e,i=de(s,r,!0,t)&&i,i=de(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=de(s,r,!1,t)&&i}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&Q(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,O),ce.prototype[V]=!0,ce.prototype.removeEventListener=function(e,t,n,r){ne(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)B(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class pe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(e){O.call(this),this.h=e,this.g={}}u(me,O);var fe=[];function ge(e){q(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}me.prototype.N=function(){me.Z.N.call(this),ge(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=s.JSON.stringify,ve=s.JSON.parse,xe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function be(){}function we(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Se(){M.call(this,"d")}function Ee(){M.call(this,"c")}u(Se,M),u(Ee,M);var Ce={},Te=null;function Ae(){return Te=Te||new ce}function Ne(e){M.call(this,Ce.Ia,e)}function _e(e){const t=Ae();ue(t,new Ne(t))}function je(e,t){M.call(this,Ce.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Ae();ue(t,new je(t,e))}function Pe(e,t){M.call(this,Ce.Ja,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Me(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ye(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ce.Ia="serverreachability",u(Ne,M),Ce.STAT_EVENT="statevent",u(je,M),Ce.Ja="timingevent",u(Pe,M),Oe.prototype.ua=function(){this.g=!1},Oe.prototype.info=function(){};var De,Le={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ve(){}function Ue(e){return encodeURIComponent(String(e))}function ze(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}u(Ve,be),Ve.prototype.g=function(){return new XMLHttpRequest},De=new Ve;var He={},We={};function Ke(e,t,n){e.M=1,e.A=yt(ht(t)),e.u=n,e.R=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),Ye(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.L,e.h=new qe,e.g=vn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(fe[0]=i.toString()),i=fe);for(let s=0;s<i.length;s++){const e=$(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?H(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),_e(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Qe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?We:(n=Number(t.substring(n,r)),isNaN(n)?He:(r+=1)+n>t.length?We:(t=t.slice(r,r+n),e.C=r+n,t))}function Ye(e){e.T=Date.now()+e.H,Je(e,e.H)}function Je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Re(l(e.aa,e),t)}function $e(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||pn(e.j,e)}function et(e){$e(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||at(n.h,e)))if(!e.L&&at(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Ie(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Re(l(n.Va,n),6e3));st(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((e.L||n.g==e)&&hn(n),!L(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ot(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=yn(r,r.L?r.ba:null,r.W),a.L){lt(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&($e(o),Ye(o)),r.g=a}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||fn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}_e()}catch(u){}}Be.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Yt(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const l=Yt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||4!=l||7==c||_e(),$e(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Qe(e))return e.g.la();const t=Jt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Yt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,Ie(12),et(this),Ze(this);break e}Me(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Xe(this,n),t==We){4==l&&(this.m=4,Ie(14),e=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}if(t==He){this.m=4,Ie(15),Me(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Me(this.i,this.l,t,null),tt(this,t)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Ie(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(o),o.P=!0,Ie(11))}}else Me(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Me(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?pn(this.j,this):(this.o=!1,Ye(this)))}else(function(e){const t={};e=(e.g&&Yt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(L(e[r]))continue;var n=ze(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),et(this),Ze(this)}}}catch(te){}},Be.prototype.cancel=function(){this.K=!0,et(this)},Be.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(_e(),Ie(17)),et(this),this.m=2,Ze(this)):Je(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function st(e){return e.h?1:e.g?e.g.size:0}function at(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return k(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,pt(this,e.j),this.o=e.o,this.g=e.g,mt(this,e.u),this.h=e.h,ft(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,pt(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),mt(this,t[4]),this.h=vt(t[5]||"",!0),ft(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.l=!1,this.i=new Tt(null,this.l))}function ht(e){return new dt(e)}function pt(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function ft(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(At(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Nt(this,t),It(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=xt(t,Et)),e.i=new Tt(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(xt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,wt,!0),"@"),e.push(Ue(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?St:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,Ct)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)mt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?ft(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,kt=/[#\?:]/g,St=/[#\?]/g,Et=/[#\?@]/g,Ct=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function At(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){At(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return At(e),t=Rt(e,t),e.g.has(t)}function jt(e,t){At(e);let n=[];if("string"===typeof t)_t(e,t)&&(n=n.concat(e.g.get(Rt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function It(e,t,n){Nt(e,t),n.length>0&&(e.i=null,e.g.set(Rt(e,t),k(n)),e.h+=n.length)}function Pt(e){const t=new Tt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Mt(){this.g=new xe}function Dt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Lt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ut(e)}function Ut(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function zt(e){let t="";return q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zt(n),"string"===typeof e?null!=n&&Ue(n):gt(e,t,n))}function qt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=Tt.prototype).add=function(e,t){At(this),this.i=null,e=Rt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){At(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return At(this),this.i=null,_t(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=jt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ue(n);n=jt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ue(n[t])),e.push(r)}}return this.i=e.join("&")},u(Dt,be),Dt.prototype.g=function(){return new Lt(this.i,this.h)},u(Lt,ce),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ut(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ut(this)),this.g&&(this.readyState=3,Ut(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):Ut(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Na=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(qt,ce);var Ht=/^https?$/i,Wt=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Gt(e),Xt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Yt(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(ut)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Ht.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var a=Yt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Gt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Yt(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$t("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$t("baseRetryDelayMs",5e3,e),this.Za=$t("retryDelaySeedMs",1e4,e),this.Ta=$t("forwardChannelMaxRetries",2,e),this.va=$t("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Mt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),an(e,n),(t=new Be(e,e.j,t)).M=2,t.A=yt(ht(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ye(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(s.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function rn(e){if(!it(e.h)&&!e.m){e.m=!0;var t=e.Ea;_||P(),j||(_(),j=!0),I.add(t,e),e.D=0}}function sn(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),an(e,r),e.u&&e.o&&Bt(r,e.u,e.o),n=new Be(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),ot(e.h,n),Ke(n,r,t)}function an(e,t){e.H&&q(e.H,function(e,n){gt(t,n,e)}),e.l&&q({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=i[c].g;const n=i[c].map;if((s-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=ye(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(S){throw e.push(s+"type="+encodeURIComponent("_badmap")),S}}catch(S){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;_||P(),j||(_(),j=!0),I.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Re(l(e.Da,e),mn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),an(e,t),e.u&&e.o&&Bt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=yt(ht(t)),n.u=null,n.R=!0,Ge(n,e)}function hn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!at(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;ue(r=Ae(),new Pe(r,n)),rn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(st(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Re(l(e.Ea,e,t),mn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:fn(e,5);break;case 4:fn(e,10);break;case 3:fn(e,6);break;default:fn(e,2)}}function mn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function fn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||pt(r,"https"),yt(r),t?function(e,t){const n=new Oe;if(s.Image){const r=new Image;r.onload=c(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ot,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else Ie(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(E(e.ja,t),E(e.ja,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.oa()}}function yn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new dt(null);r&&pt(e,r),t&&(e.g=t),i&&mt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),an(e,r),r}function vn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Dt({ab:n})):new qt(e.ma)).Fa(e.L),t}function xn(){}function bn(){}function wn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!L(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function kn(e){Se.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){Ee.call(this),this.status=1}function En(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():De.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Kt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Wt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Kt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Yt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ve(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=yn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Be(this,this.j,e);let s=this.o;if(this.U&&(s?(s=H(s),K(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),an(this,n),s&&(this.R?t="headers="+Ue(zt(s))+"&"+t:this.u&&Bt(n,this.u,s)),ot(this.h,i),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),i.U=!0,Ke(i,n,null)):Ke(i,n,t),this.I=2}}else 3==this.I&&(e?sn(this,e):0==this.i.length||it(this.h)||sn(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Re(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Ie(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=xn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},bn.prototype.g=function(e,t){return new wn(e,t)},u(wn,ce),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){en(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ye(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,wn.Z.N.call(this)},u(kn,Se),u(Sn,Ee),u(En,xn),En.prototype.ra=function(){ue(this.g,"a")},En.prototype.qa=function(e){ue(this.g,new kn(e))},En.prototype.pa=function(e){ue(this.g,new Sn)},En.prototype.oa=function(){ue(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,x=w.createWebChannelTransport=function(){return new bn},v=w.getStatEventTarget=function(){return Ae()},y=w.Event=Ce,g=w.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,f=w.ErrorCode=Le,Fe.COMPLETE="complete",m=w.EventType=Fe,we.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",ce.prototype.listen=ce.prototype.J,p=w.WebChannel=we,w.FetchXmlHttpFactory=Dt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,h=w.XhrIo=qt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const k="@firebase/firestore",S="4.9.2";class E{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let C="12.3.0";const T=new l.Vy("@firebase/firestore");function A(){return T.logLevel}function N(e){if(T.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);T.debug("Firestore (".concat(C,"): ").concat(e),...i)}}function _(e){if(T.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);T.error("Firestore (".concat(C,"): ").concat(e),...i)}}function j(e){if(T.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);T.warn("Firestore (".concat(C,"): ").concat(e),...i)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,R(e,r,n)}function R(e,t,n){let r="FIRESTORE (".concat(C,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _(r),new Error(r)}function O(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||R(t,i,r)}function M(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(E.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B{constructor(e){this.t=e,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){O(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new F;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new F,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(O("string"==typeof t.accessToken,31837,{l:t}),new V(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e,2055,{h:e}),new E(e)}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new q(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(E.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){O(void 0===this.o,3512);const n=e=>{null!=e.error&&N("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,N("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(O("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new W(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=G(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function X(e,t){return e<t?-1:e>t?1:0}function Y(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Z(n)===Z(i)?X(n,i):Z(n)?1:-1}return X(e.length,t.length)}const J=55296,$=57343;function Z(e){const t=e.charCodeAt(0);return t>=J&&t<=$}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const te="__name__";class ne{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ne.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ne?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ne.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return X(e.length,t.length)}static compareSegments(e,t){const n=ne.isNumericId(e),r=ne.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ne.extractNumericId(e).compare(ne.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class re extends ne{construct(e,t,n){return new re(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new re(e)}static emptyPath(){return new re([])}}const ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends ne{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===te}static keyField(){return new se([te])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(re.fromString(e))}static fromName(e){return new ae(re.fromString(e).popFirst(5))}static empty(){return new ae(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new re(e.slice()))}}function oe(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function le(e){if(!ae.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){if(ae.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function me(e,t){if(!ue(e))throw new L(D.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new L(D.INVALID_ARGUMENT,n);return!0}const fe=-62135596800,ge=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ge);return new ye(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fe)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ge}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(me(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:pe("string",ye._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ye(0,0))}static max(){return new ve(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xe=-1;class be{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}be.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(1e9===r?new ye(n+1,0):new ye(n,r));return new Se(i,ae.empty(),t)}function ke(e){return new Se(e.readTime,e.key,xe)}class Se{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Se(ve.min(),ae.empty(),xe)}static max(){return new Se(ve.max(),ae.empty(),xe)}}function Ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ae.comparator(e.documentKey,t.documentKey),0!==n?n:X(e.largestBatchId,t.largestBatchId))}const Ce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ae(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==Ce)throw e;N("LocalStore","Unexpectedly lost primary lease")}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(e){return Ne.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,n)=>{t(e)})}static reject(e){return new Ne((t,n)=>{n(e)})}static waitFor(e){return new Ne((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ne.resolve(!1);for(const n of e)t=t.next(e=>e?Ne.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ne((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ne((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function _e(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function je(e){return"IndexedDbTransactionError"===e.name}class Ie{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ie.ce=-1;const Pe=-1;function Re(e){return null==e}function Oe(e){return 0===e&&1/e==-1/0}function Me(e){return"number"==typeof e&&Number.isInteger(e)&&!Oe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const De="\x01";function Le(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ve(t)),t=Fe(e.get(n),t);return Ve(t)}function Fe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case De:n+="\x01\x11";break;default:n+=t}}return n}function Ve(e){return e+De+"\x01"}const Ue="remoteDocuments",ze="owner",Be="mutationQueues",qe="mutations";const He="documentMutations",We="remoteDocumentsV14",Ke="remoteDocumentGlobal",Ge="targets",Qe="targetDocuments",Xe="targetGlobal",Ye="collectionParents",Je="clientMetadata",$e="bundles",Ze="namedQueries",et="indexConfiguration",tt="indexState",nt="indexEntries",rt="documentOverlays",it="globals",st=[Be,qe,He,Ue,Ge,ze,Xe,Qe,Je,Ke,Ye,$e,Ze],at=[Be,qe,He,We,Ge,ze,Xe,Qe,Je,Ke,Ye,$e,Ze,rt],ot=at,lt=[...ot,et,tt,nt];function ct(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ut(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||mt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pt(this.root,e,this.comparator,!0)}}class pt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:mt.RED,this.left=null!=r?r:mt.EMPTY,this.right=null!=i?i:mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new mt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1,mt.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ft))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yt{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new yt([])}unionWith(e){let t=new ft(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class vt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vt("Invalid base64 string: "+e):e}}(e);return new xt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(O(!!e,39018),"string"==typeof e){let t=0;const n=bt.exec(e);if(O(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function St(e){return"string"==typeof e?xt.fromBase64String(e):xt.fromUint8Array(e)}const Et="server_timestamp",Ct="__type__",Tt="__previous_value__",At="__local_write_time__";function Nt(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ct])||void 0===t?void 0:t.stringValue)===Et}function _t(e){const t=e.mapValue.fields[Tt];return Nt(t)?_t(t):t}function jt(e){const t=wt(e.mapValue.fields[At].timestampValue);return new ye(t.seconds,t.nanos)}class It{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Pt="(default)";class Rt{constructor(e,t){this.projectId=e,this.database=t||Pt}static empty(){return new Rt("","")}get isDefaultDatabase(){return this.database===Pt}isEqual(e){return e instanceof Rt&&e.projectId===this.projectId&&e.database===this.database}}const Ot="__type__",Mt="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Mt}}}},Lt="__vector__",Ft="value";function Vt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nt(e)?4:nn(e)?9007199254740991:en(e)?10:11:P(28295,{value:e})}function Ut(e,t){if(e===t)return!0;const n=Vt(e);if(n!==Vt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jt(e).isEqual(jt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return St(e.bytesValue).isEqual(St(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kt(e.geoPointValue.latitude)===kt(t.geoPointValue.latitude)&&kt(e.geoPointValue.longitude)===kt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kt(e.integerValue)===kt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kt(e.doubleValue),r=kt(t.doubleValue);return n===r?Oe(n)===Oe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],Ut);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ct(n)!==ct(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ut(n[i],r[i])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function zt(e,t){return void 0!==(e.values||[]).find(e=>Ut(e,t))}function Bt(e,t){if(e===t)return 0;const n=Vt(e),r=Vt(t);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kt(e.integerValue||e.doubleValue),r=kt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qt(e.timestampValue,t.timestampValue);case 4:return qt(jt(e),jt(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=St(e),r=St(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=X(n[i],r[i]);if(0!==e)return e}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=X(kt(e.latitude),kt(t.latitude));return 0!==n?n:X(kt(e.longitude),kt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ht(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const a=e.fields||{},o=t.fields||{},l=null===(n=a[Ft])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Ft])||void 0===r?void 0:r.arrayValue,u=X((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ht(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Y(r[a],s[a]);if(0!==e)return e;const t=Bt(n[r[a]],i[s[a]]);if(0!==t)return t}return X(r.length,s.length)}(e.mapValue,t.mapValue);default:throw P(23264,{he:n})}}function qt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);const n=wt(e),r=wt(t),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function Ht(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bt(n[i],r[i]);if(e)return e}return X(n.length,r.length)}function Wt(e){return Kt(e)}function Kt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return St(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ae.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Kt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Kt(e.fields[i]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Gt(e){switch(Vt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_t(e);return t?16+Gt(t):16;case 5:return 2*e.stringValue.length;case 6:return St(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Gt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ut(e.fields,(e,n)=>{t+=e.length+Gt(n)}),t}(e.mapValue);default:throw P(13486,{value:e})}}function Qt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xt(e){return!!e&&"integerValue"in e}function Yt(e){return!!e&&"arrayValue"in e}function Jt(e){return!!e&&"nullValue"in e}function $t(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function en(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ot])||void 0===t?void 0:t.stringValue)===Lt}function tn(e){if(e.geoPointValue)return{geoPointValue:(0,s.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,s.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ut(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tn(e.arrayValue.values[n]);return t}return(0,s.A)({},e)}function nn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Mt}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tn(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tn(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ut(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rn(tn(this.value))}}function sn(e){const t=[];return ut(e.fields,(e,n)=>{const r=new se([e]);if(Zt(n)){const e=sn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new yt(t)}class an{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new an(e,0,ve.min(),ve.min(),ve.min(),rn.empty(),0)}static newFoundDocument(e,t,n,r){return new an(e,1,t,ve.min(),n,r,0)}static newNoDocument(e,t){return new an(e,2,t,ve.min(),ve.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,ve.min(),ve.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class on{constructor(e,t){this.position=e,this.inclusive=t}}function ln(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ae.comparator(ae.fromName(a.referenceValue),n.key):Bt(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function cn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ut(e.position[n],t.position[n]))return!1;return!0}class un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function dn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hn{}class pn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new Cn(e,n):"in"===t?new Tn(e,n):"not-in"===t?new An(e,n):"array-contains-any"===t?new Nn(e,n):new pn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kn(e,n):new Sn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Bt(t,this.value)):null!==t&&Vt(this.value)===Vt(t)&&this.matchesComparison(Bt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mn(e,t)}matches(e){return fn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fn(e){return"and"===e.op}function gn(e){return yn(e)&&fn(e)}function yn(e){for(const t of e.filters)if(t instanceof mn)return!1;return!0}function vn(e){if(e instanceof pn)return e.field.canonicalString()+e.op.toString()+Wt(e.value);if(gn(e))return e.filters.map(e=>vn(e)).join(",");{const t=e.filters.map(e=>vn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xn(e,t){return e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.field.isEqual(t.field)&&Ut(e.value,t.value)}(e,t):e instanceof mn?function(e,t){return t instanceof mn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&xn(n,t.filters[r]),!0)}(e,t):void P(19439)}function bn(e){return e instanceof pn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wt(e.value))}(e):e instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(bn).join(" ,")+"}"}(e):"Filter"}class wn extends pn{constructor(e,t,n){super(e,t,n),this.key=ae.fromName(n.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class kn extends pn{constructor(e,t){super(e,"in",t),this.keys=En("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sn extends pn{constructor(e,t){super(e,"not-in",t),this.keys=En("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function En(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ae.fromName(e.referenceValue))}class Cn extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yt(t)&&zt(t.arrayValue,this.value)}}class Tn extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zt(this.value.arrayValue,t)}}class An extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!zt(this.value.arrayValue,t)}}class Nn extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zt(this.value.arrayValue,e))}}class _n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function jn(e){return new _n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function In(e){const t=M(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>vn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Wt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Wt(e)).join(",")),t.Te=e}return t.Te}function Pn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cn(e.startAt,t.startAt)&&cn(e.endAt,t.endAt)}function Rn(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class On{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mn(e,t,n,r,i,s,a,o){return new On(e,t,n,r,i,s,a,o)}function Dn(e){return new On(e)}function Ln(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fn(e){return null!==e.collectionGroup}function Vn(e){const t=M(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ft(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new un(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new un(se.keyField(),n))}return t.Ie}function Un(e){const t=M(e);return t.Ee||(t.Ee=zn(t,Vn(e))),t.Ee}function zn(e,t){if("F"===e.limitType)return jn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new un(e.field,t)});const n=e.endAt?new on(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new on(e.startAt.position,e.startAt.inclusive):null;return jn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Bn(e,t){const n=e.filters.concat([t]);return new On(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qn(e,t,n){return new On(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hn(e,t){return Pn(Un(e),Un(t))&&e.limitType===t.limitType}function Wn(e){return"".concat(In(Un(e)),"|lt:").concat(e.limitType)}function Kn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>bn(e)).join(", "),"]")),Re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Wt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Wt(e)).join(",")),"Target(".concat(t,")")}(Un(e)),"; limitType=").concat(e.limitType,")")}function Gn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Vn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vn(e),t))&&!(e.endAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vn(e),t))}(e,t)}function Qn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xn(e){return(t,n)=>{let r=!1;for(const i of Vn(e)){const e=Yn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Yn(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bt(r,i):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class Jn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ut(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return dt(this.inner)}size(){return this.innerSize}}const $n=new ht(ae.comparator);function Zn(){return $n}const er=new ht(ae.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nr(e){let t=er;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rr(){return sr()}function ir(){return sr()}function sr(){return new Jn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ar=new ht(ae.comparator),or=new ft(ae.comparator);function lr(){let e=or;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const cr=new ft(X);function ur(){return cr}function dr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oe(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function pr(e,t){return Me(t)?hr(t):dr(e,t)}class mr{constructor(){this._=void 0}}function fr(e,t,n){return e instanceof vr?function(e,t){const n={fields:{[Ct]:{stringValue:Et},[At]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nt(t)&&(t=_t(t)),t&&(n.fields[Tt]=t),{mapValue:n}}(n,t):e instanceof xr?br(e,t):e instanceof wr?kr(e,t):function(e,t){const n=yr(e,t),r=Er(n)+Er(e.Ae);return Xt(n)&&Xt(e.Ae)?hr(r):dr(e.serializer,r)}(e,t)}function gr(e,t,n){return e instanceof xr?br(e,t):e instanceof wr?kr(e,t):n}function yr(e,t){return e instanceof Sr?function(e){return Xt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vr extends mr{}class xr extends mr{constructor(e){super(),this.elements=e}}function br(e,t){const n=Cr(t);for(const r of e.elements)n.some(e=>Ut(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends mr{constructor(e){super(),this.elements=e}}function kr(e,t){let n=Cr(t);for(const r of e.elements)n=n.filter(e=>!Ut(e,r));return{arrayValue:{values:n}}}class Sr extends mr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Er(e){return kt(e.integerValue||e.doubleValue)}function Cr(e){return Yt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tr{constructor(e,t){this.field=e,this.transform=t}}class Ar{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _r(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jr{}function Ir(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zr(e.key,Nr.none()):new Dr(e.key,e.data,Nr.none());{const n=e.data,r=rn.empty();let i=new ft(se.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lr(e.key,r,new yt(i.toArray()),Nr.none())}}function Pr(e,t,n){e instanceof Dr?function(e,t,n){const r=e.value.clone(),i=Vr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lr?function(e,t,n){if(!_r(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rr(e,t,n,r){return e instanceof Dr?function(e,t,n,r){if(!_r(e.precondition,t))return n;const i=e.value.clone(),s=Ur(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lr?function(e,t,n,r){if(!_r(e.precondition,t))return n;const i=Ur(e.fieldTransforms,r,t),s=t.data;return s.setAll(Fr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return _r(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Or(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yr(r.transform,e||null);null!=i&&(null===n&&(n=rn.empty()),n.set(r.field,i))}return n||null}function Mr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xr&&t instanceof xr||e instanceof wr&&t instanceof wr?ee(e.elements,t.elements,Ut):e instanceof Sr&&t instanceof Sr?Ut(e.Ae,t.Ae):e instanceof vr&&t instanceof vr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dr extends jr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lr extends jr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vr(e,t,n){const r=new Map;O(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,gr(a,o,n[i]))}return r}function Ur(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fr(e,s,t))}return r}class zr extends jr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Br extends jr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ir();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ir(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Mr(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Mr(e,t))}}class Hr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){O(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ar;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Hr(e,t,n,r)}}class Wr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,Qr;function Xr(e){switch(e){case D.OK:return P(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function Yr(e){if(void 0===e)return _("GRPC error has no .code"),D.UNKNOWN;switch(e){case Gr.OK:return D.OK;case Gr.CANCELLED:return D.CANCELLED;case Gr.UNKNOWN:return D.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return D.INTERNAL;case Gr.UNAVAILABLE:return D.UNAVAILABLE;case Gr.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Gr.NOT_FOUND:return D.NOT_FOUND;case Gr.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Gr.ABORTED:return D.ABORTED;case Gr.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Gr.DATA_LOSS:return D.DATA_LOSS;default:return P(39323,{code:e})}}(Qr=Gr||(Gr={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";let Jr=null;function $r(){return new TextEncoder}const Zr=new r([4294967295,4294967295],0);function ei(e){const t=$r().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function ti(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class ni{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ri("Invalid padding: ".concat(t));if(n<0)throw new ri("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ri("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ri("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ni(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ii{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,si.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ii(ve.min(),r,new ht(X),Zn(),lr())}}class si{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new si(n,t,lr(),lr(),lr())}}class ai{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class oi{constructor(e,t){this.targetId=e,this.Ce=t}}class li{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ci{constructor(){this.ve=0,this.Fe=hi(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lr(),t=lr(),n=lr();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:i})}}),new si(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=hi()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,O(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ui{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=di(),this.He=di(),this.Ye=new ht(X)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:P(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Rn(s))if(0===n){const e=new ae(s.path);this.et(t,e,an.newNoDocument(e,ve.min()))}else O(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Jr)||void 0===i||i.lt(function(e,t,n,r,i,s,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=St(n).toUint8Array()}catch(e){if(e instanceof vt)return j("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ni(s,r,i)}catch(e){return j(e instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Rn(i.target)){const t=new ae(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,an.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=lr();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ii(e,t,this.Ye,this.je,n);return this.je=Zn(),this.Je=di(),this.He=di(),this.Ye=new ht(X),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ci,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ft(X),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ft(X),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||N("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ci),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function di(){return new ht(ae.comparator)}function hi(){return new ht(ae.comparator)}const pi={asc:"ASCENDING",desc:"DESCENDING"},mi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fi={and:"AND",or:"OR"};class gi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yi(e,t){return e.useProto3Json||Re(t)?t:{value:t}}function vi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bi(e,t){return vi(e,t.toTimestamp())}function wi(e){return O(!!e,49232),ve.fromTimestamp(function(e){const t=wt(e);return new ye(t.seconds,t.nanos)}(e))}function ki(e,t){return Si(e,t).canonicalString()}function Si(e,t){const n=function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ei(e){const t=re.fromString(e);return O(Hi(t),10190,{key:t.toString()}),t}function Ci(e,t){return ki(e.databaseId,t.path)}function Ti(e,t){const n=Ei(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(ji(n))}function Ai(e,t){return ki(e.databaseId,t)}function Ni(e){const t=Ei(e);return 4===t.length?re.emptyPath():ji(t)}function _i(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ji(e){return O(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ii(e,t,n){return{name:Ci(e,t),fields:n.value.mapValue.fields}}function Pi(e,t){let n;if(t instanceof Dr)n={update:Ii(e,t.key,t.value)};else if(t instanceof zr)n={delete:Ci(e,t.key)};else if(t instanceof Lr)n={update:Ii(e,t.key,t.data),updateMask:qi(t.fieldMask)};else{if(!(t instanceof Br))return P(16599,{Vt:t.type});n={verify:Ci(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof vr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sr)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw P(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function Ri(e,t){return{documents:[Ai(e,t.path)]}}function Oi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ai(e,i);const s=function(e){if(0!==e.length)return Bi(mn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ui(e.field),direction:Li(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=yi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Mi(e){let t=Ni(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Di(e);return t instanceof mn&&gn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new un(zi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Re(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new on(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new on(n,t)}(n.endAt)),Mn(t,i,a,s,o,"F",l,c)}function Di(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zi(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zi(e.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zi(e.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zi(e.unaryFilter.field);return pn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return pn.create(zi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(e=>Di(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function Li(e){return pi[e]}function Fi(e){return mi[e]}function Vi(e){return fi[e]}function Ui(e){return{fieldPath:e.canonicalString()}}function zi(e){return se.fromServerFormat(e.fieldPath)}function Bi(e){return e instanceof pn?function(e){if("=="===e.op){if($t(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($t(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(e.field),op:Fi(e.op),value:e.value}}}(e):e instanceof mn?function(e){const t=e.getFilters().map(e=>Bi(e));return 1===t.length?t[0]:{compositeFilter:{op:Vi(e.op),filters:t}}}(e):P(54877,{filter:e})}function qi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ve.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ve.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ki{constructor(e){this.yt=e}}function Gi(e){const t=Mi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qn(t,t.limit,"L"):t}class Qi{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kt(e.integerValue));else if("doubleValue"in e){const n=kt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Oe(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=wt(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(St(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):en(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):P(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ft,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(kt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Qi.Kt=new Qi;class Xi{constructor(){this.Cn=new Yi}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getIndexType(e,t){return Ne.resolve(0)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,t){return Ne.resolve(Se.min())}getMinOffsetFromCollectionGroup(e,t){return Ne.resolve(Se.min())}updateCollectionGroup(e,t,n){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class Yi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ft(re.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ft(re.comparator)).toArray()}}new Uint8Array(0);const Ji={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$i=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi($i,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class es{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new es(0)}static cr(){return new es(-1)}}const ts="LruGarbageCollector",ns=1048576;function rs(e,t){let[n,r]=e,[i,s]=t;const a=X(n,i);return 0===a?X(r,s):a}class is{constructor(e){this.Ir=e,this.buffer=new ft(rs),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();rs(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ss{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){N(ts,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){je(e)?N(ts,"Ignoring IndexedDB error during garbage collection: ",e):await Ae(e)}await this.Vr(3e5)})}}class as{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Ie.ce);const n=new is(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Ji)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ji):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),A()<=l.$b.DEBUG&&N("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function os(e,t){return new as(e,t)}class ls{constructor(){this.changes=new Jn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class us{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rr(n.mutation,e,yt.empty(),ye.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr();const r=rr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Zn();const s=sr(),a=sr();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Lr)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Rr(a.mutation,t,a.mutation.getFieldMask(),ye.now())):s.set(t.key,yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new cs(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=sr();let r=new ht((e,t)=>e-t),i=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||yt.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||lr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ir();l.forEach(e=>{if(!i.has(e)){const r=Ir(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ne.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ne.resolve(rr());let a=xe,o=i;return s.next(t=>Ne.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ne.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,lr())).next(e=>({batchId:a,changes:nr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(e=>{let t=tr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=tr();return this.indexManager.getCollectionParents(e,i).next(a=>Ne.forEach(a,a=>{const o=function(e,t){return new On(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,an.newInvalidDocument(r)))});let n=tr();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Rr(s.mutation,r,yt.empty(),ye.now()),Gn(t,r)&&(n=n.insert(e,r))}),n})}}class ds{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wi(e.createTime)}}(t)),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Gi(e.bundledQuery),readTime:wi(e.readTime)}}(t)),Ne.resolve()}}class hs{constructor(){this.overlays=new ht(ae.comparator),this.qr=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rr();return Ne.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ne.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ne.resolve()}getOverlaysForCollection(e,t,n){const r=rr(),i=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ne.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ht((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=rr(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ne.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wr(t,n));let i=this.qr.get(t);void 0===i&&(i=lr(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class ps{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ne.resolve()}}class ms{constructor(){this.Qr=new ft(fs.$r),this.Ur=new ft(fs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new fs(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new fs(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ae(new re([])),n=new fs(t,e),r=new fs(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ae(new re([])),n=new fs(t,e),r=new fs(t,e+1);let i=lr();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new fs(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||X(e.Yr,t.Yr)}static Kr(e,t){return X(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}}class gs{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ft(fs.$r)}checkEmpty(e){return Ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qr(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new fs(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(s)}lookupMutationBatch(e,t){return Ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ne.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.mutationQueue.length?Pe:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fs(t,0),r=new fs(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ne.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(X);return t.forEach(e=>{const t=new fs(e,0),r=new fs(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ne.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ae.isDocumentKey(i)||(i=i.child(""));const s=new fs(new ae(i),0);let a=new ft(X);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Ne.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){O(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ne.forEach(t.mutations,r=>{const i=new fs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new fs(t,0),r=this.Zr.firstAfterOrEqual(n);return Ne.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ys{constructor(e){this.ri=e,this.docs=new ht(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ne.resolve(n?n.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let n=Zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():an.newInvalidDocument(e))}),Ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Zn();const s=t.path,a=new ae(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ee(ke(a),n)<=0||(r.has(a.key)||Gn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ne.resolve(i)}getAllFromCollectionGroup(e,t,n,r){P(9500)}ii(e,t){return Ne.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vs(this)}getSize(e){return Ne.resolve(this.size)}}class vs extends ls{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xs{constructor(e){this.persistence=e,this.si=new Jn(e=>In(e),Pn),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new ms,this.targetCount=0,this.ai=es.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new es(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.Pr(t),Ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ne.waitFor(i).next(()=>r)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ne.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ne.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ne.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ne.resolve(n)}containsKey(e,t){return Ne.resolve(this._i.containsKey(t))}}class bs{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ie(0),this.li=!1,this.li=!0,this.hi=new ps,this.referenceDelegate=e(this),this.Pi=new xs(this),this.indexManager=new Xi,this.remoteDocumentCache=function(e){return new ys(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Ki(t),this.Ii=new ds(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new gs(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){N("MemoryPersistence","Starting transaction:",e);const r=new ws(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ne.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class ws extends Te{constructor(e){super(),this.currentSequenceNumber=e}}class ks{constructor(e){this.persistence=e,this.Ri=new ms,this.Vi=null}static mi(e){return new ks(e)}get fi(){if(this.Vi)return this.Vi;throw P(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ne.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,n=>{const r=ae.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ve.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ss{constructor(e,t){this.persistence=e,this.pi=new Jn(e=>Le(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=os(this,t)}static mi(e,t){return new Ss(e,t)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ne.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ne.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ve.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gt(e.data.value)),t}br(e,t,n){return Ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ne.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Es{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=lr(),r=lr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Es(e,t.fromCache,n,r)}}class Cs{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ts{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:_e((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Cs;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(A()<=l.$b.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",Kn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(A()<=l.$b.DEBUG&&N("QueryEngine","Query:",Kn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(A()<=l.$b.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",Kn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):Ne.resolve())}ys(e,t){if(Ln(t))return Ne.resolve(null);let n=Un(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qn(t,null,"F"),n=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=lr(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,qn(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Ln(t)||r.isEqual(ve.min())?Ne.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Ne.resolve(null):(A()<=l.$b.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kn(t)),this.vs(e,s,t,we(r,xe)).next(e=>e))})}Ds(e,t){let n=new ft(Xn(e));return t.forEach((t,r)=>{Gn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return A()<=l.$b.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",Kn(t)),this.ps.getDocumentsMatchingQuery(e,t,Se.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const As="LocalStore",Ns=3e8;class _s{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ht(X),this.xs=new Jn(e=>In(e),Pn),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new us(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function js(e,t,n,r){return new _s(e,t,n,r)}async function Is(e,t){const n=M(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=lr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ps(e){const t=M(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Rs(e,t,n){let r=lr(),i=lr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Zn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ve.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):N(As,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Os(e,t){const n=M(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Pe),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ms(e,t){const n=M(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ne.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Wi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Ds(e,t,n){const r=M(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!je(e))throw e;N(As,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Ls(e,t,n){const r=M(e);let i=ve.min(),s=lr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=M(e),i=r.xs.get(n);return void 0!==i?Ne.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Un(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:ve.min(),n?s:lr())).next(e=>(Fs(r,Qn(t),e),{documents:e,Qs:s})))}function Fs(e,t,n){let r=e.Os.get(t)||ve.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Vs{constructor(){this.activeTargetIds=ur()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Us{constructor(){this.Mo=new Vs,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zs{Oo(e){}shutdown(){}}const Bs="ConnectivityMonitor";class qs{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){N(Bs,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){N(Bs,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hs=null;function Ws(){return null===Hs?Hs=268435456+Math.round(2147483648*Math.random()):Hs++,"0x"+Hs.toString(16)}const Ks="RestConnection",Gs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qs{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Pt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=Ws(),a=this.zo(e,t.toUriEncodedString());N(Ks,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),u=(0,c.zJ)(l);return this.Jo(e,a,o,n,u).then(t=>(N(Ks,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw j(Ks,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Gs[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Xs{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ys="WebChannelConnection";class Js extends Qs{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Ws();return new Promise((i,a)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(m.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:const n=o.getResponseJson();N(Ys,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case f.TIMEOUT:N(Ys,"RPC '".concat(e,"' ").concat(s," timed out")),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const r=o.getStatus();if(N(Ys,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(n.status);a(new L(e,n.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{N(Ys,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);N(Ys,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ws(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=x(),a=v(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");N(Ys,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const m=new Xs({Yo:t=>{h?N(Ys,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(N(Ys,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),N(Ys,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,p.EventType.OPEN,()=>{h||(N(Ys,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),m.o_())}),f(u,p.EventType.CLOSE,()=>{h||(h=!0,N(Ys,"RPC '".concat(e,"' stream ").concat(r," transport closed")),m.a_(),this.E_(u))}),f(u,p.EventType.ERROR,t=>{h||(h=!0,j(Ys,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),m.a_(new L(D.UNAVAILABLE,"The operation could not be completed")))}),f(u,p.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];O(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){N(Ys,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Gr[e];if(void 0!==t)return Yr(t)}(t),i=a.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,m.a_(new L(n,i)),u.close()}else N(Ys,"RPC '".concat(e,"' stream ").concat(r," received:"),i),m.u_(i)}}),f(a,y.STAT_EVENT,t=>{t.stat===g.PROXY?N(Ys,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&N(Ys,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function $s(){return"undefined"!=typeof document?document:null}function Zs(e){return new gi(e,!0)}class ea{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&N("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ta="PersistentStream";class na{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ea(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new L(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return N(ta,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(N(ta,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ra extends na{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(O(void 0===t||"string"==typeof t,58123),xt.fromBase64String(t||"")):(O(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),xt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?D.UNKNOWN:Yr(e.code);return new L(t,e.message||"")}(a);n=new li(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ti(e,r.document.name),s=wi(r.document.updateTime),a=r.document.createTime?wi(r.document.createTime):ve.min(),o=new rn({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ai(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ti(e,r.document),s=r.readTime?wi(r.readTime):ve.min(),a=an.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ai([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ti(e,r.document),s=r.removedTargetIds||[];n=new ai([],s,i,null)}else{if(!("filter"in t))return P(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Kr(r,i),a=e.targetId;n=new oi(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ve.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ve.min():t.readTime?wi(t.readTime):ve.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=_i(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rn(r)?{documents:Ri(e,r)}:{query:Oi(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xi(e,t.resumeToken);const r=yi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ve.min())>0){n.readTime=vi(e,t.snapshotVersion.toTimestamp());const r=yi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=_i(this.serializer),t.removeTarget=e,this.q_(t)}}class ia extends na{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return O(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,O(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){O(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(O(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?wi(e.updateTime):wi(t);return n.isEqual(ve.min())&&(n=wi(t)),new Ar(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=wi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_i(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Pi(this.serializer,e))};this.q_(t)}}class sa{}class aa extends sa{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,Si(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,Si(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oa{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(_(t),this.aa=!1):N("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class ca{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{va(this)&&(N(la,"Restarting streams for network reachability change."),await async function(e){const t=M(e);t.Ea.add(4),await da(t),t.Ra.set("Unknown"),t.Ea.delete(4),await ua(t)}(this))})}),this.Ra=new oa(n,r)}}async function ua(e){if(va(e))for(const t of e.da)await t(!0)}async function da(e){for(const t of e.da)await t(!1)}function ha(e,t){const n=M(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ya(n)?ga(n):La(n).O_()&&ma(n,t))}function pa(e,t){const n=M(e),r=La(n);n.Ia.delete(t),r.O_()&&fa(n,t),0===n.Ia.size&&(r.O_()?r.L_():va(n)&&n.Ra.set("Unknown"))}function ma(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}La(e).Y_(t)}function fa(e,t){e.Va.Ue(t),La(e).Z_(t)}function ga(e){e.Va=new ui({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),La(e).start(),e.Ra.ua()}function ya(e){return va(e)&&!La(e).x_()&&e.Ia.size>0}function va(e){return 0===M(e).Ea.size}function xa(e){e.Va=void 0}async function ba(e){e.Ra.set("Online")}async function wa(e){e.Ia.forEach((t,n)=>{ma(e,t)})}async function ka(e,t){xa(e),ya(e)?(e.Ra.ha(t),ga(e)):e.Ra.set("Unknown")}async function Sa(e,t,n){if(e.Ra.set("Online"),t instanceof li&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){N(la,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ea(e,n)}else if(t instanceof ai?e.Va.Ze(t):t instanceof oi?e.Va.st(t):e.Va.tt(t),!n.isEqual(ve.min()))try{const t=await Ps(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(xt.EMPTY_BYTE_STRING,r.snapshotVersion)),fa(e,t);const i=new Wi(r.target,t,n,r.sequenceNumber);ma(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){N(la,"Failed to raise snapshot:",t),await Ea(e,t)}}async function Ea(e,t,n){if(!je(t))throw t;e.Ea.add(1),await da(e),e.Ra.set("Offline"),n||(n=()=>Ps(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{N(la,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ua(e)})}function Ca(e,t){return t().catch(n=>Ea(e,n,t))}async function Ta(e){const t=M(e),n=Fa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pe;for(;Aa(t);)try{const e=await Os(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Na(t,e)}catch(e){await Ea(t,e)}_a(t)&&ja(t)}function Aa(e){return va(e)&&e.Ta.length<10}function Na(e,t){e.Ta.push(t);const n=Fa(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _a(e){return va(e)&&!Fa(e).x_()&&e.Ta.length>0}function ja(e){Fa(e).start()}async function Ia(e){Fa(e).ra()}async function Pa(e){const t=Fa(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ra(e,t,n){const r=e.Ta.shift(),i=Hr.from(r,t,n);await Ca(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ta(e)}async function Oa(e,t){t&&Fa(e).X_&&await async function(e,t){if(function(e){return Xr(e)&&e!==D.ABORTED}(t.code)){const n=e.Ta.shift();Fa(e).B_(),await Ca(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ta(e)}}(e,t),_a(e)&&ja(e)}async function Ma(e,t){const n=M(e);n.asyncQueue.verifyOperationInProgress(),N(la,"RemoteStore received new credentials");const r=va(n);n.Ea.add(3),await da(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ua(n)}async function Da(e,t){const n=M(e);t?(n.Ea.delete(2),await ua(n)):t||(n.Ea.add(2),await da(n),n.Ra.set("Unknown"))}function La(e){return e.ma||(e.ma=function(e,t,n){const r=M(e);return r.sa(),new ra(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ba.bind(null,e),t_:wa.bind(null,e),r_:ka.bind(null,e),H_:Sa.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ya(e)?ga(e):e.Ra.set("Unknown")):(await e.ma.stop(),xa(e))})),e.ma}function Fa(e){return e.fa||(e.fa=function(e,t,n){const r=M(e);return r.sa(),new ia(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ia.bind(null,e),r_:Oa.bind(null,e),ta:Pa.bind(null,e),na:Ra.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Ta(e)):(await e.fa.stop(),e.Ta.length>0&&(N(la,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Va{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Va(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ua(e,t){if(_("AsyncQueue","".concat(t,": ").concat(e)),je(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ae.comparator(t.key,n.key):(e,t)=>ae.comparator(e.key,t.key),this.keyedMap=tr(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof za))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new za;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ba{constructor(){this.ga=new ht(ae.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):P(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class qa{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new qa(e,t,za.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ha{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Wa{constructor(){this.queries=Ka(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=M(e),r=n.queries;n.queries=Ka(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new L(D.ABORTED,"Firestore shutting down"))}}function Ka(){return new Jn(e=>Wn(e),Hn)}async function Ga(e,t){const n=M(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Ha,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ua(e,"Initialization of query '".concat(Kn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Ja(n)}async function Qa(e,t){const n=M(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xa(e,t){const n=M(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Ja(n)}function Ya(e,t,n){const r=M(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Ja(e){e.Ca.forEach(e=>{e.next()})}var $a,Za;(Za=$a||($a={})).Ma="default",Za.Cache="cache";class eo{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qa(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$a.Cache}}class to{constructor(e){this.key=e}}class no{constructor(e){this.key=e}}class ro{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lr(),this.mutatedKeys=lr(),this.eu=Xn(e),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Ba,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Gn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new qa(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ba,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lr(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new no(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new to(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=lr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const io="SyncEngine";class so{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ao{constructor(e){this.key=e,this.hu=!1}}class oo{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Jn(e=>Wn(e),Hn),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ae.comparator),this.Au=new Map,this.Ru=new ms,this.Vu={},this.mu=new Map,this.fu=es.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=jo(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await uo(r,t,n,!0),i}async function co(e,t){const n=jo(e);await uo(n,t,!0,!1)}async function uo(e,t,n,r){const i=await Ms(e.localStore,Un(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await ho(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ha(e.remoteStore,i),o}async function ho(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Ls(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Eo(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Ls(e.localStore,t,!0),a=new ro(t,s.Qs),o=a.ru(s.documents),l=si.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Eo(e,n,c.au);const u=new so(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function po(e,t,n){const r=M(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Hn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ds(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pa(r.remoteStore,i.targetId),ko(r,i.targetId)}).catch(Ae)):(ko(r,i.targetId),await Ds(r.localStore,i.targetId,!0))}async function mo(e,t){const n=M(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pa(n.remoteStore,r.targetId))}async function fo(e,t){const n=M(e);try{const e=await function(e,t){const n=M(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Ns||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Zn(),l=lr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Rs(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(ve.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ne.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(O(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?O(r.hu,14607):e.removedDocuments.size>0&&(O(r.hu,42227),r.hu=!1))}),await Ao(n,e,t)}catch(e){await Ae(e)}}function go(e,t,n){const r=M(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=M(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Ja(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yo(e,t,n){const r=M(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new ht(ae.comparator);e=e.insert(s,an.newNoDocument(s,ve.min()));const n=lr().add(s),i=new ii(ve.min(),new Map,new ht(X),e,n);await fo(r,i),r.du=r.du.remove(s),r.Au.delete(t),To(r)}else await Ds(r.localStore,t,!1).then(()=>ko(r,t,n)).catch(Ae)}async function vo(e,t){const n=M(e),r=t.batch.batchId;try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ne.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);O(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wo(n,r,null),bo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(n,e)}catch(e){await Ae(e)}}async function xo(e,t,n){const r=M(e);try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(O(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wo(r,t,n),bo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ao(r,e)}catch(n){await Ae(n)}}function bo(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wo(e,t,n){const r=M(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||So(e,t)})}function So(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(pa(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),To(e))}function Eo(e,t,n){for(const r of n)r instanceof to?(e.Ru.addReference(r.key,t),Co(e,r)):r instanceof no?(N(io,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||So(e,r.key)):P(19791,{wu:r})}function Co(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(N(io,"New document in limbo: "+n),e.Eu.add(r),To(e))}function To(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ae(re.fromString(t)),r=e.fu.next();e.Au.set(r,new ao(n)),e.du=e.du.insert(n,r),ha(e.remoteStore,new Wi(Un(Dn(n.path)),r,"TargetPurposeLimboResolution",Ie.ce))}}async function Ao(e,t,n){const r=M(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Es.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=M(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ne.forEach(t,t=>Ne.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ne.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!je(e))throw e;N(As,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function No(e,t){const n=M(e);if(!n.currentUser.isEqual(t)){N(io,"User change. New user:",t.toKey());const e=await Is(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new L(D.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ao(n,e.Ls)}}function _o(e,t){const n=M(e),r=n.Au.get(t);if(r&&r.hu)return lr().add(r.key);{let e=lr();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function jo(e){const t=M(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_o.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yo.bind(null,t),t.Pu.H_=Xa.bind(null,t.eventManager),t.Pu.yu=Ya.bind(null,t.eventManager),t}function Io(e){const t=M(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xo.bind(null,t),t}class Po{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zs(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return js(this.persistence,new Ts,e.initialUser,this.serializer)}Cu(e){return new bs(ks.mi,this.serializer)}Du(e){return new Us}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Po.provider={build:()=>new Po};class Ro extends Po{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){O(this.persistence.referenceDelegate instanceof Ss,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ss(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new bs(e=>Ss.mi(e,t),this.serializer)}}class Oo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>go(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=No.bind(null,this.syncEngine),await Da(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wa}createDatastore(e){const t=Zs(e.databaseInfo.databaseId),n=function(e){return new Js(e)}(e.databaseInfo);return function(e,t,n,r){return new aa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ca(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>go(this.syncEngine,e,0),qs.v()?new qs:new zs)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new oo(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=M(e);N(la,"RemoteStore shutting down."),t.Ea.add(5),await da(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Oo.provider={build:()=>new Oo};class Mo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Do="FirestoreClient";class Lo{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{N(Do,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(N(Do,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ua(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fo(e,t){e.asyncQueue.verifyOperationInProgress(),N(Do,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Is(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uo(e);N(Do,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ma(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ma(t.remoteStore,n)),e._onlineComponents=t}async function Uo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){N(Do,"Using user provided OfflineComponentProvider");try{await Fo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;j("Error using user provided cache. Falling back to memory cache: "+n),await Fo(e,new Po)}}else N(Do,"Using default OfflineComponentProvider"),await Fo(e,new Ro(void 0));return e._offlineComponents}async function zo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(N(Do,"Using user provided OnlineComponentProvider"),await Vo(e,e._uninitializedComponentsProvider._online)):(N(Do,"Using default OnlineComponentProvider"),await Vo(e,new Oo))),e._onlineComponents}function Bo(e){return zo(e).then(e=>e.syncEngine)}async function qo(e){const t=await zo(e),n=t.eventManager;return n.onListen=lo.bind(null,t.syncEngine),n.onUnlisten=po.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=co.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mo.bind(null,t.syncEngine),n}function Ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Mo({next:o=>{s.Nu(),t.enqueueAndForget(()=>Qa(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new eo(Dn(n.path),s,{includeMetadataChanges:!0,qa:!0});return Ga(e,a)}(await qo(e),e.asyncQueue,t,n,r)),r.promise}function Wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Mo({next:n=>{s.Nu(),t.enqueueAndForget(()=>Qa(e,a)),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new eo(n,s,{includeMetadataChanges:!0,qa:!0});return Ga(e,a)}(await qo(e),e.asyncQueue,t,n,r)),r.promise}function Ko(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Go=new Map,Qo="firestore.googleapis.com",Xo=!0;class Yo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qo,this.ssl=Xo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=$i;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ns)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ko(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Go.get(e);t&&(N("ComponentProvider","Removing Datastore"),Go.delete(e),t.terminate())}(this),Promise.resolve()}}class $o{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class Zo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}toJSON(){return{type:Zo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(me(t,Zo._jsonSchema))return new Zo(e,n||null,new ae(re.fromString(t.referencePath)))}}Zo._jsonSchemaVersion="firestore/documentReference/1.0",Zo._jsonSchema={type:pe("string",Zo._jsonSchemaVersion),referencePath:pe("string")};class el extends $o{constructor(e,t,n){super(e,t,Dn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new ae(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function tl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),oe("collection","path",t),e instanceof Jo){const n=re.fromString(t,...r);return ce(n),new el(e,null,n)}{if(!(e instanceof Zo||e instanceof el))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return ce(n),new el(e.firestore,null,n)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Q.newId()),oe("doc","path",t),e instanceof Jo){const n=re.fromString(t,...r);return le(n),new Zo(e,null,new ae(n))}{if(!(e instanceof Zo||e instanceof el))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return le(n),new Zo(e.firestore,e instanceof el?e.converter:null,new ae(n))}}const rl="AsyncQueue";class il{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ea(this,"async_queue_retry"),this._c=()=>{const e=$s();e&&N(rl,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=$s();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$s();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new F;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!je(e))throw e;N(rl,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,_("INTERNAL UNHANDLED ERROR: ",sl(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Va.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&P(47125,{Pc:sl(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class al extends Jo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new il,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new il(e),this._firestoreClient=void 0,await e}}}function ol(e,t){const n="object"==typeof e?e:(0,a.Sx)(),r="string"==typeof e?e:t||Pt,i=(0,a.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=he(e,Jo);const i=(0,c.zJ)(t),a=e._getSettings(),o=(0,s.A)((0,s.A)({},a),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),a.host!==Qo&&a.host!==l&&j("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,s.A)((0,s.A)({},a),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=E.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(i)}e._authCredentials=new z(new V(t,n))}}(i,...e)}return i}function ll(e){if(e._terminated)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cl(e),e._firestoreClient}function cl(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new It(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ko(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Lo(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(xt.fromBase64String(e))}catch(e){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ul(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ul._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(me(e,ul._jsonSchema))return ul.fromBase64String(e.bytes)}}ul._jsonSchemaVersion="firestore/bytes/1.0",ul._jsonSchema={type:pe("string",ul._jsonSchemaVersion),bytes:pe("string")};class dl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hl{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pl._jsonSchemaVersion}}static fromJSON(e){if(me(e,pl._jsonSchema))return new pl(e.latitude,e.longitude)}}pl._jsonSchemaVersion="firestore/geoPoint/1.0",pl._jsonSchema={type:pe("string",pl._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};class ml{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ml._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(me(e,ml._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ml(e.vectorValues);throw new L(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ml._jsonSchemaVersion="firestore/vectorValue/1.0",ml._jsonSchema={type:pe("string",ml._jsonSchemaVersion),vectorValues:pe("object")};const fl=/^__.*__$/;class gl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dr(e,this.data,t,this.fieldTransforms)}}class yl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{Ac:e})}}class xl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xl((0,s.A)((0,s.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ml(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(vl(this.Ac)&&fl.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Zs(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xl({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(e){const t=e._freezeSettings(),n=Zs(e._databaseId);return new bl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kl(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Il("Data must be an object, but it was:",a,r);const o=_l(r,a);let l,c;if(s.merge)l=new yt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Pl(t,r,n);if(!a.contains(i))throw new L(D.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Dl(e,i)||e.push(i)}l=new yt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new gl(new rn(o),l,c)}class Sl extends hl{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sl}}class El extends hl{_toFieldTransform(e){return new Tr(e.path,new vr)}isEqual(e){return e instanceof El}}function Cl(e,t,n,r){const i=e.Cc(1,t,n);Il("Data must be an object, but it was:",i,r);const s=[],a=rn.empty();ut(r,(e,r)=>{const o=Ol(t,e,n);r=(0,c.Ku)(r);const l=i.yc(o);if(r instanceof Sl)s.push(o);else{const e=Nl(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new yt(s);return new yl(a,o,i.fieldTransforms)}function Tl(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Pl(t,r,n)],l=[i];if(s.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<s.length;c+=2)o.push(Pl(t,s[c])),l.push(s[c+1]);const u=[],d=rn.empty();for(let p=o.length-1;p>=0;--p)if(!Dl(u,o[p])){const e=o[p];let t=l[p];t=(0,c.Ku)(t);const n=a.yc(e);if(t instanceof Sl)u.push(e);else{const r=Nl(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new yt(u);return new yl(d,h,a.fieldTransforms)}function Al(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nl(n,e.Cc(r?4:3,t))}function Nl(e,t){if(jl(e=(0,c.Ku)(e)))return Il("Unsupported field value:",t,e),_l(e,t);if(e instanceof hl)return function(e,t){if(!vl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Nl(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ye.fromDate(e);return{timestampValue:vi(t.serializer,n)}}if(e instanceof ye){const n=new ye(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vi(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ul)return{bytesValue:xi(t.serializer,e._byteString)};if(e instanceof Zo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ki(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ml)return function(e,t){return{mapValue:{fields:{[Ot]:{stringValue:Lt},[Ft]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return dr(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(de(e)))}(e,t)}function _l(e,t){const n={};return dt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ut(e,(e,r)=>{const i=Nl(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function jl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ye||e instanceof pl||e instanceof ul||e instanceof Zo||e instanceof hl||e instanceof ml)}function Il(e,t,n){if(!jl(n)||!ue(n)){const r=de(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Pl(e,t,n){if((t=(0,c.Ku)(t))instanceof dl)return t._internalPath;if("string"==typeof t)return Ol(e,t);throw Ml("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rl=new RegExp("[~\\*/\\[\\]]");function Ol(e,t,n){if(t.search(Rl)>=0)throw Ml("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dl(...t.split("."))._internalPath}catch(r){throw Ml("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ml(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new L(D.INVALID_ARGUMENT,o+e+l)}function Dl(e,t){return e.some(e=>e.isEqual(t))}class Ll{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fl extends Ll{data(){return super.data()}}function Vl(e,t){return"string"==typeof t?Ol(e,t):t instanceof dl?t._internalPath:t._delegate._internalPath}function Ul(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zl{}class Bl extends zl{}function ql(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof zl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Kl).length,n=e.filter(e=>e instanceof Hl).length;if(t>1||t>0&&n>0)throw new L(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Hl extends Bl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hl(e,t,n)}_apply(e){const t=this._parse(e);return Xl(e._query,t),new $o(e.firestore,e.converter,Bn(e._query,t))}_parse(e){const t=wl(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new L(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Ql(a,s);const t=[];for(const n of a)t.push(Gl(r,e,n));o={arrayValue:{values:t}}}else o=Gl(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ql(a,s),o=Al(n,t,a,"in"===s||"not-in"===s);return pn.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wl(e,t,n){const r=t,i=Vl("where",e);return Hl._create(i,r,n)}class Kl extends zl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xl(n,i),n=Bn(n,i)}(e._query,t),new $o(e.firestore,e.converter,Bn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gl(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fn(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(re.fromString(n));if(!ae.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qt(e,new ae(r))}if(n instanceof Zo)return Qt(e,n._key);throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(de(n),"."))}function Ql(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Yl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(St(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ut(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ft].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>kt(e.doubleValue));return new ml(n)}convertGeoPoint(e){return new pl(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_t(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jt(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=re.fromString(e);O(Hi(n),9688,{name:e});const r=new Rt(n.get(1),n.get(3)),i=new ae(n.popFirst(5));return r.isEqual(t)||_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Jl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends Ll{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:pe("string",Zl._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class ec extends Zl{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class tc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $l(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ec(this._firestore,this._userDataWriter,n.key,n,new $l(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ec(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $l(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ec(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $l(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:nc(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function rc(e){e=he(e,Zo);const t=he(e.firestore,al);return Ho(ll(t),e._key).then(n=>uc(t,e,n))}tc._jsonSchemaVersion="firestore/querySnapshot/1.0",tc._jsonSchema={type:pe("string",tc._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};class ic extends Yl{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function sc(e){e=he(e,$o);const t=he(e.firestore,al),n=ll(t),r=new ic(t);return Ul(e._query),Wo(n,e._query).then(n=>new tc(t,r,e,n))}function ac(e,t,n){e=he(e,Zo);const r=he(e.firestore,al),i=Jl(e.converter,t,n);return cc(r,[kl(wl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Nr.none())])}function oc(e,t,n){e=he(e,Zo);const r=he(e.firestore,al),i=wl(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,c.Ku)(t))||t instanceof dl?Tl(i,"updateDoc",e._key,t,n,o):Cl(i,"updateDoc",e._key,t),cc(r,[s.toMutation(e._key,Nr.exists(!0))])}function lc(e,t){const n=he(e.firestore,al),r=nl(e),i=Jl(e.converter,t);return cc(n,[kl(wl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function cc(e,t){return function(e,t){const n=new F;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Io(e);try{const e=await function(e,t){const n=M(e),r=ye.now(),i=t.reduce((e,t)=>e.add(t.key),lr());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Zn(),l=lr();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Or(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Lr(e.key,t,sn(t.value.mapValue),Nr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:nr(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ht(X)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ao(r,e.changes),await Ta(r.remoteStore)}catch(e){const t=Ua(e,"Failed to persist write");n.reject(t)}}(await Bo(e),t,n)),n.promise}(ll(e),t)}function uc(e,t,n){const r=n.docs.get(t._key),i=new ic(e);return new Zl(e,i,t._key,r,new $l(n.hasPendingWrites,n.fromCache),t.converter)}class dc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wl(e)}set(e,t,n){this._verifyNotCommitted();const r=hc(e,this._firestore),i=Jl(r.converter,t,n),s=kl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Nr.none())),this}update(e,t,n){this._verifyNotCommitted();const r=hc(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=(0,c.Ku)(t))||t instanceof dl?Tl(this._dataReader,"WriteBatch.update",r._key,t,n,a):Cl(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hc(e,this._firestore);return this._mutations=this._mutations.concat(new zr(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hc(e,t){if((e=(0,c.Ku)(e)).firestore!==t)throw new L(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function pc(){return new El("serverTimestamp")}function mc(e){return ll(e=he(e,al)),new dc(e,t=>cc(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(a.MF),(0,a.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new al(new B(e.getProvider("auth-internal")),new K(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rt(e.options.projectId,t)}(a,r),a);return i=(0,s.A)({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(k,S,e),(0,a.KO)(k,S,"esm2020")}()},875:(e,t,n)=>{e.exports=n(908)},886:(e,t,n)=>{n.d(t,{cY:()=>f,FA:()=>O,g:()=>R,u:()=>l,Uj:()=>o,Fy:()=>v,tD:()=>B,bD:()=>L,hp:()=>z,T9:()=>p,Tj:()=>d,yU:()=>h,XA:()=>m,mS:()=>c,Ku:()=>W,ZQ:()=>k,sr:()=>T,zJ:()=>g,c1:()=>C,Im:()=>D,lT:()=>N,zW:()=>I,jZ:()=>S,lV:()=>A,nr:()=>_,Ov:()=>j,gE:()=>y,Am:()=>V,I9:()=>U,P1:()=>w,eX:()=>P});var r=n(578);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==l)throw new a;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000/api",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyBxohu9tOMRj4_A3HU-ZUcz5V82sSoH768"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},m=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function y(e){return(await fetch(e,{credentials:"include"})).ok}function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}const x={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||x[e]===t||x[e]||b)return;function n(e){return"__firebase__banner__".concat(e)}x[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(x))x[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function E(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function A(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){const e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return!E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return!E()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(M,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,s,t)}}const M=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(F(n)&&F(s)){if(!L(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function B(e,t){const n=new q(e,t);return n.subscribe.bind(n)}class q{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function W(e){return e&&e._delegate?e._delegate:e}},908:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!f)if(null!==r(c))f=!0,R(k);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function k(e,n){f=!1,g&&(g=!1,v(T),T=-1),m=!0;var s=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,p=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,A=5,N=-1;function _(){return!(t.unstable_now()-N<A)}function j(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof x)S=function(){x(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=j,S=function(){P.postMessage(null)}}else S=function(){y(j,0)};function R(e){C=e,E||(E=!0,S())}function O(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,O(w,s-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,R(k))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".15f435ac.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="algo-duo-frontend:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkalgo_duo_frontend=self.webpackChunkalgo_duo_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(533),s=n.t(i,2),a=n(117);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=r.Pop,f=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){m=r.Pop;let e=y(),t=null==e?null:e-g;g=e,f&&f({action:m,location:b.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return m},get location(){return e(s,u)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),f=e,()=>{s.removeEventListener(l,v),f=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=r.Push;let i=h(b.location,e,t);n&&n(i,e),g=y()+1;let o=d(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&f&&f({action:m,location:b.location,delta:1})},replace:function(e,t){m=r.Replace;let i=h(b.location,e,t);n&&n(i,e),g=y();let s=d(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&f&&f({action:m,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=I(i);a=_(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=b(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,k=3,S=2,E=1,C=10,T=-2,A=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=T),t&&(r+=S),n.filter(e=>!A(e)).reduce((e,t)=>e+(w.test(t)?k:""===t?E:C),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([s,u.pathname]),pathnameBase:F(L([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=L([s,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:U(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function J(){return null!=i.useContext(Q)}function $(){return J()||c(!1),i.useContext(Q).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=pe(ue.UseNavigateStable),n=i.useRef(!1);Z(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t]);return r}():function(){J()||c(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(X),{pathname:a}=$(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=D(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function te(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(X),{pathname:a}=$(),o=JSON.stringify(M(s,r.v7_relativeSplatPath));return i.useMemo(()=>D(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function re(e,t,n,s){J()||c(!1);let{navigator:a}=i.useContext(G),{matches:o}=i.useContext(X),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=$();if(t){var f;let e="string"===typeof t?m(t):t;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||c(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(e,{pathname:v});let b=le(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?i.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(Y),n=he(ue.UseRouteError),r=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,c=!1,h=null,p=null;var m;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===s?(m="route-fallback",!1||me[m]||(me[m]=!0),c=!0,p=null):d===s&&(c=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=i.useContext(K);return t||c(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;J()||c(!1);let{future:a,static:o}=i.useContext(G),{matches:l}=i.useContext(X),{pathname:u}=$(),d=ee(),h=D(t,M(l,a.v7_relativeSplatPath),u,"path"===s),p=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function ye(e){c(!1)}function ve(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;J()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=m(s));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:v="default"}=s,x=i.useMemo(()=>{let e=P(p,d);return null==e?null:{location:{pathname:e,search:f,hash:g,state:y,key:v},navigationType:a}},[d,p,f,g,y,v,a]);return null==x?null:i.createElement(G.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:x}))}function xe(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),n.push(a)}),n}var we=n(572),ke=n.t(we,2);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Wc){}new Map;const Te=s.startTransition;ke.flushSync,s.useId;function Ae(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},m=i.useCallback(e=>{d&&Te?Te(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(m),[l,m]),i.useEffect(()=>fe(r),[r]),i.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,f=Ee(e,Ce),{basename:g}=i.useContext(G),y=!1;if("string"===typeof d&&_e.test(d)&&(n=d,Ne))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(Wc){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:L([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),x=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=$(),d=ne(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});return i.createElement("a",Se({},f,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:u}))});var Ie,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Re=n(465);const Oe=()=>{const{level:e,totalXP:t,streakDays:n,lessonsCompleted:r,rank:i}={level:2,totalXP:145,streakDays:3,lessonsCompleted:2,rank:"Learner"};return(0,Re.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#1a1a2e",color:"white",fontFamily:"Arial, sans-serif"},children:[(0,Re.jsxs)("nav",{style:{backgroundColor:"#16213e",padding:"15px",marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #6c5ce7"},children:[(0,Re.jsx)(je,{to:"/",style:{textDecoration:"none"},children:(0,Re.jsx)("h1",{style:{margin:0,color:"#00ff88",display:"flex",alignItems:"center",gap:"10px"},children:"\ud83d\ude80 Code Pilot"})}),(0,Re.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[(0,Re.jsx)(je,{to:"/daily-challenge",style:{color:"#74b9ff",textDecoration:"none",fontWeight:"bold"},children:"\ud83c\udfaf Daily Challenge"}),(0,Re.jsx)(je,{to:"/progress",style:{color:"#74b9ff",textDecoration:"none",fontWeight:"bold"},children:"\ud83d\udcca Progress"}),(0,Re.jsx)(je,{to:"/achievements",style:{color:"#74b9ff",textDecoration:"none",fontWeight:"bold"},children:"\ud83c\udfc6 Achievements"}),(0,Re.jsx)(je,{to:"/playground",style:{color:"#74b9ff",textDecoration:"none",fontWeight:"bold"},children:"\ud83d\udcbb Playground"})]}),(0,Re.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,Re.jsxs)("span",{style:{backgroundColor:"#6c5ce7",padding:"8px 16px",borderRadius:"20px",fontWeight:"bold"},children:["\u2b50 ",t," XP"]}),(0,Re.jsxs)("span",{style:{backgroundColor:"#fd79a8",padding:"8px 16px",borderRadius:"20px",fontWeight:"bold"},children:["\ud83d\udd25 ",n," days"]}),(0,Re.jsxs)("span",{style:{backgroundColor:"#00b894",padding:"8px 16px",borderRadius:"20px",fontWeight:"bold"},children:["\ud83c\udf96\ufe0f Level ",e," (",i,")"]}),(0,Re.jsx)(je,{to:"/profile",style:{textDecoration:"none"},children:(0,Re.jsx)("button",{style:{backgroundColor:"#6c5ce7",padding:"8px 16px",borderRadius:"20px",fontWeight:"bold",border:"none",color:"white",cursor:"pointer",transition:"transform 0.2s ease, background-color 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#5f4ed6",e.currentTarget.style.transform="scale(1.05)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#6c5ce7",e.currentTarget.style.transform="scale(1)"},children:"\ud83d\udc64 Profile"})})]})]}),(0,Re.jsxs)("div",{style:{padding:"0 20px"},children:[(0,Re.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,Re.jsx)("h1",{style:{fontSize:"3rem",background:"linear-gradient(45deg, #6c5ce7, #74b9ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"20px"},children:"Learn DSA the Fun Way! \ud83c\udfaf"}),(0,Re.jsx)("p",{style:{fontSize:"1.2rem",color:"#b2bec3",maxWidth:"600px",margin:"0 auto"},children:"Master data structures and algorithms with interactive lessons, gamification, and daily challenges."})]}),(0,Re.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"40px"},children:[(0,Re.jsxs)("div",{style:{backgroundColor:"#2d3436",padding:"25px",borderRadius:"12px",border:"2px solid #6c5ce7",cursor:"pointer",transition:"transform 0.3s ease"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,Re.jsx)("h3",{style:{color:"#6c5ce7",marginBottom:"15px"},children:"\ud83d\udcda Interactive Lessons"}),(0,Re.jsx)("p",{style:{color:"#ddd"},children:"Learn step-by-step with hands-on examples and visual explanations."}),(0,Re.jsx)("div",{style:{marginTop:"15px"},children:(0,Re.jsxs)("span",{style:{backgroundColor:"#6c5ce7",color:"white",padding:"5px 15px",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"bold"},children:[r," completed"]})})]}),(0,Re.jsx)(je,{to:"/playground",style:{textDecoration:"none",color:"inherit"},children:(0,Re.jsxs)("div",{style:{backgroundColor:"#2d3436",padding:"25px",borderRadius:"12px",border:"2px solid #00b894",cursor:"pointer",transition:"transform 0.3s ease",height:"100%"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,Re.jsx)("h3",{style:{color:"#00b894",marginBottom:"15px"},children:"\ud83c\udfc6 Daily Challenge"}),(0,Re.jsx)("p",{style:{color:"#ddd"},children:"Test your skills with today's coding challenge and earn bonus points!"}),(0,Re.jsx)("div",{style:{marginTop:"15px"},children:(0,Re.jsx)("span",{style:{backgroundColor:"#00b894",color:"white",padding:"5px 15px",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"bold"},children:"+50 XP Today"})})]})}),(0,Re.jsx)(je,{to:"/playground",style:{textDecoration:"none",color:"inherit"},children:(0,Re.jsxs)("div",{style:{backgroundColor:"#2d3436",padding:"25px",borderRadius:"12px",border:"2px solid #e17055",cursor:"pointer",transition:"transform 0.3s ease",height:"100%"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,Re.jsx)("h3",{style:{color:"#e17055",marginBottom:"15px"},children:"\u26a1 Code Playground"}),(0,Re.jsx)("p",{style:{color:"#ddd"},children:"Practice algorithms with our interactive code editor and visualizer."}),(0,Re.jsx)("div",{style:{marginTop:"15px"},children:(0,Re.jsx)("span",{style:{backgroundColor:"#e17055",color:"white",padding:"5px 15px",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"bold"},children:"Try Now"})})]})})]}),(0,Re.jsxs)("div",{style:{backgroundColor:"#2d3436",padding:"30px",borderRadius:"12px",marginBottom:"30px",border:"1px solid #636e72"},children:[(0,Re.jsx)("h2",{style:{marginBottom:"25px",color:"#74b9ff"},children:"\ud83c\udf93 Learning Topics"}),(0,Re.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[{id:"arrays",title:"Arrays",description:"Learn the fundamentals of arrays and basic operations.",totalLessons:5,completedLessons:2,unlocked:!0},{id:"linked-lists",title:"Linked Lists",description:"Master dynamic data structures and pointer manipulation.",totalLessons:4,completedLessons:0,unlocked:!0},{id:"stacks",title:"Stacks & Queues",description:"Understand LIFO and FIFO data structures.",totalLessons:3,completedLessons:0,unlocked:!1}].map(e=>(0,Re.jsx)(je,{to:"arrays"===e.id?"/arrays":"/topics/".concat(e.id),style:{textDecoration:"none",color:"inherit"},children:(0,Re.jsxs)("div",{style:{backgroundColor:"#636e72",padding:"20px",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease",border:e.completedLessons>0?"2px solid #00b894":"2px solid transparent"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#74b9ff",e.currentTarget.style.transform="translateY(-3px)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#636e72",e.currentTarget.style.transform="translateY(0)"},children:[(0,Re.jsxs)("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.title,e.completedLessons>0&&(0,Re.jsx)("span",{style:{fontSize:"0.8rem"},children:"\ud83c\udfaf"})]}),(0,Re.jsx)("p",{style:{margin:"0 0 15px 0",fontSize:"0.9rem",color:"#ddd"},children:e.description}),(0,Re.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Re.jsx)("span",{style:{color:e.completedLessons>0?"#00b894":"#74b9ff",fontSize:"0.8rem",fontWeight:"bold"},children:e.completedLessons>0?"\u2705 ".concat(e.completedLessons,"/").concat(e.totalLessons," completed"):"\ud83c\udfaf Start Learning"}),(0,Re.jsxs)("span",{style:{color:"#b2bec3",fontSize:"0.8rem"},children:[e.totalLessons," lessons"]})]}),(0,Re.jsx)("div",{style:{width:"100%",height:"4px",backgroundColor:"#444",borderRadius:"2px",marginTop:"10px",overflow:"hidden"},children:(0,Re.jsx)("div",{style:{width:"".concat(e.completedLessons/e.totalLessons*100,"%"),height:"100%",backgroundColor:"#00b894",transition:"width 0.3s ease"}})})]})},e.id))})]}),(0,Re.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,Re.jsx)("h3",{style:{color:"#74b9ff",marginBottom:"20px"},children:"Ready to become an Algorithm Master? \ud83d\ude80"}),(0,Re.jsx)(je,{to:"/arrays",style:{textDecoration:"none"},children:(0,Re.jsx)("button",{style:{background:"linear-gradient(45deg, #6c5ce7, #74b9ff)",color:"white",border:"none",padding:"15px 40px",fontSize:"1.1rem",borderRadius:"25px",cursor:"pointer",fontWeight:"bold",transition:"transform 0.2s ease"},onMouseOver:e=>e.target.style.transform="scale(1.05)",onMouseOut:e=>e.target.style.transform="scale(1)",children:"\ud83c\udfaf Start with Arrays"})})]}),(0,Re.jsxs)("div",{style:{marginTop:"40px",textAlign:"center",color:"#b2bec3",borderTop:"1px solid #636e72",paddingTop:"20px"},children:[(0,Re.jsx)("p",{children:"\u2728 Your journey to mastering algorithms starts here! \u2728"}),(0,Re.jsxs)("p",{style:{fontSize:"0.9rem",marginTop:"10px"},children:["Level ",e," \u2022 ",t," XP \u2022 ",n," day streak \ud83d\udd25"]})]})]})]})};var Me=n(578);const De=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Le=(0,i.createContext)({}),Fe=(0,i.createContext)(null),Ve="undefined"!==typeof document,Ue=Ve?i.useLayoutEffect:i.useEffect,ze=(0,i.createContext)({strict:!1}),Be=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qe="data-"+Be("framerAppearId");function He(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function We(e){return"string"===typeof e||Array.isArray(e)}function Ke(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Ge=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qe=["initial",...Ge];function Xe(e){return Ke(e.animate)||Qe.some(t=>We(e[t]))}function Ye(e){return Boolean(Xe(e)||e.variants)}function Je(e){const{initial:t,animate:n}=function(e,t){if(Xe(e)){const{initial:t,animate:n}=e;return{initial:!1===t||We(t)?t:void 0,animate:We(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Le));return(0,i.useMemo)(()=>({initial:t,animate:n}),[$e(t),$e(n)])}function $e(e){return Array.isArray(e)?e.join(" "):e}const Ze={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},et={};for(const Gc in Ze)et[Gc]={isEnabled:e=>Ze[Gc].some(t=>!!e[t])};const tt=(0,i.createContext)({}),nt=(0,i.createContext)({}),rt=Symbol.for("motionComponentSymbol");function it(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)et[t]=(0,Me.A)((0,Me.A)({},et[t]),e[t])}(t);const o=(0,i.forwardRef)(function(e,o){let l;const c=(0,Me.A)((0,Me.A)((0,Me.A)({},(0,i.useContext)(De)),e),{},{layoutId:st(e)}),{isStatic:u}=c,d=Je(e),h=s(e,u);if(!u&&Ve){d.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(Le),a=(0,i.useContext)(ze),o=(0,i.useContext)(Fe),l=(0,i.useContext)(De).reducedMotion,c=(0,i.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)(()=>{u&&u.update(n,o)});const d=(0,i.useRef)(Boolean(n[qe]&&!window.HandoffComplete));return Ue(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,i.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(a,h,c,n);const e=(0,i.useContext)(nt),r=(0,i.useContext)(ze).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return i.createElement(Le.Provider,{value:d},l&&d.visualElement?i.createElement(l,(0,Me.A)({visualElement:d.visualElement},c)):null,r(a,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):He(n)&&(n.current=r))},[t])}(h,d.visualElement,o),h,u,d.visualElement))});return o[rt]=a,o}function st(e){let{layoutId:t}=e;const n=(0,i.useContext)(tt).id;return n&&void 0!==t?n+"-"+t:t}function at(e){function t(t){return it(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const ot=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lt(e){return"string"===typeof e&&!e.includes("-")&&!!(ot.indexOf(e)>-1||/[A-Z]/.test(e))}const ct={};const ut=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dt=new Set(ut);function ht(e,t){let{layout:n,layoutId:r}=t;return dt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ct[e]||"opacity"===e)}const pt=e=>Boolean(e&&e.getVelocity),mt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ft=ut.length;const gt=e=>t=>"string"===typeof t&&t.startsWith(e),yt=gt("--"),vt=gt("var(--"),xt=(e,t)=>t&&"number"===typeof e?t.transform(e):e,bt=(e,t,n)=>Math.min(Math.max(n,e),t),wt={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},kt=(0,Me.A)((0,Me.A)({},wt),{},{transform:e=>bt(0,1,e)}),St=(0,Me.A)((0,Me.A)({},wt),{},{default:1}),Et=e=>Math.round(1e5*e)/1e5,Ct=/(-)?([\d]*\.?[\d])+/g,Tt=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,At=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nt(e){return"string"===typeof e}const _t=e=>({test:t=>Nt(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),jt=_t("deg"),It=_t("%"),Pt=_t("px"),Rt=_t("vh"),Ot=_t("vw"),Mt=(0,Me.A)((0,Me.A)({},It),{},{parse:e=>It.parse(e)/100,transform:e=>It.transform(100*e)}),Dt=(0,Me.A)((0,Me.A)({},wt),{},{transform:Math.round}),Lt={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,size:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,rotate:jt,rotateX:jt,rotateY:jt,rotateZ:jt,scale:St,scaleX:St,scaleY:St,scaleZ:St,skew:jt,skewX:jt,skewY:jt,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:kt,originX:Mt,originY:Mt,originZ:Pt,zIndex:Dt,fillOpacity:kt,strokeOpacity:kt,numOctaves:Dt};function Ft(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(yt(d)){s[d]=e;continue}const n=Lt[d],r=xt(e,n);if(dt.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<ft;o++){const t=ut[o];void 0!==e[t]&&(a+="".concat(mt[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Vt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ut(e,t,n){for(const r in t)pt(t[r])||ht(r,n)||(e[r]=t[r])}function zt(e,t,n){const r={};return Ut(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Ft(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Bt(e,t,n){const r={},i=zt(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const qt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ht(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qt.has(e)}let Wt=e=>!Ht(e);try{(Kt=require("@emotion/is-prop-valid").default)&&(Wt=e=>e.startsWith("on")?!Ht(e):Kt(e))}catch(Kc){}var Kt;var Gt=n(407);function Qt(e,t,n){return"string"===typeof e?e:Pt.transform(t+n*e)}const Xt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yt={offset:"strokeDashoffset",array:"strokeDasharray"};const Jt=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function $t(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Ft(e,(0,Gt.A)(t,Jt),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:f}=e;p.transform&&(f&&(m.transform=p.transform),delete p.transform),f&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Qt(t,e.x,e.width),i=Qt(n,e.y,e.height);return"".concat(r," ").concat(i)}(f,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==a&&(p.y=a),void 0!==o&&(p.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Xt:Yt;e[s.offset]=Pt.transform(-r);const a=Pt.transform(t),o=Pt.transform(n);e[s.array]="".concat(a," ").concat(o)}(p,u,d,h,!1)}const Zt=()=>(0,Me.A)((0,Me.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),en=e=>"string"===typeof e&&"svg"===e.toLowerCase();function tn(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=Zt();return $t(n,t,{enableHardwareAcceleration:!1},en(r),e.transformTemplate),(0,Me.A)((0,Me.A)({},n.attrs),{},{style:(0,Me.A)({},n.style)})},[t]);if(e.style){const t={};Ut(t,e.style,e),s.style=(0,Me.A)((0,Me.A)({},t),s.style)}return s}function nn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(lt(t)?tn:Bt)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Wt(i)||!0===n&&Ht(i)||!t&&!Ht(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=(0,Me.A)((0,Me.A)((0,Me.A)({},c),l),{},{ref:r}),{children:d}=n,h=(0,i.useMemo)(()=>pt(d)?d.get():d,[d]);return(0,i.createElement)(t,(0,Me.A)((0,Me.A)({},u),{},{children:h}))}}function rn(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const sn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function an(e,t,n,r){rn(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(sn.has(i)?i:Be(i),t.attrs[i])}function on(e,t){const{style:n}=e,r={};for(const i in n)(pt(n[i])||t.style&&pt(t.style[i])||ht(i,e))&&(r[i]=n[i]);return r}function ln(e,t){const n=on(e,t);for(const r in e)if(pt(e[r])||pt(t[r])){n[-1!==ut.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function cn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function un(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const dn=e=>Array.isArray(e),hn=e=>dn(e)?e[e.length-1]||0:e;function pn(e){const t=pt(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const mn=["transitionEnd","transition"];const fn=e=>(t,n)=>{const r=(0,i.useContext)(Le),s=(0,i.useContext)(Fe),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:gn(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,s);return n?a():un(a)};function gn(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=pn(s[h]);let{initial:a,animate:o}=e;const l=Xe(e),c=Ye(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Ke(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=cn(e,t);if(!n)return;const{transitionEnd:r,transition:s}=n,a=(0,Gt.A)(n,mn);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const yn=e=>e;class vn{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const xn=["prepare","read","update","preRender","render","postRender"];const{schedule:bn,cancel:wn,state:kn,steps:Sn}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=xn.reduce((e,t)=>(e[t]=function(e){let t=new vn,n=new vn,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,xn.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=xn.reduce((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t},{});return{schedule:l,cancel:e=>xn.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:yn,!0),En={useVisualState:fn({scrapeMotionValuesFromProps:ln,createRenderState:Zt,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;bn.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Wc){r.dimensions={x:0,y:0,width:0,height:0}}}),bn.render(()=>{$t(r,i,{enableHardwareAcceleration:!1},en(t.tagName),e.transformTemplate),an(t,r)})}})},Cn={useVisualState:fn({scrapeMotionValuesFromProps:on,createRenderState:Vt})};function Tn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const An=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function _n(e,t,n,r){return Tn(e,t,(e=>t=>An(t)&&e(t,Nn(t)))(n),r)}const jn=(e,t)=>n=>t(e(n)),In=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(jn)};function Pn(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Rn=Pn("dragHorizontal"),On=Pn("dragVertical");function Mn(e){let t=!1;if("y"===e)t=On();else if("x"===e)t=Rn();else{const e=Rn(),n=On();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Dn(){const e=Mn(!0);return!e||(e(),!1)}class Ln{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fn(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return _n(e.current,n,(n,i)=>{if("touch"===n.pointerType||Dn())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&bn.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const Vn=(e,t)=>!!t&&(e===t||Vn(e,t.parentElement));function Un(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Nn(n))}const zn=["root"],Bn=new WeakMap,qn=new WeakMap,Hn=e=>{const t=Bn.get(e.target);t&&t(e)},Wn=e=>{e.forEach(Hn)};function Kn(e,t,n){const r=function(e){let{root:t}=e,n=(0,Gt.A)(e,zn);const r=t||document;qn.has(r)||qn.set(r,{});const i=qn.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Wn,(0,Me.A)({root:t},n))),i[s]}(t);return Bn.set(e,n),r.observe(e),()=>{Bn.delete(e),r.unobserve(e)}}const Gn={some:0,all:1};const Qn={inView:{Feature:class extends Ln{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Gn[r]};return Kn(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ln{constructor(){super(...arguments),this.removeStartListeners=yn,this.removeEndListeners=yn,this.removeAccessibleListeners=yn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=_n(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();bn.update(()=>{i||Vn(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=_n(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=In(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Tn(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Tn(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Un("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&bn.update(()=>n(e,t))})}),Un("down",(e,t)=>{this.startPress(e,t)})}),t=Tn(this.node.current,"blur",()=>{this.isPressing&&Un("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=In(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&bn.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Dn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&bn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=_n(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Tn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=In(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Ln{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Wc){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=In(Tn(this.node.current,"focus",()=>this.onFocus()),Tn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Ln{mount(){this.unmount=In(Fn(this.node,!0),Fn(this.node,!1))}unmount(){}}}};function Xn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Yn(e,t,n){const r=e.getProps();return cn(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let Jn=yn,$n=yn;const Zn=e=>1e3*e,er=e=>e/1e3,tr=!1,nr=e=>Array.isArray(e)&&"number"===typeof e[0];function rr(e){return Boolean(!e||"string"===typeof e&&sr[e]||nr(e)||Array.isArray(e)&&e.every(rr))}const ir=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},sr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ir([0,.65,.55,1]),circOut:ir([.55,0,1,.45]),backIn:ir([.31,.01,.66,-.59]),backOut:ir([.33,1.53,.69,.99])};function ar(e){if(e)return nr(e)?ir(e):Array.isArray(e)?e.map(ar):sr[e]}const or=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function lr(e,t,n,r){if(e===t&&n===r)return yn;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=or(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:or(i(e),t,r)}const cr=lr(.42,0,1,1),ur=lr(0,0,.58,1),dr=lr(.42,0,.58,1),hr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pr=e=>t=>1-e(1-t),mr=e=>1-Math.sin(Math.acos(e)),fr=pr(mr),gr=hr(mr),yr=lr(.33,1.53,.69,.99),vr=pr(yr),xr=hr(vr),br={linear:yn,easeIn:cr,easeInOut:dr,easeOut:ur,circIn:mr,circInOut:gr,circOut:fr,backIn:vr,backInOut:xr,backOut:yr,anticipate:e=>(e*=2)<1?.5*vr(e):.5*(2-Math.pow(2,-10*(e-1)))},wr=e=>{if(Array.isArray(e)){$n(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return lr(t,n,r,i)}return"string"===typeof e?($n(void 0!==br[e],"Invalid easing type '".concat(e,"'")),br[e]):e},kr=(e,t)=>n=>Boolean(Nt(n)&&At.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Sr=(e,t,n)=>r=>{if(!Nt(r))return r;const[i,s,a,o]=r.match(Ct);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Er=(0,Me.A)((0,Me.A)({},wt),{},{transform:e=>Math.round((e=>bt(0,255,e))(e))}),Cr={test:kr("rgb","red"),parse:Sr("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Er.transform(t)+", "+Er.transform(n)+", "+Er.transform(r)+", "+Et(kt.transform(i))+")"}};const Tr={test:kr("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Cr.transform},Ar={test:kr("hsl","hue"),parse:Sr("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+It.transform(Et(n))+", "+It.transform(Et(r))+", "+Et(kt.transform(i))+")"}},Nr={test:e=>Cr.test(e)||Tr.test(e)||Ar.test(e),parse:e=>Cr.test(e)?Cr.parse(e):Ar.test(e)?Ar.parse(e):Tr.parse(e),transform:e=>Nt(e)?e:e.hasOwnProperty("red")?Cr.transform(e):Ar.transform(e)},_r=(e,t,n)=>-n*e+n*t+e;function jr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Ir=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Pr=[Tr,Cr,Ar];function Rr(e){const t=(n=e,Pr.find(e=>e.test(n)));var n;$n(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Ar&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=jr(i,e,t+1/3),a=jr(i,e,t),o=jr(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(r)),r}const Or=(e,t)=>{const n=Rr(e),r=Rr(t),i=(0,Me.A)({},n);return e=>(i.red=Ir(n.red,r.red,e),i.green=Ir(n.green,r.green,e),i.blue=Ir(n.blue,r.blue,e),i.alpha=_r(n.alpha,r.alpha,e),Cr.transform(i))};const Mr={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:yn},Dr={regex:Tt,countKey:"Colors",token:"${c}",parse:Nr.parse},Lr={regex:Ct,countKey:"Numbers",token:"${n}",parse:wt.parse};function Fr(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function Vr(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fr(n,Mr),Fr(n,Dr),Fr(n,Lr),n}function Ur(e){return Vr(e).values}function zr(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Vr(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Mr.token,e[i]):i<r+n?t.replace(Dr.token,Nr.transform(e[i])):t.replace(Lr.token,Et(e[i]));return t}}const Br=e=>"number"===typeof e?0:e;const qr={test:function(e){var t,n;return isNaN(e)&&Nt(e)&&((null===(t=e.match(Ct))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Tt))||void 0===n?void 0:n.length)||0)>0},parse:Ur,createTransformer:zr,getAnimatableNone:function(e){const t=Ur(e);return zr(e)(t.map(Br))}},Hr=(e,t)=>n=>"".concat(n>0?t:e);function Wr(e,t){return"number"===typeof e?n=>_r(e,t,n):Nr.test(e)?Or(e,t):e.startsWith("var(")?Hr(e,t):Qr(e,t)}const Kr=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Wr(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Gr=(e,t)=>{const n=(0,Me.A)((0,Me.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Wr(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Qr=(e,t)=>{const n=qr.createTransformer(t),r=Vr(e),i=Vr(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?In(Kr(r.values,i.values),n):(Jn(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Hr(e,t))},Xr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Yr=(e,t)=>n=>_r(e,t,n);function Jr(e,t,n){const r=[],i=n||("number"===typeof(s=e[0])?Yr:"string"===typeof s?Nr.test(s)?Or:Qr:Array.isArray(s)?Kr:"object"===typeof s?Gr:Yr);var s;const a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||yn:t;n=In(e,n)}r.push(n)}return r}function $r(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if($n(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Jr(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Xr(e[n],e[n+1],t);return a[n](r)};return n?t=>l(bt(e[0],e[s-1],t)):l}function Zr(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Xr(0,t,r);e.push(_r(n,1,i))}}(t,e.length-1),t}function ei(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(wr):wr(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Zr(n),t),l=$r(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||dr).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function ti(e,t){return t?e*(1e3/t):0}function ni(e,t,n){const r=Math.max(t-5,0);return ti(n-e(r),t-r)}const ri=.001;function ii(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;Jn(r<=Zn(10),"Spring duration must be 10 seconds or less");let o=1-i;o=bt(.05,1,o),r=bt(.01,10,er(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=ai(e,o),l=Math.exp(-n);return ri-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=ai(Math.pow(e,2),o);return(-t(e)+ri>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<si;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Zn(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const si=12;function ai(e,t){return e*Math.sqrt(1-t*t)}const oi=["keyframes","restDelta","restSpeed"],li=["duration","bounce"],ci=["stiffness","damping","mass"];function ui(e,t){return t.some(t=>void 0!==e[t])}function di(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=(0,Gt.A)(e,oi);const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t=(0,Me.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!ui(e,ci)&&ui(e,li)){const n=ii(e);t=(0,Me.A)((0,Me.A)((0,Me.A)({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,Me.A)((0,Me.A)({},i),{},{velocity:-er(i.velocity||0)})),m=h||0,f=c/(2*Math.sqrt(l*u)),g=a-s,y=er(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(r||(r=v?.01:2),n||(n=v?.005:.5),f<1){const e=ai(y,f);x=t=>{const n=Math.exp(-f*y*t);return a-n*((m+f*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)x=e=>a-Math.exp(-y*e)*(g+(m+y*g)*e);else{const e=y*Math.sqrt(f*f-1);x=t=>{const n=Math.exp(-f*y*t),r=Math.min(e*t,300);return a-n*((m+f*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:p&&d||null,next:e=>{const t=x(e);if(p)o.done=e>=d;else{let i=m;0!==e&&(i=f<1?ni(x,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function hi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const g=h+f,y=void 0===o?g:o(g);y!==g&&(f=y-h);const v=e=>-f*Math.exp(-e/i),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);p.done=Math.abs(t)<=u,p.value=p.done?y:n};let w,k;const S=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=di({keyframes:[p.value,m(p.value)],velocity:ni(x,e,p.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>w?k.next(e-w):(!t&&b(e),p)}}}const pi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>bn.update(t,!0),stop:()=>wn(t),now:()=>kn.isProcessing?kn.timestamp:performance.now()}};function mi(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const fi=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],gi={decay:hi,inertia:hi,tween:ei,keyframes:ei,spring:di};function yi(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=pi,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:p,onUpdate:m}=e,f=(0,Gt.A)(e,fi),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let x;v();const b=gi[o]||ei;let w;b!==ei&&"number"!==typeof a[0]&&(w=$r([0,100],a,{clamp:!1}),a=[0,100]);const k=b((0,Me.A)((0,Me.A)({},f),{},{keyframes:a}));let S;"mirror"===u&&(S=b((0,Me.A)((0,Me.A)({},f),{},{keyframes:[...a].reverse(),velocity:-(f.velocity||0)})));let E="idle",C=null,T=null,A=null;null===k.calculatedDuration&&l&&(k.calculatedDuration=mi(k));const{calculatedDuration:N}=k;let _=1/0,j=1/0;null!==N&&(_=N+c,j=_*(l+1)-c);let I=0;const P=e=>{if(null===T)return;g>0&&(T=Math.min(T,e)),g<0&&(T=Math.min(e-j/g,T)),I=null!==C?C:Math.round(e-T)*g;const t=I-i*(g>=0?1:-1),n=g>=0?t<0:t>j;I=Math.max(t,0),"finished"===E&&null===C&&(I=j);let r=I,s=k;if(l){const e=Math.min(I,j)/_;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/_)):"mirror"===u&&(s=S)),r=bt(0,1,n)*_}const o=n?{done:!1,value:a[0]}:s.next(r);w&&(o.value=w(o.value));let{done:d}=o;n||null===N||(d=g>=0?I>=j:I<=0);const h=null===C&&("finished"===E||"running"===E&&d);return m&&m(o.value),h&&M(),o},R=()=>{x&&x.stop(),x=void 0},O=()=>{E="idle",R(),t(),v(),T=A=null},M=()=>{E="finished",p&&p(),R(),t()},D=()=>{if(y)return;x||(x=s(P));const e=x.now();d&&d(),null!==C?T=e-C:T&&"finished"!==E||(T=e),"finished"===E&&v(),A=T,C=null,E="running",x.start()};r&&D();const L={then:(e,t)=>n.then(e,t),get time(){return er(I)},set time(e){e=Zn(e),I=e,null===C&&x&&0!==g?T=x.now()-e/g:C=e},get duration(){const e=null===k.calculatedDuration?mi(k):k.calculatedDuration;return er(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,L.time=er(I))},get state(){return E},play:D,pause:()=>{E="paused",C=I},stop:()=>{y=!0,"idle"!==E&&(E="idle",h&&h(),O())},cancel:()=>{null!==A&&P(A),O()},complete:()=>{E="finished"},sample:e=>(T=0,P(e))};return L}const vi=["onUpdate","onComplete"],xi=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bi=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function wi(e,t,n){let{onUpdate:r,onComplete:i}=n,s=(0,Gt.A)(n,vi);if(!(xi()&&bi.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:d,duration:h=300,ease:p,times:m}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!rr(t.ease))(t,s)){const e=yi((0,Me.A)((0,Me.A)({},s),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;m=void 0,d=n,h=r-10,p="linear"}const f=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=ar(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,(0,Me.A)((0,Me.A)({},s),{},{duration:h,ease:p,times:m})),g=()=>{c=!1,f.cancel()},y=()=>{c=!0,bn.update(g),a(),u()};f.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(f.timeline=e,f.onfinish=null,yn),get time(){return er(f.currentTime||0)},set time(e){f.currentTime=Zn(e)},get speed(){return f.playbackRate},set speed(e){f.playbackRate=e},get duration(){return er(h)},play:()=>{l||(f.play(),wn(g))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;const{currentTime:t}=f;if(t){const n=yi((0,Me.A)((0,Me.A)({},s),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||f.finish()},cancel:y}}const ki={type:"spring",stiffness:500,damping:25,restSpeed:10},Si={type:"keyframes",duration:.8},Ei={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ci=(e,t)=>{let{keyframes:n}=t;return n.length>2?Si:dt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ki:Ei},Ti=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!qr.test(t)&&"0"!==t||t.startsWith("url("))),Ai=new Set(["brightness","contrast","saturate","opacity"]);function Ni(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ct)||[];if(!r)return e;const i=n.replace(r,"");let s=Ai.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const _i=/([a-z-]*)\(.*?\)/g,ji=(0,Me.A)((0,Me.A)({},qr),{},{getAnimatableNone:e=>{const t=e.match(_i);return t?t.map(Ni).join(" "):e}}),Ii=(0,Me.A)((0,Me.A)({},Lt),{},{color:Nr,backgroundColor:Nr,outlineColor:Nr,fill:Nr,stroke:Nr,borderColor:Nr,borderTopColor:Nr,borderRightColor:Nr,borderBottomColor:Nr,borderLeftColor:Nr,filter:ji,WebkitFilter:ji}),Pi=e=>Ii[e];function Ri(e,t){let n=Pi(e);return n!==ji&&(n=qr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Oi=e=>/^0[^.\s]+$/.test(e);function Mi(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Oi(e):void 0}const Di=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Li(e,t){return e[t]||e.default||e}const Fi=!1,Vi=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Li(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=Zn(a);const l=function(e,t,n,r){const i=Ti(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),Mi(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Ri(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=Ti(e,c),h=Ti(e,u);Jn(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let p=(0,Me.A)((0,Me.A)({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},s),{},{delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=(0,Gt.A)(e,Di);return!!Object.keys(d).length}(s)||(p=(0,Me.A)((0,Me.A)({},p),Ci(e,p))),p.duration&&(p.duration=Zn(p.duration)),p.repeatDelay&&(p.repeatDelay=Zn(p.repeatDelay)),!d||!h||tr||!1===s.type||Fi)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:yn,pause:yn,stop:yn,then:e=>(e(),Promise.resolve()),cancel:yn,complete:yn});return n?yi({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(tr?(0,Me.A)((0,Me.A)({},p),{},{delay:0}):p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=wi(t,e,p);if(n)return n}return yi(p)}};function Ui(e){return Boolean(pt(e)&&e.add)}const zi=e=>/^\-?\d*\.?\d+$/.test(e);function Bi(e,t){-1===e.indexOf(t)&&e.push(t)}function qi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Hi{constructor(){this.subscriptions=[]}add(e){return Bi(this.subscriptions,e),()=>qi(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wi={current:void 0};class Ki{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=kn;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,bn.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>bn.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hi);const n=this.events[e].add(t);return"change"===e?()=>{n(),bn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Wi.current&&Wi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ti(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gi(e,t){return new Ki(e,t)}const Qi=e=>t=>t.test(e),Xi=[wt,Pt,It,jt,Ot,Rt,{test:e=>"auto"===e,parse:e=>e}],Yi=e=>Xi.find(Qi(e)),Ji=[...Xi,Nr,qr],$i=e=>Ji.find(Qi(e)),Zi=["transitionEnd","transition"];function es(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gi(n))}function ts(e,t){const n=Yn(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:s={}}=r,a=(0,Gt.A)(r,Zi);a=(0,Me.A)((0,Me.A)({},a),i);for(const o in a){es(e,o,hn(a[o]))}}function ns(e,t){if(!t)return;return(t[e]||t.default||t).from}const rs=["transition","transitionEnd"];function is(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function ss(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function as(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=s,l=(0,Gt.A)(s,rs);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&is(d,h))continue;const i=(0,Me.A)({delay:n,elapsed:0},Li(a||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[qe];if(n){const e=window.HandoffAppearAnimations(n,h,t,bn);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let s=!i.isHandoff&&!ss(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(Vi(h,t,r,e.shouldReduceMotion&&dt.has(h)?{type:!1}:i));const o=t.animation;Ui(c)&&(c.add(h),o.then(()=>c.remove(h))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&ts(e,o)}),u}function os(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Yn(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(as(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(ls).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(os(e,t,(0,Me.A)((0,Me.A)({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(n.delay)])}function ls(e,t){return e.sortNodePosition(t)}const cs=["transition","transitionEnd"],us=[...Ge].reverse(),ds=Ge.length;function hs(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>os(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=os(e,t,r);else{const i="function"===typeof t?Yn(e,t,r.custom):t;n=Promise.all(as(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function ps(e){let t=hs(e);const n={animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()};let r=!0;const i=(t,n)=>{const r=Yn(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=(0,Gt.A)(r,cs);t=(0,Me.A)((0,Me.A)((0,Me.A)({},t),i),n)}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<ds;t++){const p=us[t],m=n[p],f=void 0!==o[p]?o[p]:l[p],g=We(f),y=p===a?m.isActive:null;!1===y&&(h=t);let v=f===l[p]&&f!==o[p]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys=(0,Me.A)({},d),!m.isActive&&null===y||!f&&!m.prevProp||Ke(f)||"boolean"===typeof f)continue;let x=ms(m.prevProp,f)||p===a&&m.isActive&&!v&&g||t>h&&g,b=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(i,{});!1===y&&(k={});const{prevResolvedValues:S={}}=m,E=(0,Me.A)((0,Me.A)({},S),k),C=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),m.needsAnimating[e]=!0};for(const e in E){const t=k[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=dn(t)&&dn(n)?!Xn(t,n):t!==n,r?void 0!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):m.protectedKeys[e]=!0}m.prevProp=f,m.prevResolvedValues=k,m.isActive&&(d=(0,Me.A)((0,Me.A)({},d),k)),r&&e.blockInitialAnimation&&(x=!1),!x||v&&!b||c.push(...w.map(e=>({animation:e,options:(0,Me.A)({type:p},s)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let p=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function ms(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Xn(t,e)}function fs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let gs=0;const ys={animation:{Feature:class extends Ln{constructor(e){super(e),e.animationState||(e.animationState=ps(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ke(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Ln{constructor(){super(...arguments),this.id=gs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},vs=(e,t)=>Math.abs(e-t);class xs{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ks(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=vs(e.x,t.x),r=vs(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=kn;this.history.push((0,Me.A)((0,Me.A)({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=bs(t,this.transformPagePoint),bn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=ks("pointercancel"===e.type?this.lastMoveEventInfo:bs(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!An(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=bs(Nn(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=kn;this.history=[(0,Me.A)((0,Me.A)({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,ks(s,this.history)),this.removeListeners=In(_n(this.contextWindow,"pointermove",this.handlePointerMove),_n(this.contextWindow,"pointerup",this.handlePointerUp),_n(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function bs(e,t){return t?{point:t(e.point)}:e}function ws(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ks(e,t){let{point:n}=e;return{point:n,delta:ws(n,Es(t)),offset:ws(n,Ss(t)),velocity:Cs(t,.1)}}function Ss(e){return e[0]}function Es(e){return e[e.length-1]}function Cs(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Es(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Zn(t)));)n--;if(!r)return{x:0,y:0};const s=er(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ts(e){return e.max-e.min}function As(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Ns(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=_r(t.min,t.max,e.origin),e.scale=Ts(n)/Ts(t),(As(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_r(n.min,n.max,e.origin)-e.originPoint,(As(e.translate)||isNaN(e.translate))&&(e.translate=0)}function _s(e,t,n,r){Ns(e.x,t.x,n.x,r?r.originX:void 0),Ns(e.y,t.y,n.y,r?r.originY:void 0)}function js(e,t,n){e.min=n.min+t.min,e.max=e.min+Ts(t)}function Is(e,t,n){e.min=t.min-n.min,e.max=e.min+Ts(t)}function Ps(e,t,n){Is(e.x,t.x,n.x),Is(e.y,t.y,n.y)}function Rs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Os(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Ms=.35;function Ds(e,t,n){return{min:Ls(e,t),max:Ls(e,n)}}function Ls(e,t){return"number"===typeof e?e:e[t]||0}const Fs=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Vs(e){return[e("x"),e("y")]}function Us(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function zs(e){return void 0===e||1===e}function Bs(e){let{scale:t,scaleX:n,scaleY:r}=e;return!zs(t)||!zs(n)||!zs(r)}function qs(e){return Bs(e)||Hs(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Hs(e){return Ws(e.x)||Ws(e.y)}function Ws(e){return e&&"0%"!==e}function Ks(e,t,n){return n+t*(e-n)}function Gs(e,t,n,r,i){return void 0!==i&&(e=Ks(e,i,r)),Ks(e,n,r)+t}function Qs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Gs(e.min,t,n,r,i),e.max=Gs(e.max,t,n,r,i)}function Xs(e,t){let{x:n,y:r}=t;Qs(e.x,n.translate,n.scale,n.originPoint),Qs(e.y,r.translate,r.scale,r.originPoint)}function Ys(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Js(e,t){e.min=e.min+t,e.max=e.max+t}function $s(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=_r(e.min,e.max,a);Qs(e,t[r],t[i],o,t.scale)}const Zs=["x","scaleX","originX"],ea=["y","scaleY","originY"];function ta(e,t){$s(e.x,t,Zs),$s(e.y,t,ea)}function na(e,t){return Us(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ra=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ia=new WeakMap;class sa{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new xs(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Nn(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Mn(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(e=>{let t=this.getAxisMotionValue(e).get()||0;if(It.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ts(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&bn.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Vs(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ra(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&bn.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!aa(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?_r(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?_r(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&He(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:Rs(e.x,r,s),y:Rs(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms;return!1===e?e=0:!0===e&&(e=Ms),{x:Ds(e,"left","right"),y:Ds(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!He(e))return!1;const n=e.current;$n(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=na(e,n),{scroll:i}=t;return i&&(Js(r.x,i.offset.x),Js(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Os(e.x,t.x),y:Os(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Us(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Vs(a=>{if(!aa(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=(0,Me.A)((0,Me.A)({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Vi(e,n,0,t))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vs(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Vs(t=>{const{drag:n}=this.getProps();if(!aa(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-_r(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!He(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ts(e),i=Ts(t);return i>r?n=Xr(t.min,t.max-r,e.min):r>i&&(n=Xr(e.min,e.max-i,t.min)),bt(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Vs(t=>{if(!aa(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(_r(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;ia.set(this.visualElement,this);const e=_n(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();He(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Tn(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Vs(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Ms,dragMomentum:a=!0}=e;return(0,Me.A)((0,Me.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function aa(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const oa=e=>(t,n)=>{e&&bn.update(()=>e(t,n))};const la={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ca(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ua={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Pt.test(e))return e;e=parseFloat(e)}const n=ca(e,t.target.x),r=ca(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},da={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=qr.parse(e);if(s.length>5)return i;const a=qr.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=_r(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class ha extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=ma,Object.assign(ct,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions((0,Me.A)((0,Me.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),la.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||bn.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pa(e){const[t,n]=function(){const e=(0,i.useContext)(Fe);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(tt);return i.createElement(ha,(0,Me.A)((0,Me.A)({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(nt),isPresent:t,safeToRemove:n}))}const ma={borderRadius:(0,Me.A)((0,Me.A)({},ua),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ua,borderTopRightRadius:ua,borderBottomLeftRadius:ua,borderBottomRightRadius:ua,boxShadow:da},fa=["TopLeft","TopRight","BottomLeft","BottomRight"],ga=fa.length,ya=e=>"string"===typeof e?parseFloat(e):e,va=e=>"number"===typeof e||Pt.test(e);function xa(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ba=ka(0,.5,fr),wa=ka(.5,.95,yn);function ka(e,t,n){return r=>r<e?0:r>t?1:n(Xr(e,t,r))}function Sa(e,t){e.min=t.min,e.max=t.max}function Ea(e,t){Sa(e.x,t.x),Sa(e.y,t.y)}function Ca(e,t,n,r,i){return e=Ks(e-=t,1/n,r),void 0!==i&&(e=Ks(e,1/i,r)),e}function Ta(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;It.test(t)&&(t=parseFloat(t),t=_r(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=_r(s.min,s.max,r);e===s&&(o-=t),e.min=Ca(e.min,t,n,o,i),e.max=Ca(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Aa=["x","scaleX","originX"],Na=["y","scaleY","originY"];function _a(e,t,n,r){Ta(e.x,t,Aa,n?n.x:void 0,r?r.x:void 0),Ta(e.y,t,Na,n?n.y:void 0,r?r.y:void 0)}function ja(e){return 0===e.translate&&1===e.scale}function Ia(e){return ja(e.x)&&ja(e.y)}function Pa(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ra(e){return Ts(e.x)/Ts(e.y)}class Oa{constructor(){this.members=[]}add(e){Bi(this.members,e),e.scheduleRender()}remove(e){if(qi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ma(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const Da=(e,t)=>e.depth-t.depth;class La{constructor(){this.children=[],this.isDirty=!1}add(e){Bi(this.children,e),this.isDirty=!0}remove(e){qi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Da),this.isDirty=!1,this.children.forEach(e)}}const Fa=["","X","Y","Z"],Va={visibility:"hidden"};let Ua=0;const za={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ba(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ua++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,za.totalNodes=za.resolvedTargetDeltas=za.recalculatedProjection=0,this.nodes.forEach(Wa),this.nodes.forEach($a),this.nodes.forEach(Za),this.nodes.forEach(Ka),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(za)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new La)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Hi),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(wn(r),e(a-t))};return bn.read(r,!0),()=>wn(r)}(r,250),la.hasAnimatedSinceResize&&(la.hasAnimatedSinceResize=!1,this.nodes.forEach(Ja))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||so,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Pa(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=(0,Me.A)((0,Me.A)({},Li(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Ja(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Qa);this.isUpdating||this.nodes.forEach(Xa),this.isUpdating=!1,this.nodes.forEach(Ya),this.nodes.forEach(qa),this.nodes.forEach(Ha),this.clearAllSnapshots();const e=performance.now();kn.delta=bt(0,1e3/60,e-kn.timestamp),kn.timestamp=e,kn.isProcessing=!0,Sn.update.process(kn),Sn.preRender.process(kn),Sn.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ga),this.sharedNodes.forEach(to)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Ia(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||qs(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),lo((r=n).x),lo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Js(t.x,n.offset.x),Js(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ea(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Ea(t,e);const{scroll:n}=this.root;n&&(Js(t.x,-n.offset.x),Js(t.y,-n.offset.y))}Js(t.x,i.offset.x),Js(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Ea(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ta(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),qs(e.latestValues)&&ta(n,e.latestValues)}return qs(this.latestValues)&&ta(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ea(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!qs(e.latestValues))continue;Bs(e.latestValues)&&e.updateSnapshot();const r=Fs();Ea(r,e.measurePageBox()),_a(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return qs(this.latestValues)&&_a(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,Me.A)((0,Me.A)((0,Me.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ps(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,js(a.x,o.x,l.x),js(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ea(this.target,this.layout.layoutBox),Xs(this.target,this.targetDelta)):Ea(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ps(this.relativeTargetOrigin,this.target,e.target),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}za.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Bs(this.parent.latestValues)&&!Hs(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Ea(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ta(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Xs(e,a)),r&&qs(s.latestValues)&&ta(e,s.latestValues))}t.x=Ys(t.x),t.y=Ys(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;_s(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Ma(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),za.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,Me.A)({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(io));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;no(s.x,e.x,n),no(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ps(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,g=n,ro(p.x,m.x,f.x,g),ro(p.y,m.y,f.y,g),d&&(l=this.relativeTarget,h=d,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Ea(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=_r(0,void 0!==n.opacity?n.opacity:1,ba(r)),e.opacityExit=_r(void 0!==t.opacity?t.opacity:1,0,wa(r))):s&&(e.opacity=_r(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ga;a++){const i="border".concat(fa[a],"Radius");let s=xa(t,i),o=xa(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||va(s)===va(o)?(e[i]=Math.max(_r(ya(s),ya(o),r),0),(It.test(o)||It.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=_r(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bn.update(()=>{la.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=pt(e)?e:Gi(e);return r.start(Vi("",r,t,n)),r.animation}(0,1e3,(0,Me.A)((0,Me.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&co(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ts(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ts(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Ea(t,n),ta(t,i),_s(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Oa);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Fa.length;i++){const t="rotate"+Fa[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Va;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=pn(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=pn(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Ma(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in ct){if(void 0===a[c])continue;const{correct:e,applyTo:t}=ct[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?pn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Qa),this.root.sharedNodes.clear()}}}function qa(e){e.updateLayout()}function Ha(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Vs(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Ts(r);r.min=t[e].min,r.max=r.min+i}):co(i,n.layoutBox,t)&&Vs(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Ts(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};_s(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?_s(o,e.applyTransform(r,!0),n.measuredBox):_s(o,t,n.layoutBox);const l=!Ia(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};Ps(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Ps(o,t,s.layoutBox),Pa(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Wa(e){za.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ka(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ga(e){e.clearSnapshot()}function Qa(e){e.clearMeasurements()}function Xa(e){e.isLayoutDirty=!1}function Ya(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ja(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $a(e){e.resolveTargetDelta()}function Za(e){e.calcProjection()}function eo(e){e.resetRotation()}function to(e){e.removeLeadSnapshot()}function no(e,t,n){e.translate=_r(t.translate,0,n),e.scale=_r(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ro(e,t,n,r){e.min=_r(t.min,n.min,r),e.max=_r(t.max,n.max,r)}function io(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const so={duration:.45,ease:[.4,0,.1,1]},ao=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),oo=ao("applewebkit/")&&!ao("chrome/")?Math.round:yn;function lo(e){e.min=oo(e.min),e.max=oo(e.max)}function co(e,t,n){return"position"===e||"preserve-aspect"===e&&!As(Ra(t),Ra(n),.2)}const uo=Ba({attachResizeListener:(e,t)=>Tn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ho={current:void 0},po=Ba({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ho.current){const e=new uo({});e.mount(window),e.setOptions({layoutScroll:!0}),ho.current=e}return ho.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),mo={pan:{Feature:class extends Ln{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new xs(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ra(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:oa(e),onStart:oa(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&bn.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=_n(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ln{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new sa(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:po,MeasureLayout:pa}};const fo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;$n(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=fo.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return zi(e)?parseFloat(e):e}return vt(i)?go(i,t,n+1):i}function yo(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=(0,Me.A)({},n)),e.values.forEach(e=>{const t=e.get();if(!vt(t))return;const n=go(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!vt(e))continue;const t=go(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}const vo=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xo=e=>vo.has(e),bo=e=>e===wt||e===Pt,wo=(e,t)=>parseFloat(e.split(", ")[t]),ko=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return wo(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?wo(t[1],e):0}},So=new Set(["x","y","z"]),Eo=ut.filter(e=>!So.has(e));const Co={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ko(4,13),y:ko(5,14)};Co.translateX=Co.x,Co.translateY=Co.y;const To=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,Me.A)({},t),r=(0,Me.A)({},r);const i=Object.keys(t).filter(xo);let s=[],a=!1;const o=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=Yi(c);const d=t[i];let h;if(dn(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Yi(c);for(let n=t;n<e&&null!==d[n];n++)h?$n(Yi(d[n])===h,"All keyframes must be of the same type"):(h=Yi(d[n]),$n(h===u||bo(u)&&bo(h),"Keyframes must be of the same dimension as the current value"))}else h=Yi(d);if(u!==h)if(bo(u)&&bo(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Pt&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(s=function(e){const t=[];return Eo.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=Co[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=Co[n](l,s)}),e})(t,e,o);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ve&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ao(e,t,n,r){return(e=>Object.keys(e).some(xo))(t)?To(e,t,n,r):{target:t,transitionEnd:r}}const No={current:null},_o={current:!1};const jo=new WeakMap,Io=["willChange"],Po=["children"],Ro=Object.keys(et),Oo=Ro.length,Mo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Do=Qe.length;class Lo{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>bn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=(0,Me.A)({},o),this.initialValues=n.initial?(0,Me.A)({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Xe(n),this.isVariantNode=Ye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=(0,Gt.A)(c,Io);for(const h in d){const e=d[h];void 0!==o[h]&&pt(e)&&(e.set(o[h],!1),Ui(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,jo.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),_o.current||function(){if(_o.current=!0,Ve)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>No.current=e.matches;e.addListener(t),t()}else No.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||No.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jo.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=dt.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&bn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a}=e,o=(0,Gt.A)(e,Po);for(let l=0;l<Oo;l++){const e=Ro[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=et[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&He(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Mo.length;n++){const t=Mo[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(pt(s))e.addValue(i,s),Ui(r)&&r.add(i);else if(pt(a))e.addValue(i,Gi(s,{owner:e})),Ui(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Gi(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Do;t++){const n=Qe[t],r=this.props[n];(We(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Gi(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=cn(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||pt(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Hi),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const Fo=["transition","transitionEnd"];class Vo extends Lo{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,s=(0,Gt.A)(e,Fo),{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=ns(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(zi(c)||Oi(c))?c=parseFloat(c):!$i(c)&&qr.test(l)&&(c=Ri(a,l)),e.addValue(a,Gi(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=((e,t,n,r)=>{const i=yo(e,t,r);return Ao(e,t=i.target,n,r=i.transitionEnd)})(this,s,o,i);i=e.transitionEnd,s=e.target}return(0,Me.A)({transition:r,transitionEnd:i},s)}}class Uo extends Vo{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(dt.has(t)){const e=Pi(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(yt(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return na(e,n)}build(e,t,n,r){Ft(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return on(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){rn(e,t,n,r)}}class zo extends Vo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(dt.has(t)){const e=Pi(t);return e&&e.default||0}return t=sn.has(t)?t:Be(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return ln(e,t)}build(e,t,n,r){$t(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){an(e,t,0,r)}mount(e){this.isSVGTag=en(e.tagName),super.mount(e)}}const Bo=(e,t)=>lt(e)?new zo(t,{enableHardwareAcceleration:!1}):new Uo(t,{enableHardwareAcceleration:!0}),qo={layout:{ProjectionNode:po,MeasureLayout:pa}},Ho=(0,Me.A)((0,Me.A)((0,Me.A)((0,Me.A)({},ys),Qn),mo),qo),Wo=at((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;const s=lt(e)?En:Cn;return(0,Me.A)((0,Me.A)({},s),{},{preloadedFeatures:n,useRender:nn(i),createVisualElement:r,Component:e})}(e,t,Ho,Bo));function Ko(){const e=(0,i.useRef)(!1);return Ue(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class Go extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qo(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),i.createElement(Go,{isPresent:n,childRef:s,sizeRef:a},i.cloneElement(t,{ref:s}))}const Xo=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=un(Yo),u=(0,i.useId)(),d=(0,i.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[r]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),i.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),"popLayout"===l&&(t=i.createElement(Qo,{isPresent:r},t)),i.createElement(Fe.Provider,{value:d},t)};function Yo(){return new Map}const Jo=e=>e.key||"";const $o=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;$n(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useContext)(tt).forceRender||function(){const e=Ko(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,i.useCallback)(()=>bn.postRender(r),[r]),t]}()[0],u=Ko(),d=function(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}(t);let h=d;const p=(0,i.useRef)(new Map).current,m=(0,i.useRef)(h),f=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);var y;if(Ue(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=Jo(e);t.set(n,e)})}(d,f),m.current=h}),y=()=>{g.current=!0,f.clear(),p.clear()},(0,i.useEffect)(()=>()=>y(),[]),g.current)return i.createElement(i.Fragment,null,h.map(e=>i.createElement(Xo,{key:Jo(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:l},e)));h=[...h];const v=m.current.map(Jo),x=d.map(Jo),b=v.length;for(let i=0;i<b;i++){const e=v[i];-1!==x.indexOf(e)||p.has(e)||p.set(e,void 0)}return"wait"===l&&p.size&&(h=[]),p.forEach((e,t)=>{if(-1!==x.indexOf(t))return;const r=f.get(t);if(!r)return;const a=v.indexOf(t);let g=e;if(!g){const e=()=>{p.delete(t);const e=Array.from(f.keys()).filter(e=>!x.includes(e));if(e.forEach(e=>f.delete(e)),m.current=d.filter(n=>{const r=Jo(n);return r===t||e.includes(r)}),!p.size){if(!1===u.current)return;c(),s&&s()}};g=i.createElement(Xo,{key:Jo(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},r),p.set(t,g)}h.splice(a,0,g)}),h=h.map(e=>{const t=e.key;return p.has(t)?e:i.createElement(Xo,{key:Jo(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),i.createElement(i.Fragment,null,p.size?h:h.map(e=>(0,i.cloneElement)(e)))};var Zo=n(256);const el=(0,Zo.A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var tl=n(736);const nl=(0,Zo.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),rl=(0,Zo.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),il=(0,Zo.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sl=e=>{let{title:t,description:n,initialArray:r=[1,2,3,4,5],animationType:s,highlightIndex:a=-1,showCode:o=!1,codeExample:l=""}=e;const[c,u]=(0,i.useState)(r),[d,h]=(0,i.useState)(a),[p,m]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e;switch(s){case"access":e=setInterval(()=>{h(e=>(e+1)%c.length)},1e3);break;case"search":e=setInterval(()=>{h(e=>e>=c.length-1?0:e+1)},800);break;case"insert":e=setInterval(()=>{m(e=>{const t=(e+1)%4;return 0===t?(u([1,2,3,4,5]),h(-1)):1===t?h(2):2===t?(u([1,2,99,3,4,5]),h(2)):h(-1),t})},1500);break;case"delete":e=setInterval(()=>{m(e=>{const t=(e+1)%3;return 0===t?(u([1,2,3,4,5]),h(-1)):1===t?h(2):(u([1,2,4,5]),h(-1)),t})},1500)}return()=>{e&&clearInterval(e)}},[s,c.length]);const f=e=>d===e?"bg-yellow-400 text-black border-yellow-500":"bg-blue-500 text-white border-blue-600",g=e=>({scale:d===e?1.1:1,y:d===e?-5:0});return(0,Re.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-6 bg-gray-900 rounded-lg",children:[(0,Re.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:t}),(0,Re.jsx)("p",{className:"text-gray-300 mb-6",children:n}),(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:(0,Re.jsx)($o,{mode:"wait",children:c.map((e,t)=>(0,Re.jsx)(Wo.div,{className:"\n                  w-16 h-16 flex items-center justify-center border-2 rounded-lg\n                  font-bold text-lg transition-all duration-300\n                  ".concat(f(t),"\n                "),animate:g(t),initial:{opacity:0,scale:.8},exit:{opacity:0,scale:.8},transition:{duration:.3},layout:!0,children:e},"".concat(t,"-").concat(e)))})}),(0,Re.jsx)("div",{className:"flex items-center justify-center space-x-2",children:c.map((e,t)=>(0,Re.jsxs)("div",{className:"w-16 text-center text-sm text-gray-400",children:["[",t,"]"]},t))})]}),o&&l&&(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Code Example"}),(0,Re.jsx)("pre",{className:"text-green-400 text-sm overflow-x-auto",children:(0,Re.jsx)("code",{children:l})})]})]})},al=e=>{let{lessonTitle:t,steps:n,onComplete:r,onBack:s}=e;const[a,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),m=n[a],f=a===n.length-1,g=0===a;if(!n||0===n.length)return(0,Re.jsxs)("div",{className:"bg-gray-900 min-h-screen",children:[s&&(0,Re.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,Re.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Re.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,Re.jsx)("span",{className:"text-xl",children:"\u2190"}),(0,Re.jsx)("span",{children:"Back to Course"})]})})}),(0,Re.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:t}),(0,Re.jsx)("p",{className:"text-gray-300",children:"This lesson has no content yet. Please check back later."})]})})]});return(0,Re.jsxs)("div",{className:"bg-gray-900 min-h-screen",children:[s&&(0,Re.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,Re.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Re.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,Re.jsx)("span",{className:"text-xl",children:"\u2190"}),(0,Re.jsx)("span",{children:"Back to Course"})]})})}),(0,Re.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:t}),(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"text-gray-400",children:["Step ",a+1," of ",n.length]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("button",{onClick:()=>c(!l),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l?(0,Re.jsx)(el,{size:20}):(0,Re.jsx)(tl.A,{size:20})}),(0,Re.jsx)("button",{onClick:()=>{o(0),d(null),p(!1),c(!1)},className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:(0,Re.jsx)(nl,{size:20})})]})]}),(0,Re.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-4",children:(0,Re.jsx)(Wo.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((a+1)/n.length*100,"%")},transition:{duration:.3}})})]}),(0,Re.jsx)($o,{mode:"wait",children:(0,Re.jsxs)(Wo.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"space-y-8",children:[(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,Re.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:m.title}),(0,Re.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,Re.jsx)("div",{className:"text-gray-300 leading-relaxed",dangerouslySetInnerHTML:{__html:m.content}})})]}),m.visualization&&(0,Re.jsx)(sl,{title:m.visualization.title,description:m.visualization.description,animationType:m.visualization.animationType,initialArray:m.visualization.initialArray,showCode:!!m.visualization.codeExample,codeExample:m.visualization.codeExample}),m.quiz&&(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udcdd Quick Check"}),(0,Re.jsx)("p",{className:"text-gray-300 mb-6",children:m.quiz.question}),(0,Re.jsx)("div",{className:"space-y-3",children:m.quiz.options.map((e,t)=>(0,Re.jsx)("button",{onClick:()=>(d(t),void p(!0)),disabled:h,className:"\n                      w-full p-4 text-left rounded-lg border transition-all\n                      ".concat(u===t?h?t===m.quiz.correctAnswer?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white":"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600","\n                      ").concat(h&&t===m.quiz.correctAnswer&&u!==t?"bg-green-600 border-green-500 text-white":"","\n                    "),children:e},t))}),h&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-gray-700 rounded-lg",children:[(0,Re.jsx)("p",{className:"text-white font-medium mb-2",children:u===m.quiz.correctAnswer?"\u2705 Correct!":"\u274c Not quite right."}),(0,Re.jsx)("p",{className:"text-gray-300",children:m.quiz.explanation})]})]})]},a)}),(0,Re.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Re.jsxs)("button",{onClick:()=>{a>0&&(o(a-1),d(null),p(!1))},disabled:g,className:"\n            flex items-center space-x-2 px-6 py-3 rounded-lg transition-all\n            ".concat(g?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-500","\n          "),children:[(0,Re.jsx)(rl,{size:20}),(0,Re.jsx)("span",{children:"Previous"})]}),(0,Re.jsxs)("button",{onClick:()=>{a<n.length-1?(o(a+1),d(null),p(!1)):r&&r()},disabled:m.quiz&&!h,className:"\n            flex items-center space-x-2 px-6 py-3 rounded-lg transition-all\n            ".concat(m.quiz&&!h?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700","\n          "),children:[(0,Re.jsx)("span",{children:f?"Complete":"Next"}),(0,Re.jsx)(il,{size:20})]})]})]})]})},ol={"arrays-introduction":{id:"arrays-introduction",title:"Introduction to Arrays",description:"Learn the fundamentals of arrays with interactive visualizations",steps:[{id:"step1",title:"What is an Array?",content:"\n        <p>An array is like a row of boxes, each containing a value. Every box has a number (called an index) that helps us find what's inside.</p>\n        <p>Think of it like:</p>\n        <ul>\n          <li>A street with numbered houses</li>\n          <li>A bookshelf with numbered slots</li>\n          <li>A line of performers, each with a position</li>\n        </ul>\n        <p>Arrays are <strong>zero-indexed</strong>, meaning the first position is labeled 0, not 1!</p>\n      ",visualization:{title:"Array Structure",description:"Each element has a value and an index position",animationType:"static",initialArray:[42,17,89,3,56],codeExample:"// Creating an array\nconst numbers = [42, 17, 89, 3, 56];\n\n// Array indices:  0   1   2   3   4\n// Array values:  42  17  89   3  56"}},{id:"step2",title:"Accessing Array Elements",content:"\n        <p>To get a value from an array, we use its index inside square brackets: <code>array[index]</code></p>\n        <p>Watch as we access different elements in the array below. Notice how the yellow highlight shows which element we're accessing!</p>\n        <p><strong>Key Point:</strong> Array access is super fast - it takes the same amount of time regardless of the array size! This is called O(1) time complexity.</p>\n      ",visualization:{title:"Accessing Elements",description:"Watch as we access each element by its index",animationType:"access",initialArray:[42,17,89,3,56],codeExample:"// Accessing elements by index\nconsole.log(numbers[0]); // Output: 42 (first element)\nconsole.log(numbers[2]); // Output: 89 (third element)\nconsole.log(numbers[4]); // Output: 56 (last element)\n\n// Remember: arrays start at index 0!"},quiz:{question:"What is the value at index 2 in the array [10, 20, 30, 40, 50]?",options:["10","20","30","40"],correctAnswer:2,explanation:"Since arrays are zero-indexed, index 2 refers to the third element, which is 30."}},{id:"step3",title:"Why Arrays are Important",content:"\n        <p>Arrays are fundamental in programming because they:</p>\n        <ul>\n          <li><strong>Fast Access:</strong> Get any element instantly with its index</li>\n          <li><strong>Foundation:</strong> Building blocks for complex data structures</li>\n          <li><strong>Organization:</strong> Store related data together</li>\n          <li><strong>Iteration:</strong> Easy to process all elements</li>\n        </ul>\n        <p>Arrays are used everywhere: from storing user profiles to managing game scores, from image pixels to shopping cart items!</p>\n      ",visualization:{title:"Real-World Examples",description:"Arrays represent collections in everyday programming",animationType:"static",initialArray:["cart","phone","game","book","music"],codeExample:"// Real-world array examples\nconst shoppingCart = ['apple', 'bread', 'milk'];\nconst gameScores = [1500, 2300, 1800, 2100];\nconst usernames = ['alice', 'bob', 'charlie'];\nconst temperatures = [72, 75, 68, 70, 73];"}}]},"array-operations":{id:"array-operations",title:"Array Operations",description:"Learn how to add, remove, and modify array elements",steps:[{id:"step1",title:"Adding Elements",content:"\n        <p>There are several ways to add elements to an array:</p>\n        <ul>\n          <li><strong>push():</strong> Adds to the end (fast!)</li>\n          <li><strong>unshift():</strong> Adds to the beginning (slower)</li>\n          <li><strong>splice():</strong> Adds at any position</li>\n        </ul>\n        <p>Watch the animation to see how insertion at different positions affects the array!</p>\n      ",visualization:{title:"Array Insertion",description:"Adding element 99 at position 2 - watch how elements shift!",animationType:"insert",initialArray:[1,2,3,4,5],codeExample:"// Adding elements\nconst arr = [1, 2, 3, 4, 5];\n\narr.push(6);           // [1, 2, 3, 4, 5, 6] - O(1)\narr.unshift(0);        // [0, 1, 2, 3, 4, 5, 6] - O(n)\narr.splice(2, 0, 99);  // [0, 1, 99, 2, 3, 4, 5, 6] - O(n)"},quiz:{question:"Which array operation is fastest for adding elements?",options:["unshift() - add to beginning","push() - add to end","splice() - add anywhere","They are all the same speed"],correctAnswer:1,explanation:"push() is fastest because it adds to the end without shifting existing elements. It runs in O(1) time, while unshift() and splice() require shifting elements, taking O(n) time."}},{id:"step2",title:"Removing Elements",content:"\n        <p>Just like adding, there are different ways to remove elements:</p>\n        <ul>\n          <li><strong>pop():</strong> Removes from the end (fast!)</li>\n          <li><strong>shift():</strong> Removes from the beginning (slower)</li>\n          <li><strong>splice():</strong> Removes from any position</li>\n        </ul>\n        <p>Notice how removing from the middle requires shifting all the elements to the right!</p>\n      ",visualization:{title:"Array Deletion",description:"Removing element at position 2 - watch the remaining elements shift left!",animationType:"delete",initialArray:[1,2,3,4,5],codeExample:"// Removing elements\nconst arr = [1, 2, 3, 4, 5];\n\narr.pop();           // [1, 2, 3, 4] - O(1)\narr.shift();         // [2, 3, 4] - O(n)\narr.splice(1, 1);    // [2, 4] - O(n)\n\n// Returns the removed element(s)"}},{id:"step3",title:"Time Complexity Summary",content:'\n        <p>Understanding performance is crucial for writing efficient code:</p>\n        <table style="color: white; border-collapse: collapse; width: 100%;">\n          <tr style="background-color: #374151;">\n            <th style="padding: 12px; border: 1px solid #6B7280;">Operation</th>\n            <th style="padding: 12px; border: 1px solid #6B7280;">Time Complexity</th>\n            <th style="padding: 12px; border: 1px solid #6B7280;">Why?</th>\n          </tr>\n          <tr>\n            <td style="padding: 12px; border: 1px solid #6B7280;">Access by index</td>\n            <td style="padding: 12px; border: 1px solid #6B7280; color: #10B981;">O(1)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280;">Direct memory calculation</td>\n          </tr>\n          <tr style="background-color: #374151;">\n            <td style="padding: 12px; border: 1px solid #6B7280;">Push/Pop (end)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280; color: #10B981;">O(1)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280;">No shifting needed</td>\n          </tr>\n          <tr>\n            <td style="padding: 12px; border: 1px solid #6B7280;">Unshift/Shift (beginning)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280; color: #F59E0B;">O(n)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280;">Must shift all elements</td>\n          </tr>\n          <tr style="background-color: #374151;">\n            <td style="padding: 12px; border: 1px solid #6B7280;">Insert/Delete (middle)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280; color: #F59E0B;">O(n)</td>\n            <td style="padding: 12px; border: 1px solid #6B7280;">Must shift remaining elements</td>\n          </tr>\n        </table>\n        <p style="margin-top: 16px;"><strong>Pro Tip:</strong> When possible, prefer operations at the end of arrays for better performance!</p>\n      '}]},"array-search":{id:"array-search",title:"Searching in Arrays",description:"Learn different techniques to find elements in arrays",steps:[{id:"step1",title:"Linear Search",content:"\n        <p>Linear search is the most basic search algorithm. We check each element one by one until we find what we're looking for.</p>\n        <p>It's like looking for a specific book on a shelf by checking each book from left to right until you find it!</p>\n        <p>Watch the animation below to see how linear search works - notice how we examine each element sequentially.</p>\n      ",visualization:{title:"Linear Search in Action",description:"Searching through the array element by element",animationType:"search",initialArray:[64,34,25,12,22,11,90],codeExample:"function linearSearch(arr, target) {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] === target) {\n      return i; // Found! Return the index\n    }\n  }\n  return -1; // Not found\n}\n\n// Example usage\nconst numbers = [64, 34, 25, 12, 22, 11, 90];\nconsole.log(linearSearch(numbers, 22)); // Output: 4"},quiz:{question:"What is the worst-case time complexity of linear search?",options:["O(1)","O(log n)","O(n)","O(n\xb2)"],correctAnswer:2,explanation:"In the worst case, linear search might need to check every element in the array, giving us O(n) time complexity where n is the number of elements."}},{id:"step2",title:"Built-in Search Methods",content:"\n        <p>JavaScript provides several built-in methods that make searching easier:</p>\n        <ul>\n          <li><strong>indexOf():</strong> Finds the first occurrence of an element</li>\n          <li><strong>includes():</strong> Checks if an element exists (returns true/false)</li>\n          <li><strong>find():</strong> Finds the first element matching a condition</li>\n          <li><strong>findIndex():</strong> Gets the index of the first matching element</li>\n        </ul>\n        <p>These methods use linear search internally but provide a cleaner API.</p>\n      ",visualization:{title:"Built-in Search Methods",description:"JavaScript provides convenient methods for common search tasks",animationType:"static",initialArray:["apple","banana","orange","grape","kiwi"],codeExample:"const fruits = ['apple', 'banana', 'orange', 'grape', 'kiwi'];\n\n// indexOf - returns index or -1\nfruits.indexOf('orange');     // 2\nfruits.indexOf('strawberry'); // -1 (not found)\n\n// includes - returns boolean\nfruits.includes('banana');    // true\nfruits.includes('strawberry'); // false\n\n// find - returns element or undefined\nconst users = [{id: 1, name: 'Alice'}, {id: 2, name: 'Bob'}];\nusers.find(user => user.id === 2);  // {id: 2, name: 'Bob'}\n\n// findIndex - returns index or -1\nusers.findIndex(user => user.name === 'Alice');  // 0"}},{id:"step3",title:"Binary Search (Bonus)",content:'\n        <p>Binary search is a much faster algorithm, but it only works on <strong>sorted arrays</strong>.</p>\n        <p>It works like the "guess my number" game:</p>\n        <ol>\n          <li>Start in the middle</li>\n          <li>Is it the target? If yes, we\'re done!</li>\n          <li>Is it too high? Search the left half</li>\n          <li>Is it too low? Search the right half</li>\n          <li>Repeat until found or no more elements</li>\n        </ol>\n        <p><strong>Amazing fact:</strong> Binary search can find any element in a million-item array in just 20 steps!</p>\n      ',visualization:{title:"Binary Search Concept",description:"Binary search eliminates half of the remaining elements with each step",animationType:"static",initialArray:[1,3,5,7,9,11,13,15,17,19],codeExample:"function binarySearch(sortedArr, target) {\n  let left = 0;\n  let right = sortedArr.length - 1;\n  \n  while (left <= right) {\n    const mid = Math.floor((left + right) / 2);\n    \n    if (sortedArr[mid] === target) {\n      return mid; // Found it!\n    }\n    \n    if (sortedArr[mid] < target) {\n      left = mid + 1; // Search right half\n    } else {\n      right = mid - 1; // Search left half\n    }\n  }\n  \n  return -1; // Not found\n}\n\n// Time Complexity: O(log n) - much faster than O(n)!"},quiz:{question:"What is required for binary search to work correctly?",options:["The array must be sorted","The array must have even number of elements","The array must contain only numbers","The array must be small"],correctAnswer:0,explanation:"Binary search requires the array to be sorted because it relies on eliminating half of the remaining elements by comparing with the middle element."}}]},"array-traversal":{id:"array-traversal",title:"Array Traversal Techniques",description:"Different ways to loop through array elements",steps:[{id:"step1",title:"The Classic For Loop",content:"\n        <p>The traditional for loop is the most flexible way to traverse an array:</p>\n        <ul>\n          <li><strong>Full control:</strong> Access to index and element</li>\n          <li><strong>Conditional breaking:</strong> Stop early if needed</li>\n          <li><strong>Skip elements:</strong> Jump to specific positions</li>\n          <li><strong>Reverse iteration:</strong> Go backwards through the array</li>\n        </ul>\n        <p>Use the classic for loop when you need maximum control over the iteration process.</p>\n      ",visualization:{title:"For Loop Traversal",description:"The classic for loop gives you complete control over iteration",animationType:"access",initialArray:[10,20,30,40,50],codeExample:"const numbers = [10, 20, 30, 40, 50];\n\n// Standard forward iteration\nfor (let i = 0; i < numbers.length; i++) {\n  console.log(`Index ${i}: ${numbers[i]}`);\n}\n\n// Backward iteration\nfor (let i = numbers.length - 1; i >= 0; i--) {\n  console.log(numbers[i]);\n}\n\n// Skip even indices\nfor (let i = 1; i < numbers.length; i += 2) {\n  console.log(numbers[i]); // 20, 40\n}"}},{id:"step2",title:"Modern Iteration Methods",content:"\n        <p>JavaScript provides elegant functional methods for common iteration patterns:</p>\n        <ul>\n          <li><strong>for...of:</strong> Simple iteration over values</li>\n          <li><strong>forEach():</strong> Functional approach with callbacks</li>\n          <li><strong>map():</strong> Transform each element into a new array</li>\n          <li><strong>filter():</strong> Create a new array with elements that pass a test</li>\n          <li><strong>reduce():</strong> Reduce array to a single value</li>\n        </ul>\n        <p>These methods make your code more readable and less error-prone!</p>\n      ",visualization:{title:"Modern Iteration",description:"Functional methods provide clean, readable code",animationType:"static",initialArray:[2,4,6,8,10],codeExample:"const numbers = [2, 4, 6, 8, 10];\n\n// for...of: simplest for values only\nfor (const num of numbers) {\n  console.log(num);\n}\n\n// forEach: functional style\nnumbers.forEach((num, index) => {\n  console.log(`${index}: ${num}`);\n});\n\n// map: transform each element\nconst doubled = numbers.map(num => num * 2);\n// [4, 8, 12, 16, 20]\n\n// filter: elements that pass a test\nconst large = numbers.filter(num => num > 5);\n// [6, 8, 10]\n\n// reduce: combine into single value\nconst sum = numbers.reduce((total, num) => total + num, 0);\n// 30"},quiz:{question:"Which method would you use to create a new array with only elements greater than 5?",options:["forEach()","map()","filter()","reduce()"],correctAnswer:2,explanation:"filter() creates a new array containing only the elements that pass the test function. In this case, it would return elements greater than 5."}},{id:"step3",title:"Choosing the Right Method",content:'\n        <p>Here\'s when to use each traversal method:</p>\n        <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n          <h4 style="color: #10B981; margin-bottom: 12px;">\ud83d\udd27 Use for loop when:</h4>\n          <ul>\n            <li>You need the index for calculations</li>\n            <li>You might break early or skip elements</li>\n            <li>You\'re modifying the array while iterating</li>\n            <li>Performance is critical (slightly faster)</li>\n          </ul>\n        </div>\n        <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n          <h4 style="color: #3B82F6; margin-bottom: 12px;">\u2728 Use functional methods when:</h4>\n          <ul>\n            <li><strong>for...of:</strong> Simple iteration, just need values</li>\n            <li><strong>forEach:</strong> Side effects (logging, updating DOM)</li>\n            <li><strong>map:</strong> Transform all elements</li>\n            <li><strong>filter:</strong> Select elements that match criteria</li>\n            <li><strong>reduce:</strong> Calculate a summary value</li>\n          </ul>\n        </div>\n        <p><strong>Pro Tip:</strong> Functional methods are often more readable and less error-prone, while for loops offer maximum flexibility!</p>\n      ',quiz:{question:"You need to find the sum of all even numbers in an array. Which combination is most appropriate?",options:["for loop with if statement","forEach() with if statement","filter() then reduce()","map() then reduce()"],correctAnswer:2,explanation:"filter() to get only even numbers, then reduce() to sum them up. This is more readable and follows functional programming principles: arr.filter(n => n % 2 === 0).reduce((sum, n) => sum + n, 0)"}}]},"array-2d":{id:"array-2d",title:"Two-Dimensional Arrays",description:"Working with matrices and grid-like data structures",steps:[{id:"step1",title:"What are 2D Arrays?",content:"\n        <p>A 2D array is an array of arrays - think of it as a grid or table!</p>\n        <p>Common examples include:</p>\n        <ul>\n          <li><strong>Game boards:</strong> Chess, tic-tac-toe, minesweeper</li>\n          <li><strong>Images:</strong> Each pixel represented as an element</li>\n          <li><strong>Spreadsheets:</strong> Rows and columns of data</li>\n          <li><strong>Maps:</strong> Geographic grids, elevation data</li>\n        </ul>\n        <p>You access elements using two indices: <code>matrix[row][column]</code></p>\n      ",visualization:{title:"2D Array Structure",description:"A 3x3 matrix - like a tic-tac-toe board!",animationType:"static",initialArray:["1,2,3","4,5,6","7,8,9"],codeExample:"// Creating a 2D array (3x3 matrix)\nconst matrix = [\n  [1, 2, 3],    // Row 0\n  [4, 5, 6],    // Row 1  \n  [7, 8, 9]     // Row 2\n];\n\n// Accessing elements: matrix[row][column]\nconsole.log(matrix[0][0]); // 1 (top-left)\nconsole.log(matrix[1][2]); // 6 (middle-right)\nconsole.log(matrix[2][1]); // 8 (bottom-center)\n\n// Think: matrix[row][column] like matrix[y][x]"},quiz:{question:'In a 2D array called "grid", how would you access the element in the 2nd row, 3rd column?',options:["grid[2][3]","grid[1][2]","grid[3][2]","grid[2,3]"],correctAnswer:1,explanation:"Since arrays are zero-indexed, the 2nd row is at index 1 and the 3rd column is at index 2. So the answer is grid[1][2]."}},{id:"step2",title:"Traversing 2D Arrays",content:"\n        <p>To visit every element in a 2D array, we use <strong>nested loops</strong>:</p>\n        <ul>\n          <li>\ud83d\udd04 <strong>Outer loop:</strong> Iterates through rows</li>\n          <li>\ud83d\udd04 <strong>Inner loop:</strong> Iterates through columns in each row</li>\n        </ul>\n        <p>This pattern is fundamental and you'll use it constantly when working with grids, images, and matrices!</p>\n        <p>Common patterns include:</p>\n        <ul>\n          <li>Row-by-row processing (like reading a book)</li>\n          <li>Column-by-column processing</li>\n          <li>Diagonal traversal</li>\n          <li>Searching for specific patterns</li>\n        </ul>\n      ",visualization:{title:"Nested Loop Traversal",description:"Visiting each element row by row, like reading a book",animationType:"access",initialArray:["A1","A2","A3","B1","B2"],codeExample:"const matrix = [\n  ['A1', 'A2', 'A3'],\n  ['B1', 'B2', 'B3'],\n  ['C1', 'C2', 'C3']\n];\n\n// Traverse all elements (row by row)\nfor (let row = 0; row < matrix.length; row++) {\n  for (let col = 0; col < matrix[row].length; col++) {\n    console.log(`[${row}][${col}]: ${matrix[row][col]}`);\n  }\n}\n\n// Using for...of (cleaner syntax)\nfor (const row of matrix) {\n  for (const element of row) {\n    console.log(element);\n  }\n}"}},{id:"step3",title:"Common 2D Array Operations",content:'\n        <p>Here are essential operations you\'ll frequently perform on 2D arrays:</p>\n        <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n          <h4 style="color: #10B981;">\ud83e\uddee Sum Operations:</h4>\n          <ul>\n            <li>Sum of each row</li>\n            <li>Sum of each column</li>\n            <li>Sum of diagonals</li>\n          </ul>\n        </div>\n        <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n          <h4 style="color: #3B82F6;">\ud83d\udd04 Matrix Transformations:</h4>\n          <ul>\n            <li>Transpose (flip rows and columns)</li>\n            <li>Rotate 90 degrees</li>\n            <li>Mirror horizontally/vertically</li>\n          </ul>\n        </div>\n        <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n          <h4 style="color: #F59E0B;">\ud83d\udd0d Search Operations:</h4>\n          <ul>\n            <li>Find specific values</li>\n            <li>Count occurrences</li>\n            <li>Find patterns</li>\n          </ul>\n        </div>\n      ',visualization:{title:"Matrix Operations",description:"Common operations on 2D arrays",animationType:"static",initialArray:["1,2,3","4,5,6","7,8,9"],codeExample:"const matrix = [\n  [1, 2, 3],\n  [4, 5, 6], \n  [7, 8, 9]\n];\n\n// Sum of each row\nconst rowSums = matrix.map(row => \n  row.reduce((sum, num) => sum + num, 0)\n);\nconsole.log(rowSums); // [6, 15, 24]\n\n// Transpose matrix (flip rows \u2194 columns)\nconst transposed = matrix[0].map((_, colIndex) =>\n  matrix.map(row => row[colIndex])\n);\n// Result: [[1,4,7], [2,5,8], [3,6,9]]\n\n// Find all elements > 5\nlet found = [];\nfor (let i = 0; i < matrix.length; i++) {\n  for (let j = 0; j < matrix[i].length; j++) {\n    if (matrix[i][j] > 5) {\n      found.push({value: matrix[i][j], row: i, col: j});\n    }\n  }\n}"},quiz:{question:"What does transposing a matrix do?",options:["Reverses the order of elements","Converts rows to columns and columns to rows","Sorts all elements","Removes duplicate elements"],correctAnswer:1,explanation:"Transposing a matrix swaps its rows and columns. Element at position [i][j] moves to position [j][i]. It's like flipping the matrix over its main diagonal."}}]}},ll=[{id:"arrays-introduction",title:"What Are Arrays?",description:"Learn the fundamentals of arrays with interactive visualizations",type:"concept",difficulty:"beginner",duration:15,xpReward:100,completed:!1,unlocked:!0,level:1,conceptConfig:{id:"arrays-introduction",title:"Introduction to Arrays",description:"Learn the fundamentals of arrays with interactive visualizations",steps:[{id:"step1",title:"What is an Array?",content:"\n            <p>An array is like a row of boxes, each containing a value. Every box has a number (called an index) that helps us find what's inside.</p>\n            <p>Think of it like:</p>\n            <ul>\n              <li>A street with numbered houses</li>\n              <li>A bookshelf with numbered slots</li>\n              <li>A line of performers, each with a position</li>\n            </ul>\n            <p>Arrays are <strong>zero-indexed</strong>, meaning the first position is labeled 0, not 1!</p>\n          "},{id:"step2",title:"Accessing Array Elements",content:"\n            <p>To get a value from an array, we use its index inside square brackets: <code>array[index]</code></p>\n            <p>Watch as we access different elements in the array below. Notice how the yellow highlight shows which element we're accessing!</p>\n            <p><strong>Key Point:</strong> Array access is super fast - it takes the same amount of time regardless of the array size! This is called O(1) time complexity.</p>\n          ",quiz:{question:"What is the value at index 2 in the array [10, 20, 30, 40, 50]?",options:["10","20","30","40"],correctAnswer:2,explanation:"Since arrays are zero-indexed, index 2 refers to the third element, which is 30."}}],xpReward:100}},{id:"array-access",title:"Accessing Elements",description:"Master array indexing and element access patterns",type:"concept",difficulty:"beginner",duration:12,xpReward:80,completed:!1,unlocked:!0,level:1,conceptConfig:{id:"array-access",title:"Accessing Array Elements",description:"Learn how to access and modify array elements",steps:[{id:"step1",title:"Reading Array Elements",content:"\n            <p>Accessing array elements is one of the most fundamental operations in programming!</p>\n            <p>Remember: arrays use <strong>zero-based indexing</strong>, so the first element is at index 0.</p>\n            <p>The syntax is simple: <code>arrayName[index]</code></p>\n          "},{id:"step2",title:"Modifying Array Elements",content:"\n            <p>You can also change array elements by assigning new values:</p>\n            <p><code>arrayName[index] = newValue</code></p>\n            <p>This is called <strong>mutation</strong> - you're changing the original array.</p>\n          ",quiz:{question:'After executing "arr[1] = 99" on array [10, 20, 30], what is arr[1]?',options:["10","99","20","30"],correctAnswer:1,explanation:"The assignment arr[1] = 99 changes the element at index 1 from 20 to 99."}}],xpReward:80}},{id:"array-basics-playground",title:"Array Basics Practice",description:"Practice creating and manipulating simple arrays",type:"playground",difficulty:"beginner",duration:20,xpReward:150,completed:!1,unlocked:!1,prerequisite:["arrays-introduction","array-access"],level:1,playgroundConfig:{id:"array-basics-playground",title:"Array Basics Practice",description:"Create a function that returns the first and last elements of an array",starterCode:"function getFirstAndLast(arr) {\n  // Your code here\n  // Return an array with first and last elements\n  \n}\n\n// Test your function\nconsole.log(getFirstAndLast([1, 2, 3, 4, 5])); // Should return [1, 5]",solution:"function getFirstAndLast(arr) {\n  if (arr.length === 0) return [];\n  if (arr.length === 1) return [arr[0]];\n  return [arr[0], arr[arr.length - 1]];\n}",hints:["Remember arrays are zero-indexed","Handle edge cases like empty arrays","Use arr.length - 1 to get the last index"],testCases:["getFirstAndLast([1, 2, 3, 4, 5]) should return [1, 5]","getFirstAndLast([42]) should return [42]","getFirstAndLast([]) should return []"],difficulty:"beginner",xpReward:150}},{id:"beginner-revision",title:"Level 1 Assessment",description:"Test your understanding of basic array concepts",type:"revision",difficulty:"beginner",duration:25,xpReward:200,completed:!1,unlocked:!1,prerequisite:["array-basics-playground"],level:1,revisionConfig:{id:"beginner-revision",level:"beginner",passingScore:70,timeLimit:25,xpReward:200,mcqQuestions:[{id:"mcq-1",question:"What is the index of the first element in an array?",options:["1","0","-1","undefined"],correctAnswer:1,explanation:"Arrays in JavaScript are zero-indexed, meaning the first element is at index 0.",points:20},{id:"mcq-2",question:'How do you get the length of an array called "myArray"?',options:["myArray.size","myArray.length","myArray.count()","length(myArray)"],correctAnswer:1,explanation:"The length property returns the number of elements in an array.",points:20},{id:"mcq-3",question:"What happens when you access an array index that doesn't exist?",options:["Error is thrown","Returns null","Returns undefined","Returns 0"],correctAnswer:2,explanation:"Accessing a non-existent index returns undefined in JavaScript.",points:20},{id:"mcq-4",question:"Which is the correct way to create an empty array?",options:["const arr = [];","const arr = {};","const arr = new Array[];","const arr = array();"],correctAnswer:0,explanation:"Square brackets [] create an empty array literal.",points:20},{id:"mcq-5",question:"What is the last index of an array with length 5?",options:["5","4","6","3"],correctAnswer:1,explanation:"Since arrays are zero-indexed, the last index is length - 1 = 5 - 1 = 4.",points:20}],codingChallenges:[{id:"coding-1",title:"Array Sum",description:"Calculate the sum of all numbers in an array",starterCode:"function sumArray(numbers) {\n  // Your code here\n  \n}",solution:"function sumArray(numbers) {\n  let sum = 0;\n  for (let i = 0; i < numbers.length; i++) {\n    sum += numbers[i];\n  }\n  return sum;\n}",testCases:["sumArray([1, 2, 3, 4, 5]) === 15","sumArray([]) === 0","sumArray([-1, 1, -2, 2]) === 0"],points:40,difficulty:"beginner"}]}},{id:"array-operations",title:"Array Operations",description:"Learn to add, remove, and modify array elements efficiently",type:"concept",difficulty:"intermediate",duration:18,xpReward:120,completed:!1,unlocked:!1,prerequisite:["beginner-revision"],level:2,conceptConfig:{id:"array-operations",title:"Array Operations",description:"Learn how to add, remove, and modify array elements",steps:[],xpReward:120}},{id:"array-search",title:"Searching in Arrays",description:"Master linear search and understand binary search concepts",type:"concept",difficulty:"intermediate",duration:22,xpReward:140,completed:!1,unlocked:!1,prerequisite:["array-operations"],level:2},{id:"two-pointer-playground",title:"Two Pointer Technique",description:"Solve array problems using the two-pointer approach",type:"playground",difficulty:"intermediate",duration:30,xpReward:200,completed:!1,unlocked:!1,prerequisite:["array-search"],level:2,playgroundConfig:{id:"two-pointer-playground",title:"Two Sum Problem",description:"Find two numbers in a sorted array that add up to a target sum",starterCode:"function twoSum(sortedArray, target) {\n  // Use two pointers: left starts at 0, right starts at end\n  // Move pointers based on current sum vs target\n  \n}",solution:"function twoSum(sortedArray, target) {\n  let left = 0;\n  let right = sortedArray.length - 1;\n  \n  while (left < right) {\n    const sum = sortedArray[left] + sortedArray[right];\n    \n    if (sum === target) {\n      return [left, right];\n    } else if (sum < target) {\n      left++;\n    } else {\n      right--;\n    }\n  }\n  \n  return null; // No solution found\n}",hints:["Use two pointers: one at start, one at end","If sum is too small, move left pointer right","If sum is too large, move right pointer left"],testCases:["twoSum([1, 3, 6, 8, 11, 15], 9) should return [1, 2]","twoSum([2, 7, 11, 15], 9) should return [0, 1]","twoSum([1, 2, 3], 7) should return null"],difficulty:"intermediate",xpReward:200}},{id:"sliding-window-playground",title:"Sliding Window Problems",description:"Master the sliding window technique for subarray problems",type:"playground",difficulty:"intermediate",duration:35,xpReward:220,completed:!1,unlocked:!1,prerequisite:["two-pointer-playground"],level:2},{id:"intermediate-revision",title:"Level 2 Assessment",description:"Advanced array operations and algorithm challenges",type:"revision",difficulty:"intermediate",duration:35,xpReward:300,completed:!1,unlocked:!1,prerequisite:["sliding-window-playground"],level:2,revisionConfig:{id:"intermediate-revision",level:"intermediate",passingScore:75,timeLimit:35,xpReward:300,mcqQuestions:[{id:"mcq-int-1",question:"What is the time complexity of the two-pointer technique for sorted arrays?",options:["O(1)","O(n)","O(n log n)","O(n\xb2)"],correctAnswer:1,explanation:"Two-pointer technique processes each element at most once, giving O(n) time complexity.",points:25},{id:"mcq-int-2",question:"Which approach is best for finding a subarray with maximum sum?",options:["Brute force O(n\xb3)","Sliding window always","Kadane's algorithm","Binary search"],correctAnswer:2,explanation:"Kadane's algorithm solves maximum subarray sum in O(n) time and O(1) space.",points:25},{id:"mcq-int-3",question:"What makes binary search work on arrays?",options:["Array must be large","Array must be sorted","Array must have unique elements","Array must be numeric"],correctAnswer:1,explanation:"Binary search requires a sorted array to eliminate half of the search space each iteration.",points:25},{id:"mcq-int-4",question:"In sliding window problems, when do we expand the window?",options:["When condition is violated","When condition is satisfied","At regular intervals","Only at the end"],correctAnswer:1,explanation:"We expand the window when the current condition is satisfied and we want to include more elements.",points:25}],codingChallenges:[{id:"coding-int-1",title:"Remove Duplicates",description:"Remove duplicates from a sorted array in-place",starterCode:"function removeDuplicates(nums) {\n  // Your code here\n  \n}",solution:"function removeDuplicates(nums) {\n  if (nums.length === 0) return 0;\n  \n  let writeIndex = 1;\n  for (let i = 1; i < nums.length; i++) {\n    if (nums[i] !== nums[i - 1]) {\n      nums[writeIndex] = nums[i];\n      writeIndex++;\n    }\n  }\n  \n  return writeIndex;\n}",testCases:["removeDuplicates([1,1,2]) should return 2","removeDuplicates([0,0,1,1,1,2,2,3,3,4]) should return 5","removeDuplicates([1]) should return 1"],points:50,difficulty:"intermediate"}]}},{id:"two-sum-challenge",title:"Two Sum Challenge",description:"Find two numbers that add up to a target using hash maps",type:"playground",difficulty:"beginner",duration:25,xpReward:100,completed:!1,unlocked:!0,level:3,playgroundConfig:{id:"two-sum-challenge",title:"Two Sum",description:"Given an array of integers and a target, return indices of two numbers that add up to the target",starterCode:"function solve({ nums, target }) {\n  // Return array of two indices [i, j]\n  // Example: nums = [2,7,11,15], target = 9\n  // Output: [0,1] because nums[0] + nums[1] = 9\n  \n  return null;\n}",solution:"function solve({ nums, target }) {\n  const map = new Map();\n  \n  for (let i = 0; i < nums.length; i++) {\n    const complement = target - nums[i];\n    \n    if (map.has(complement)) {\n      return [map.get(complement), i];\n    }\n    \n    map.set(nums[i], i);\n  }\n  \n  return null;\n}",hints:["Think about what information you need to store as you iterate.","Use a hash map to store values and their indices.","For each number, check if its complement exists in the map."],testCases:["solve({ nums: [2,7,11,15], target: 9 }) should return [0,1]","solve({ nums: [3,2,4], target: 6 }) should return [1,2]","solve({ nums: [3,3], target: 6 }) should return [0,1]"],difficulty:"beginner",xpReward:100}},{id:"kadanes-algorithm",title:"Maximum Subarray (Kadane's Algorithm)",description:"Find the contiguous subarray with the largest sum",type:"playground",difficulty:"intermediate",duration:30,xpReward:120,completed:!1,unlocked:!0,prerequisite:["two-sum-challenge"],level:3,playgroundConfig:{id:"kadanes-algorithm",title:"Maximum Subarray (Kadane's Algorithm)",description:"Find the contiguous subarray with the largest sum using dynamic programming",starterCode:"function solve(nums) {\n  // Return the maximum sum\n  // Example: [-2,1,-3,4,-1,2,1,-5,4]\n  // Output: 6 (subarray [4,-1,2,1])\n  \n  return 0;\n}",solution:"function solve(nums) {\n  let maxSum = nums[0];\n  let currentSum = nums[0];\n  \n  for (let i = 1; i < nums.length; i++) {\n    currentSum = Math.max(nums[i], currentSum + nums[i]);\n    maxSum = Math.max(maxSum, currentSum);\n  }\n  \n  return maxSum;\n}",hints:["Track the maximum sum ending at the current position.","At each element, decide: extend the existing subarray or start fresh?","Keep a global maximum as you iterate."],testCases:["solve([-2,1,-3,4,-1,2,1,-5,4]) should return 6","solve([1]) should return 1","solve([5,4,-1,7,8]) should return 23"],difficulty:"intermediate",xpReward:120}},{id:"trapping-rain-water",title:"Trapping Rain Water",description:"Calculate how much rainwater can be trapped between elevation bars",type:"playground",difficulty:"advanced",duration:40,xpReward:150,completed:!1,unlocked:!0,prerequisite:["kadanes-algorithm"],level:3,playgroundConfig:{id:"trapping-rain-water",title:"Trapping Rain Water",description:"Calculate how much rainwater can be trapped between elevation bars",starterCode:"function solve(height) {\n  // Return total trapped water\n  // Example: [0,1,0,2,1,0,1,3,2,1,2,1]\n  // Output: 6 units of water trapped\n  \n  return 0;\n}",solution:"function solve(height) {\n  if (height.length === 0) return 0;\n  \n  let left = 0, right = height.length - 1;\n  let leftMax = 0, rightMax = 0;\n  let water = 0;\n  \n  while (left < right) {\n    if (height[left] < height[right]) {\n      if (height[left] >= leftMax) {\n        leftMax = height[left];\n      } else {\n        water += leftMax - height[left];\n      }\n      left++;\n    } else {\n      if (height[right] >= rightMax) {\n        rightMax = height[right];\n      } else {\n        water += rightMax - height[right];\n      }\n      right--;\n    }\n  }\n  \n  return water;\n}",hints:["Water level at each position depends on min(leftMax, rightMax) - height.","Use two pointers moving from both ends.","Track the maximum heights seen from left and right."],testCases:["solve([0,1,0,2,1,0,1,3,2,1,2,1]) should return 6","solve([4,2,0,3,2,5]) should return 9"],difficulty:"advanced",xpReward:150}},{id:"container-most-water",title:"Container With Most Water",description:"Find two lines that form a container holding the most water",type:"playground",difficulty:"intermediate",duration:30,xpReward:120,completed:!1,unlocked:!0,prerequisite:["trapping-rain-water"],level:3,playgroundConfig:{id:"container-most-water",title:"Container With Most Water",description:"Find two lines that together with the x-axis form a container holding the most water",starterCode:"function solve(height) {\n  // Return maximum area\n  // Example: [1,8,6,2,5,4,8,3,7]\n  // Output: 49\n  \n  return 0;\n}",solution:"function solve(height) {\n  let maxArea = 0;\n  let left = 0;\n  let right = height.length - 1;\n  \n  while (left < right) {\n    const width = right - left;\n    const area = Math.min(height[left], height[right]) * width;\n    maxArea = Math.max(maxArea, area);\n    \n    if (height[left] < height[right]) {\n      left++;\n    } else {\n      right--;\n    }\n  }\n  \n  return maxArea;\n}",hints:["Area = min(height[left], height[right]) * (right - left).","Use two pointers at both ends.","Move the pointer with the smaller height inward."],testCases:["solve([1,8,6,2,5,4,8,3,7]) should return 49","solve([1,1]) should return 1"],difficulty:"intermediate",xpReward:120}},{id:"array-2d",title:"Two-Dimensional Arrays",description:"Work with matrices and grid-like data structures",type:"concept",difficulty:"advanced",duration:25,xpReward:160,completed:!1,unlocked:!1,prerequisite:["intermediate-revision"],level:3},{id:"array-traversal",title:"Advanced Traversal",description:"Master different iteration patterns and functional methods",type:"concept",difficulty:"advanced",duration:20,xpReward:150,completed:!1,unlocked:!1,prerequisite:["array-2d"],level:3},{id:"matrix-playground",title:"Matrix Operations",description:"Implement complex matrix algorithms and transformations",type:"playground",difficulty:"advanced",duration:40,xpReward:280,completed:!1,unlocked:!1,prerequisite:["array-traversal"],level:3},{id:"advanced-revision",title:"Level 3 Assessment",description:"Complex array algorithms and 2D array challenges",type:"revision",difficulty:"advanced",duration:45,xpReward:400,completed:!1,unlocked:!1,prerequisite:["matrix-playground"],level:3,revisionConfig:{id:"advanced-revision",level:"advanced",passingScore:80,timeLimit:45,xpReward:400,mcqQuestions:[{id:"mcq-adv-1",question:"What is the space complexity of in-place matrix rotation?",options:["O(1)","O(n)","O(n\xb2)","O(log n)"],correctAnswer:0,explanation:"In-place rotation uses only constant extra space regardless of matrix size.",points:20},{id:"mcq-adv-2",question:"How do you traverse a matrix in spiral order?",options:["Row by row then column by column","Use four boundaries and adjust them","Diagonal traversal","Random access"],correctAnswer:1,explanation:"Spiral traversal maintains four boundaries (top, bottom, left, right) and shrinks them as we traverse.",points:20},{id:"mcq-adv-3",question:"What is the time complexity of matrix multiplication?",options:["O(n\xb2)","O(n\xb3)","O(n log n)","O(n)"],correctAnswer:1,explanation:"Standard matrix multiplication has O(n\xb3) time complexity for n\xd7n matrices.",points:20},{id:"mcq-adv-4",question:"In dynamic programming with 2D arrays, what do we typically optimize?",options:["Time complexity only","Space complexity only","Both time and space","Memory access patterns"],correctAnswer:2,explanation:"DP with 2D arrays often optimizes both time (avoiding recalculation) and space (using rolling arrays).",points:20},{id:"mcq-adv-5",question:'What is the key insight in the "Set Matrix Zeroes" problem?',options:["Use extra matrix","Use first row/column as markers","Sort the matrix","Use recursion"],correctAnswer:1,explanation:"The optimal solution uses the first row and column as markers to achieve O(1) space complexity.",points:20}],codingChallenges:[{id:"coding-adv-1",title:"Rotate Matrix 90 Degrees",description:"Rotate an n\xd7n matrix 90 degrees clockwise in-place",starterCode:"function rotate(matrix) {\n  // Your code here\n  // Rotate the matrix in-place\n  \n}",solution:"function rotate(matrix) {\n  const n = matrix.length;\n  \n  // Step 1: Transpose the matrix\n  for (let i = 0; i < n; i++) {\n    for (let j = i; j < n; j++) {\n      [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];\n    }\n  }\n  \n  // Step 2: Reverse each row\n  for (let i = 0; i < n; i++) {\n    matrix[i].reverse();\n  }\n}",testCases:["rotate([[1,2,3],[4,5,6],[7,8,9]]) should result in [[7,4,1],[8,5,2],[9,6,3]]","rotate([[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]) should work correctly","rotate([[1]]) should result in [[1]]"],points:60,difficulty:"advanced"}]}},{id:"final-mastery",title:"Array Mastery Test",description:"Comprehensive final assessment covering all array concepts",type:"mastery",difficulty:"advanced",duration:60,xpReward:500,completed:!1,unlocked:!1,prerequisite:["advanced-revision"],level:3},{id:"dynamic-programming-arrays",title:"Dynamic Programming with Arrays",description:"Master DP problems using arrays for memoization and optimization",type:"concept",difficulty:"advanced",duration:30,xpReward:200,completed:!1,unlocked:!1,prerequisite:["advanced-revision"],level:4,conceptConfig:{id:"dynamic-programming-arrays",title:"Dynamic Programming with Arrays",description:"Learn how to use arrays for dynamic programming solutions",steps:[{id:"step1",title:"Introduction to DP with Arrays",content:"\n            <p>Dynamic Programming (DP) uses arrays to store previously computed results, avoiding redundant calculations.</p>\n            <p><strong>Key Concepts:</strong></p>\n            <ul>\n              <li>Memoization: Store results in an array</li>\n              <li>Bottom-up approach: Build solutions from smaller subproblems</li>\n              <li>Optimal substructure: Larger problems built from optimal smaller solutions</li>\n            </ul>\n            <p>Common DP array patterns include 1D arrays for sequence problems and 2D arrays for grid-based problems.</p>\n          "},{id:"step2",title:"Classic DP Problems",content:'\n            <p>Let\'s explore classic DP problems that use arrays:</p>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #10B981;">\ud83d\udd22 Fibonacci with Memoization:</h4>\n              <p>Instead of recalculating F(n-1) and F(n-2) repeatedly, store results in an array.</p>\n            </div>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #3B82F6;">\ud83d\udcb0 Coin Change Problem:</h4>\n              <p>Find minimum coins needed for a target amount using DP array.</p>\n            </div>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #F59E0B;">\ud83c\udfe0 House Robber:</h4>\n              <p>Maximum money that can be robbed without robbing adjacent houses.</p>\n            </div>\n          ',quiz:{question:"In DP with arrays, what does memoization help us avoid?",options:["Memory usage","Redundant calculations","Array bounds errors","Infinite loops"],correctAnswer:1,explanation:"Memoization stores previously computed results to avoid recalculating the same subproblems multiple times."}}],xpReward:200}},{id:"advanced-sliding-window",title:"Advanced Sliding Window Techniques",description:"Master complex sliding window patterns and optimization problems",type:"concept",difficulty:"advanced",duration:25,xpReward:180,completed:!1,unlocked:!1,prerequisite:["dynamic-programming-arrays"],level:4,conceptConfig:{id:"advanced-sliding-window",title:"Advanced Sliding Window",description:"Complex sliding window patterns for optimization",steps:[{id:"step1",title:"Variable-Size Sliding Window",content:"\n            <p>Unlike fixed-size windows, variable-size windows expand and contract based on conditions.</p>\n            <p><strong>Common Patterns:</strong></p>\n            <ul>\n              <li>Longest substring with at most K distinct characters</li>\n              <li>Minimum window substring</li>\n              <li>Maximum sum subarray with at most K negatives</li>\n            </ul>\n            <p>The key is knowing when to expand (add to right) vs contract (move left pointer).</p>\n          "},{id:"step2",title:"Multi-Pointer Techniques",content:'\n            <p>Advanced problems may require multiple pointers working together:</p>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #10B981;">\ud83c\udfaf Three Sum Problem:</h4>\n              <p>Fix one pointer, use two-pointer technique on the rest</p>\n            </div>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #3B82F6;">\ud83c\udfc3 Fast & Slow Pointers:</h4>\n              <p>Detect cycles, find middle elements, check palindromes</p>\n            </div>\n          ',quiz:{question:"In a variable-size sliding window, when do we typically contract the window?",options:["When we find the target","When the condition is violated","At regular intervals","When the window is too large"],correctAnswer:1,explanation:"We contract the window by moving the left pointer when the current window violates our condition (e.g., too many distinct characters)."}}],xpReward:180}},{id:"optimization-playground",title:"Array Optimization Challenges",description:"Solve complex optimization problems using advanced array techniques",type:"playground",difficulty:"advanced",duration:45,xpReward:300,completed:!1,unlocked:!1,prerequisite:["advanced-sliding-window"],level:4,playgroundConfig:{id:"optimization-playground",title:"Longest Substring Without Repeating Characters",description:"Find the length of the longest substring without repeating characters",starterCode:"function lengthOfLongestSubstring(s) {\n  // Use sliding window with hash map\n  // Track characters and their positions\n  \n}",solution:"function lengthOfLongestSubstring(s) {\n  if (s.length === 0) return 0;\n  \n  let left = 0;\n  let maxLength = 0;\n  const charMap = new Map();\n  \n  for (let right = 0; right < s.length; right++) {\n    if (charMap.has(s[right]) && charMap.get(s[right]) >= left) {\n      left = charMap.get(s[right]) + 1;\n    }\n    \n    charMap.set(s[right], right);\n    maxLength = Math.max(maxLength, right - left + 1);\n  }\n  \n  return maxLength;\n}",hints:["Use a sliding window approach with two pointers","Track character positions in a hash map","When you find a duplicate, move the left pointer","Update the maximum length at each step"],testCases:['lengthOfLongestSubstring("abcabcbb") should return 3','lengthOfLongestSubstring("bbbbb") should return 1','lengthOfLongestSubstring("pwwkew") should return 3','lengthOfLongestSubstring("") should return 0'],difficulty:"advanced",xpReward:300}},{id:"expert-revision",title:"Level 4 Assessment",description:"Advanced algorithms and optimization challenges",type:"revision",difficulty:"advanced",duration:50,xpReward:500,completed:!1,unlocked:!1,prerequisite:["optimization-playground"],level:4,revisionConfig:{id:"expert-revision",level:"advanced",passingScore:85,timeLimit:50,xpReward:500,mcqQuestions:[{id:"mcq-exp-1",question:"What is the key advantage of using dynamic programming with arrays?",options:["Reduces space complexity","Avoids redundant calculations","Improves code readability","Enables parallel processing"],correctAnswer:1,explanation:"DP with arrays stores intermediate results to avoid recalculating the same subproblems, significantly improving time complexity.",points:20},{id:"mcq-exp-2",question:"In Kadane's algorithm for maximum subarray, what does the variable represent at each position?",options:["Global maximum so far","Maximum ending at current position","Current element value","Minimum possible sum"],correctAnswer:1,explanation:"Kadane's algorithm maintains a variable representing the maximum sum of a subarray ending at the current position.",points:20},{id:"mcq-exp-3",question:"What makes the sliding window technique efficient for substring problems?",options:["It sorts the array first","It avoids checking all possible subarrays","It uses recursion","It requires extra space"],correctAnswer:1,explanation:"Sliding window avoids the O(n\xb3) brute force approach by efficiently expanding and contracting a window, achieving O(n) or O(n\xb2) complexity.",points:20},{id:"mcq-exp-4",question:"In the longest substring without repeating characters problem, why do we use a hash map?",options:["To sort characters","To track character frequencies","To store character positions for quick lookups","To reverse the string"],correctAnswer:2,explanation:"The hash map stores the most recent position of each character, allowing us to quickly jump the left pointer when we encounter a duplicate.",points:20},{id:"mcq-exp-5",question:"What is the space complexity of the coin change DP solution?",options:["O(1)","O(amount)","O(coins)","O(amount \xd7 coins)"],correctAnswer:1,explanation:"The coin change DP solution uses an array of size (amount + 1) to store the minimum coins needed for each amount.",points:20}],codingChallenges:[{id:"coding-exp-1",title:"Trapping Rain Water",description:"Calculate how much water can be trapped after raining given an elevation map",starterCode:"function trap(height) {\n  // Your solution here\n  // Use two pointers or DP approach\n  \n}",solution:"function trap(height) {\n  if (height.length === 0) return 0;\n  \n  let left = 0, right = height.length - 1;\n  let leftMax = 0, rightMax = 0;\n  let waterTrapped = 0;\n  \n  while (left < right) {\n    if (height[left] < height[right]) {\n      if (height[left] >= leftMax) {\n        leftMax = height[left];\n      } else {\n        waterTrapped += leftMax - height[left];\n      }\n      left++;\n    } else {\n      if (height[right] >= rightMax) {\n        rightMax = height[right];\n      } else {\n        waterTrapped += rightMax - height[right];\n      }\n      right--;\n    }\n  }\n  \n  return waterTrapped;\n}",testCases:["trap([0,1,0,2,1,0,1,3,2,1,2,1]) should return 6","trap([4,2,0,3,2,5]) should return 9","trap([]) should return 0"],points:80,difficulty:"advanced"}]}},{id:"interview-patterns",title:"Array Interview Patterns",description:"Master the most common array patterns asked in technical interviews",type:"concept",difficulty:"advanced",duration:35,xpReward:250,completed:!1,unlocked:!1,prerequisite:["expert-revision"],level:5,conceptConfig:{id:"interview-patterns",title:"Array Interview Patterns",description:"Common patterns and approaches for technical interviews",steps:[{id:"step1",title:"Pattern Recognition",content:'\n            <p>Successful interview candidates quickly recognize which pattern to apply:</p>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #10B981;">\ud83c\udfaf Two Pointers Pattern:</h4>\n              <ul>\n                <li>Sorted array + target sum</li>\n                <li>Palindrome checking</li>\n                <li>Container with most water</li>\n              </ul>\n            </div>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #3B82F6;">\ud83e\ude9f Sliding Window Pattern:</h4>\n              <ul>\n                <li>Subarray/substring problems</li>\n                <li>"K" constraint problems</li>\n                <li>Variable window size optimization</li>\n              </ul>\n            </div>\n            <div style="background-color: #1F2937; padding: 16px; border-radius: 8px; margin: 16px 0;">\n              <h4 style="color: #F59E0B;">\ud83e\uddee Prefix Sum Pattern:</h4>\n              <ul>\n                <li>Range sum queries</li>\n                <li>Subarray sum problems</li>\n                <li>2D matrix sum calculations</li>\n              </ul>\n            </div>\n          '}],xpReward:250}},{id:"competition-problems",title:"Competitive Programming Challenges",description:"Solve advanced problems similar to those in programming competitions",type:"playground",difficulty:"advanced",duration:60,xpReward:400,completed:!1,unlocked:!1,prerequisite:["interview-patterns"],level:5,playgroundConfig:{id:"competition-problems",title:"Median of Two Sorted Arrays",description:"Find the median of two sorted arrays in O(log(min(m,n))) time",starterCode:"function findMedianSortedArrays(nums1, nums2) {\n  // Binary search approach for O(log(min(m,n))) complexity\n  // Make sure nums1 is the smaller array\n  \n}",solution:"function findMedianSortedArrays(nums1, nums2) {\n  if (nums1.length > nums2.length) {\n    [nums1, nums2] = [nums2, nums1];\n  }\n  \n  const m = nums1.length;\n  const n = nums2.length;\n  let low = 0, high = m;\n  \n  while (low <= high) {\n    const cut1 = Math.floor((low + high) / 2);\n    const cut2 = Math.floor((m + n + 1) / 2) - cut1;\n    \n    const left1 = cut1 === 0 ? -Infinity : nums1[cut1 - 1];\n    const left2 = cut2 === 0 ? -Infinity : nums2[cut2 - 1];\n    const right1 = cut1 === m ? Infinity : nums1[cut1];\n    const right2 = cut2 === n ? Infinity : nums2[cut2];\n    \n    if (left1 <= right2 && left2 <= right1) {\n      if ((m + n) % 2 === 1) {\n        return Math.max(left1, left2);\n      } else {\n        return (Math.max(left1, left2) + Math.min(right1, right2)) / 2;\n      }\n    } else if (left1 > right2) {\n      high = cut1 - 1;\n    } else {\n      low = cut1 + 1;\n    }\n  }\n  \n  return 0;\n}",hints:["Use binary search on the smaller array","Find the correct partition point","Ensure left elements \u2264 right elements across partition","Handle odd/even total length cases"],testCases:["findMedianSortedArrays([1,3], [2]) should return 2.0","findMedianSortedArrays([1,2], [3,4]) should return 2.5","findMedianSortedArrays([0,0], [0,0]) should return 0.0"],difficulty:"advanced",xpReward:400}},{id:"master-assessment",title:"Master Level Final Assessment",description:"Ultimate array mastery test with the most challenging problems",type:"mastery",difficulty:"advanced",duration:90,xpReward:1e3,completed:!1,unlocked:!1,prerequisite:["competition-problems"],level:5}],cl=e=>ll.filter(t=>t.level===e),ul=[0,100,250,500,1e3,1600,2300,3200,4300,5600],dl=e=>{if(e<0)return 1;let t=1;for(let n=0;n<ul.length&&e>=ul[n];n++)t=n+1;return t},hl=e=>{const t=dl(e),{startXP:n,nextXP:r}=(e=>{var t,n;const r=Math.max(0,e-1);return{startXP:null!==(t=ul[r])&&void 0!==t?t:0,nextXP:null!==(n=ul[r+1])&&void 0!==n?n:null}})(t),i=Math.max(0,e-n),s=null==r?0:Math.max(1,r-n);return{level:t,currentLevelXP:i,xpToNextLevel:null==r?0:Math.max(0,r-e),levelSpan:s,progressPercent:null==r?100:Math.min(100,Math.round(i/s*100))}};var pl=n(651),ml=n(787),fl=n(699);const gl=async(e,t)=>{try{const n=(0,ml.H9)(fl.db,"users",e),r=await(0,ml.x7)(n);if(!r.exists())throw new Error("User not found");const i=r.data(),s=i.xp||0,a=i.level||1,o=Math.max(0,s+t),l=dl(o),c=l>a;return await(0,ml.mZ)(n,{xp:o,level:l,updated_at:(0,ml.O5)()}),console.log("XP Update: ".concat(s," \u2192 ").concat(o," (").concat(t>=0?"+":"").concat(t,")")),c&&console.log("\ud83c\udf89 Level Up! ".concat(a," \u2192 ").concat(l)),{newXP:o,newLevel:l,leveledUp:c}}catch(n){throw console.error("Error updating XP:",n),n}},yl=(0,i.createContext)(void 0),vl=()=>{const e=(0,i.useContext)(yl);if(!e)throw new Error("useGame must be used within a GameProvider");return e},xl=[{id:"first-lesson",title:"First Steps",description:"Complete your first lesson",icon:"\ud83c\udfaf",category:"learning",xpReward:50,unlocked:!1,progress:0,maxProgress:1,rarity:"common"},{id:"array-master",title:"Array Master",description:"Complete all Array lessons",icon:"\ud83d\udcca",category:"mastery",xpReward:200,unlocked:!1,progress:0,maxProgress:5,rarity:"rare"},{id:"streak-warrior",title:"Streak Warrior",description:"Maintain a 7-day learning streak",icon:"\ud83d\udd25",category:"streak",xpReward:300,unlocked:!1,progress:0,maxProgress:7,rarity:"epic"},{id:"speed-demon",title:"Speed Demon",description:"Complete 5 lessons in one day",icon:"\u26a1",category:"speed",xpReward:150,unlocked:!1,progress:0,maxProgress:5,rarity:"rare"},{id:"challenge-champion",title:"Challenge Champion",description:"Complete 10 daily challenges",icon:"\ud83c\udfc6",category:"challenges",xpReward:400,unlocked:!1,progress:0,maxProgress:10,rarity:"epic"},{id:"algorithm-legend",title:"Algorithm Legend",description:"Master all data structures and algorithms",icon:"\ud83d\udc51",category:"mastery",xpReward:1e3,unlocked:!1,progress:0,maxProgress:20,rarity:"legendary"},{id:"perfectionist",title:"Perfectionist",description:"Score 100% on 5 consecutive lessons",icon:"\ud83d\udc8e",category:"mastery",xpReward:250,unlocked:!1,progress:0,maxProgress:5,rarity:"epic"},{id:"night-owl",title:"Night Owl",description:"Complete lessons after 10 PM",icon:"\ud83e\udd89",category:"learning",xpReward:100,unlocked:!1,progress:0,maxProgress:3,rarity:"common"}],bl=[{level:1,title:"Novice",icon:"\ud83c\udf31",color:"#4ade80"},{level:2,title:"Learner",icon:"\ud83d\udcda",color:"#3b82f6"},{level:3,title:"Explorer",icon:"\ud83d\udd0d",color:"#8b5cf6"},{level:4,title:"Practitioner",icon:"\u26a1",color:"#f59e0b"},{level:5,title:"Specialist",icon:"\ud83c\udfaf",color:"#ef4444"},{level:6,title:"Expert",icon:"\ud83d\udcaa",color:"#06b6d4"},{level:7,title:"Master",icon:"\ud83c\udfc6",color:"#d946ef"},{level:8,title:"Grandmaster",icon:"\ud83d\udc51",color:"#f97316"},{level:9,title:"Legend",icon:"\u2b50",color:"#eab308"},{level:10,title:"Algorithm God",icon:"\ud83c\udf1f",color:"#dc2626"}],wl=e=>{var t;let{children:n}=e;const{user:r}=(0,pl.A)(),s=hl(0),[a,o]=(0,i.useState)({level:s.level,totalXP:0,currentLevelXP:s.currentLevelXP,xpToNextLevel:s.xpToNextLevel,streakDays:0,longestStreak:0,lessonsCompleted:0,challengesCompleted:0,totalTimeSpent:0,averageScore:0,rank:(null===(t=bl.find(e=>e.level===s.level))||void 0===t?void 0:t.title)||"Novice",joinDate:new Date}),[l,c]=(0,i.useState)(xl),[u,d]=(0,i.useState)([{id:"early-bird",name:"Early Bird",icon:"\ud83d\udc26",color:"#f59e0b",description:"Completed first lesson",earnedAt:new Date}]),h=e=>{const t=bl.find(t=>t.level===e)||bl[0];return{title:t.title,icon:t.icon,color:t.color}},p=(e,t)=>{null!==r&&void 0!==r&&r.uid?gl(r.uid,e).then(n=>{let{newXP:r,newLevel:i}=n;const s=hl(r);o(e=>(0,Me.A)((0,Me.A)({},e),{},{totalXP:r,level:i,currentLevelXP:s.currentLevelXP,xpToNextLevel:s.xpToNextLevel,rank:h(i).title})),x(e,t)}).catch(()=>{o(n=>{const r=Math.max(0,n.totalXP+e),i=hl(r);return x(e,t),(0,Me.A)((0,Me.A)({},n),{},{totalXP:r,level:i.level,currentLevelXP:i.currentLevelXP,xpToNextLevel:i.xpToNextLevel,rank:h(i.level).title})})}):o(n=>{const r=Math.max(0,n.totalXP+e),i=hl(r);return x(e,t),(0,Me.A)((0,Me.A)({},n),{},{totalXP:r,level:i.level,currentLevelXP:i.currentLevelXP,xpToNextLevel:i.xpToNextLevel,rank:h(i.level).title})})},m=e=>{c(t=>t.map(t=>t.id===e?(0,Me.A)((0,Me.A)({},t),{},{unlocked:!0,unlockedAt:new Date}):t));const t=l.find(t=>t.id===e);t&&(p(t.xpReward,"Achievement: ".concat(t.title)),b(t))},f=()=>{0===a.lessonsCompleted&&v("first-lesson",1),a.lessonsCompleted>=5&&v("array-master",5)},g=()=>{a.streakDays>=7&&v("streak-warrior",7)},y=()=>{v("challenge-champion",a.challengesCompleted)},v=(e,t)=>{c(n=>n.map(n=>{if(n.id===e){const r=Math.min(t,n.maxProgress);return r>=n.maxProgress&&!n.unlocked&&m(e),(0,Me.A)((0,Me.A)({},n),{},{progress:r})}return n}))},x=(e,t)=>{console.log("\ud83c\udf89 +".concat(e," XP: ").concat(t))},b=e=>{console.log("\ud83c\udfc6 Achievement Unlocked: ".concat(e.title))};return(0,Re.jsx)(yl.Provider,{value:{userStats:a,achievements:l,badges:u,earnXP:p,unlockAchievement:m,incrementStreak:()=>{o(e=>(0,Me.A)((0,Me.A)({},e),{},{streakDays:e.streakDays+1,longestStreak:Math.max(e.longestStreak,e.streakDays+1)})),g()},completeLesson:(e,t)=>{o(e=>(0,Me.A)((0,Me.A)({},e),{},{lessonsCompleted:e.lessonsCompleted+1,averageScore:Math.round((e.averageScore*e.lessonsCompleted+t)/(e.lessonsCompleted+1))}));const n=Math.round(20+t/100*30);p(n,"Lesson completed (".concat(t,"%)")),f()},completeChallenge:(e,t)=>{o(e=>(0,Me.A)((0,Me.A)({},e),{},{challengesCompleted:e.challengesCompleted+1}));const n=Math.round(50+t/100*50);p(n,"Challenge completed (".concat(t,"%)")),y()},getLevelInfo:h,getXPForLevel:e=>{var t;const n=Math.max(0,e-1);return null!==(t=ul[n])&&void 0!==t?t:0}},children:n})},kl=(0,i.createContext)(void 0),Sl=()=>{const e=(0,i.useContext)(kl);if(!e)throw new Error("useCourseProgress must be used within a CourseProgressProvider");return e},El="algo-duo-array-course-progress",Cl=()=>{try{const e=localStorage.getItem(El);if(e){const t=JSON.parse(e);return ll.map(e=>{var n,r;return(0,Me.A)((0,Me.A)({},e),{},{completed:(null===(n=t[e.id])||void 0===n?void 0:n.completed)||!1,unlocked:void 0!==(null===(r=t[e.id])||void 0===r?void 0:r.unlocked)?t[e.id].unlocked:e.unlocked})})}}catch(e){console.error("Failed to load course progress:",e)}return ll},Tl=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(Cl),{earnXP:s,completeLesson:a,completeChallenge:o}=vl();(0,i.useEffect)(()=>{const e=n.reduce((e,t)=>(e[t.id]={completed:t.completed,unlocked:t.unlocked},e),{});localStorage.setItem(El,JSON.stringify(e))},[n]);const l=e=>{r(t=>{const n=[...t];n.forEach((t,r)=>{var i;if(null!==(i=t.prerequisite)&&void 0!==i&&i.includes(e)){t.prerequisite.every(e=>{const t=n.find(t=>t.id===e);return null===t||void 0===t?void 0:t.completed})&&(n[r]=(0,Me.A)((0,Me.A)({},t),{},{unlocked:!0}))}});const r=n.find(t=>t.id===e);if("revision"===(null===r||void 0===r?void 0:r.type)){const e=r.level+1;if(e<=3){n.filter(t=>t.level===e).forEach((e,t)=>{var r;if("concept"===e.type&&(null===(r=e.prerequisite)||void 0===r||!r.length)){const t=n.findIndex(t=>t.id===e.id);-1!==t&&(n[t]=(0,Me.A)((0,Me.A)({},e),{},{unlocked:!0}))}})}}return n})};return(0,Re.jsx)(kl.Provider,{value:{lessons:n,updateLessonProgress:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;const c=n.find(t=>t.id===e),u=!(null===c||void 0===c||!c.completed);if(r(n=>n.map(n=>n.id===e?(0,Me.A)((0,Me.A)({},n),{},{completed:t}):n)),c&&t&&!u){switch(s(c.xpReward,"Completed: ".concat(c.title)),c.type){case"concept":a(e,i);break;case"playground":case"revision":case"mastery":o(e,i)}l(e)}},unlockNextLessons:l,getLessonById:e=>n.find(t=>t.id===e),getProgressByLevel:e=>{const t=n.filter(t=>t.level===e),r=t.filter(e=>e.completed).length;return t.length>0?r/t.length*100:0},getTotalProgress:()=>n.filter(e=>e.completed).length/n.length*100,canAccessLesson:e=>{const t=n.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.unlocked)||!1},getNextAvailableLesson:()=>n.find(e=>e.unlocked&&!e.completed)||null,resetProgress:()=>{r(ll),localStorage.removeItem(El)}},children:t})},Al=()=>{var e;const{lessonId:t}=te(),n=ee(),{updateLessonProgress:r,getLessonById:i}=Sl(),{earnXP:s}=vl(),a=t?i(t):null,o=t?ol[t]:null,l=(null===a||void 0===a?void 0:a.title)||(null===o||void 0===o?void 0:o.title)||"Lesson",c=null!==a&&void 0!==a&&null!==(e=a.conceptConfig)&&void 0!==e&&e.steps&&a.conceptConfig.steps.length>0?a.conceptConfig.steps:(null===o||void 0===o?void 0:o.steps)||[];return a||o?0===c.length?(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,Re.jsx)("div",{className:"flex items-center space-x-4",children:(0,Re.jsxs)("button",{onClick:()=>n("/arrays"),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,Re.jsx)("span",{className:"text-xl",children:"\u2190"}),(0,Re.jsx)("span",{children:"Back to Arrays Course"})]})})}),(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto p-8 text-center",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold mb-4",children:l}),(0,Re.jsx)("p",{className:"text-gray-300",children:"This lesson content is under development. Please check back soon!"}),(0,Re.jsx)("button",{onClick:()=>n("/arrays"),className:"mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Arrays Course"})]})]}):(0,Re.jsx)(al,{lessonTitle:l,steps:c,onBack:()=>n("/arrays"),onComplete:()=>{console.log("Lesson completed!"),a&&t&&r(t,!0,100),n("/arrays")}}):(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,Re.jsx)("div",{className:"flex items-center space-x-4",children:(0,Re.jsxs)("button",{onClick:()=>n("/arrays"),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,Re.jsx)("span",{className:"text-xl",children:"\u2190"}),(0,Re.jsx)("span",{children:"Back to Arrays Course"})]})})}),(0,Re.jsx)("div",{className:"p-6",children:(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"\ud83d\udcda Lesson Not Found"}),(0,Re.jsx)("p",{className:"text-gray-400 mb-6",children:"The lesson you're looking for doesn't exist or hasn't been created yet."}),(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-blue-400",children:"Available Array Lessons:"}),(0,Re.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(ol).map(e=>{let[t,r]=e;return(0,Re.jsxs)("button",{onClick:()=>n("/lesson/".concat(t)),className:"p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors text-left",children:[(0,Re.jsx)("h3",{className:"font-semibold text-white",children:r.title}),(0,Re.jsx)("p",{className:"text-gray-400 text-sm",children:r.description})]},t)})})]}),(0,Re.jsx)("button",{onClick:()=>n("/arrays"),className:"mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\ud83c\udf93 Back to Arrays Course"})]})})]})},Nl=e=>{let{title:t,emoji:n,description:r}=e;return(0,Re.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#1a1a2e",color:"white",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Re.jsx)("nav",{style:{marginBottom:"30px"},children:(0,Re.jsx)(je,{to:"/",style:{color:"#74b9ff",textDecoration:"none",fontSize:"18px"},children:"\u2190 Back to Home"})}),(0,Re.jsxs)("div",{style:{textAlign:"center",padding:"50px 20px"},children:[(0,Re.jsxs)("h1",{style:{fontSize:"3rem",marginBottom:"20px"},children:[n," ",t]}),(0,Re.jsx)("p",{style:{fontSize:"1.2rem",color:"#b2bec3",marginBottom:"30px"},children:r}),(0,Re.jsxs)("div",{style:{backgroundColor:"#2d3436",padding:"30px",borderRadius:"12px",maxWidth:"600px",margin:"0 auto"},children:[(0,Re.jsx)("h2",{style:{color:"#00b894",marginBottom:"20px"},children:"\ud83d\udea7 Under Development"}),(0,Re.jsx)("p",{style:{color:"#ddd",lineHeight:"1.6"},children:"This feature is coming soon! We're working hard to bring you the best learning experience."}),(0,Re.jsx)("div",{style:{marginTop:"30px"},children:(0,Re.jsx)(je,{to:"/",style:{textDecoration:"none"},children:(0,Re.jsx)("button",{style:{background:"linear-gradient(45deg, #6c5ce7, #74b9ff)",color:"white",border:"none",padding:"12px 30px",borderRadius:"25px",cursor:"pointer",fontWeight:"bold"},children:"\ud83c\udfe0 Back to Home"})})})]})]})]})},_l=()=>(0,Re.jsx)(Nl,{title:"Profile",emoji:"\ud83d\udc64",description:"View your learning progress and achievements"}),jl=()=>(0,Re.jsx)(Nl,{title:"Achievements",emoji:"\ud83c\udfc6",description:"Your badges and milestones"}),Il=()=>(0,Re.jsx)(Nl,{title:"Daily Challenge",emoji:"\u26a1",description:"Today's coding challenge to test your skills"}),Pl=()=>(0,Re.jsx)(Nl,{title:"Code Playground",emoji:"\ud83d\udcbb",description:"Practice coding with our interactive editor"}),Rl=e=>{let{value:t,max:n,className:r,showLabel:i=!1,size:s="md"}=e;const a=Math.round(t/n*100),o={sm:"h-1.5",md:"h-2.5",lg:"h-4"};return(0,Re.jsxs)("div",{className:"w-full flex flex-col space-y-1 ".concat(r||""),children:[i&&(0,Re.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Re.jsx)("span",{children:"Progress"}),(0,Re.jsxs)("span",{children:[t,"/",n," (",a,"%)"]})]}),(0,Re.jsx)("div",{className:"w-full bg-gray-200 rounded-full overflow-hidden ".concat(o[s]),children:(0,Re.jsx)("div",{className:"progress-bar-fill rounded-full bg-gradient-to-r from-algo-purple-500 to-algo-blue-500 ".concat(o[s]),style:{width:"".concat(a,"%")}})})]})},Ol=()=>{const{userStats:e,getXPForLevel:t}=vl(),n=t(e.level),r=t(e.level+1),i=Math.max(1,r-n);return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-900 text-white",children:(0,Re.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-6",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold mb-1",children:"Your Progress"}),(0,Re.jsx)("p",{className:"text-gray-400 mb-8",children:"Track your XP, levels, and milestones"}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700/60 p-6",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"Level"}),(0,Re.jsx)("div",{className:"text-2xl font-semibold",children:e.level})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"Total XP"}),(0,Re.jsx)("div",{className:"text-2xl font-semibold",children:e.totalXP})]})]}),(0,Re.jsx)(Rl,{value:e.currentLevelXP,max:i,className:"my-4"}),(0,Re.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[(0,Re.jsxs)("span",{children:[e.currentLevelXP," / ",i," XP this level"]}),(0,Re.jsxs)("span",{children:[e.xpToNextLevel," XP to Level ",e.level+1]})]})]})]})})},Ml=()=>(0,Re.jsx)(Nl,{title:"Page Not Found",emoji:"\ud83d\udeab",description:"Oops! The page you're looking for doesn't exist."}),Dl=(0,Zo.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ll=(0,Zo.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Fl=(0,Zo.A)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),Vl=(0,Zo.A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ul=(0,Zo.A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),zl=(0,Zo.A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Bl=(0,Zo.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ql=(0,Zo.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Hl=(0,Zo.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wl=(0,Zo.A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Kl=(0,Zo.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gl=(0,Zo.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ql=(0,Zo.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xl=(0,Zo.A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Yl=(0,Zo.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Jl=(0,Zo.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),$l=(0,Zo.A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),Zl=(0,Zo.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ec={bounce:{y:[0,-10,0],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}},pulse:{scale:[1,1.1,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},rotate:{rotate:[0,360],transition:{duration:4,repeat:1/0,ease:"linear"}},scale:{scale:[1,1.2,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}},float:{y:[0,-8,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},wobble:{rotate:[0,5,-5,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},glow:{filter:["drop-shadow(0 0 0px currentColor)","drop-shadow(0 0 8px currentColor)","drop-shadow(0 0 0px currentColor)"],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},tc=e=>{let{size:t=24,color:n="#3B82F6",animation:r="float",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Vl,{size:t,color:n})})},nc=e=>{let{size:t=24,color:n="#8B5CF6",animation:r="pulse",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Xl,{size:t,color:n})})},rc=e=>{let{size:t=24,color:n="#EF4444",animation:r="bounce",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Yl,{size:t,color:n})})},ic=e=>{let{size:t=24,color:n="#F59E0B",animation:r="bounce",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(zl,{size:t,color:n})})},sc=e=>{let{size:t=24,color:n="#F59E0B",animation:r="glow",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Jl,{size:t,color:n,fill:n})})},ac=e=>{let{size:t=24,color:n="#06B6D4",animation:r="wobble",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Ul,{size:t,color:n})})},oc=e=>{let{size:t=24,color:n="#7C3AED",animation:r="pulse",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)($l,{size:t,color:n})})},lc=e=>{let{size:t=24,color:n="#3B82F6",animation:r="float",delay:i=0}=e;return(0,Re.jsx)(Wo.div,{animate:ec[r],transition:(0,Me.A)((0,Me.A)({},ec[r].transition),{},{delay:i}),className:"inline-block",children:(0,Re.jsx)(Zl,{size:t,color:n})})},cc=e=>{let{children:t,color:n="#FFFFFF",bgColor:r="#3B82F6",animation:i="pulse"}=e;return(0,Re.jsx)(Wo.span,{animate:ec[i],className:"inline-flex items-center px-3 py-1 rounded-full font-semibold text-sm",style:{backgroundColor:r,color:n},children:t})},uc=e=>{let{children:t,className:n="",animation:r="fadeIn",delay:i=0}=e;const s={slideIn:{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:i}},fadeIn:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:i}},scaleIn:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:i}}};return(0,Re.jsx)(Wo.div,{initial:s[r].initial,animate:s[r].animate,transition:s[r].transition,className:n,children:t})},dc=e=>{let{lesson:t,index:n}=e;const r=ee(),i=e=>{switch(e.toLowerCase()){case"beginner":return"text-green-400 bg-green-400/10 border border-green-400/20";case"intermediate":return"text-yellow-400 bg-yellow-400/10 border border-yellow-400/20";case"advanced":return"text-red-400 bg-red-400/10 border border-red-400/20";default:return"text-gray-400 bg-gray-400/10 border border-gray-400/20"}},s=(e=>{switch(e){case"concept":return{icon:(0,Re.jsx)(Vl,{className:"w-5 h-5"}),sticker:(0,Re.jsx)(tc,{size:20,animation:"float"}),bgGradient:"from-blue-900/30 via-indigo-900/20 to-purple-900/30",borderColor:"border-blue-500/30",hoverBorder:"hover:border-blue-400/50",glowColor:"hover:shadow-blue-500/20",typeLabel:"Concept",typeBg:"bg-blue-500/20 text-blue-300"};case"playground":return{icon:(0,Re.jsx)(Ul,{className:"w-5 h-5"}),sticker:(0,Re.jsx)(ac,{size:20,animation:"wobble"}),bgGradient:"from-emerald-900/30 via-teal-900/20 to-cyan-900/30",borderColor:"border-emerald-500/30",hoverBorder:"hover:border-emerald-400/50",glowColor:"hover:shadow-emerald-500/20",typeLabel:"Practice",typeBg:"bg-emerald-500/20 text-emerald-300"};case"revision":return{icon:(0,Re.jsx)(zl,{className:"w-5 h-5"}),sticker:(0,Re.jsx)(ic,{size:20,animation:"bounce"}),bgGradient:"from-orange-900/30 via-amber-900/20 to-yellow-900/30",borderColor:"border-orange-500/30",hoverBorder:"hover:border-orange-400/50",glowColor:"hover:shadow-orange-500/20",typeLabel:"Quiz",typeBg:"bg-orange-500/20 text-orange-300"};case"mastery":return{icon:(0,Re.jsx)(Wl,{className:"w-5 h-5"}),sticker:(0,Re.jsx)(sc,{size:20,animation:"glow"}),bgGradient:"from-purple-900/40 via-pink-900/30 to-rose-900/40",borderColor:"border-purple-500/40",hoverBorder:"hover:border-purple-400/60",glowColor:"hover:shadow-purple-500/30",typeLabel:"Mastery",typeBg:"bg-purple-500/20 text-purple-300"}}})(t.type);return t.unlocked?(0,Re.jsx)(Wo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*n},whileHover:{scale:1.02,y:-2},className:"relative group cursor-pointer",onClick:()=>{if(t.unlocked)switch(t.type){case"concept":default:r("/lesson/".concat(t.id));break;case"playground":r("/playground/".concat(t.id));break;case"revision":r("/revision/".concat(t.level));break;case"mastery":r("/mastery-test")}},children:(0,Re.jsxs)("div",{className:"\n        relative bg-gradient-to-br ".concat(s.bgGradient," \n        rounded-xl p-6 border ").concat(s.borderColor," ").concat(s.hoverBorder," \n        transition-all duration-300 hover:shadow-xl ").concat(s.glowColor,"\n        ").concat(t.completed?"ring-2 ring-green-500/30":"","\n      "),children:[t.completed&&(0,Re.jsx)(Wo.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-2",children:(0,Re.jsx)(Ql,{className:"w-4 h-4 text-white"})}),(0,Re.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Re.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[s.sticker,s.icon]}),(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold ".concat(t.completed?"text-green-300":"text-white"," group-hover:text-white"),children:t.title}),(0,Re.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.typeBg),children:s.typeLabel})]}),(0,Re.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed",children:t.description})]})]}),(0,Re.jsx)(Wo.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"\n              flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-sm\n              ".concat(t.completed?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-white/10 text-white border border-white/20 hover:bg-white/20","\n              transition-all duration-200\n            "),children:t.completed?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(Ql,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Review"})]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(tl.A,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Start"})]})})]}),(0,Re.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-1 text-gray-300",children:[(0,Re.jsx)(Gl,{className:"w-4 h-4"}),(0,Re.jsxs)("span",{children:[t.duration," min"]})]}),(0,Re.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(i(t.difficulty)),children:t.difficulty}),"revision"===t.type&&(0,Re.jsxs)("div",{className:"flex items-center space-x-1 text-orange-400",children:[(0,Re.jsx)(Ll,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Level Test"})]}),"mastery"===t.type&&(0,Re.jsxs)("div",{className:"flex items-center space-x-1 text-purple-400",children:[(0,Re.jsx)(Wl,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Final Challenge"})]})]}),(0,Re.jsx)(uc,{animation:"fadeIn",className:"flex items-center space-x-2 text-gray-300",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Re.jsx)(Dl,{className:"w-4 h-4 text-yellow-400"}),(0,Re.jsxs)("span",{className:"font-medium",children:[t.xpReward," XP"]})]})})]}),t.prerequisite&&t.prerequisite.length>0&&!t.completed&&(0,Re.jsx)("div",{className:"mt-3 pt-3 border-t border-white/10",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,Re.jsx)(Xl,{className:"w-3 h-3"}),(0,Re.jsxs)("span",{children:["Requires: ",t.prerequisite.length," previous lesson",t.prerequisite.length>1?"s":""]})]})}),(0,Re.jsx)(Wo.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent rounded-xl pointer-events-none"})]})}):(0,Re.jsx)(Wo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*n},className:"relative group",children:(0,Re.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50 grayscale opacity-60 cursor-not-allowed",children:[(0,Re.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[s.icon,(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-400",children:t.title}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t.description})]})]}),(0,Re.jsx)(Kl,{className:"w-5 h-5 text-gray-500"})]}),(0,Re.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Re.jsx)(Gl,{className:"w-4 h-4"}),(0,Re.jsxs)("span",{children:[t.duration," min"]})]}),(0,Re.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(i(t.difficulty)),children:t.difficulty})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Dl,{className:"w-4 h-4"}),(0,Re.jsxs)("span",{children:[t.xpReward," XP"]})]})]})]})})},hc=(0,Zo.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),pc=(0,Zo.A)("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),mc=e=>{let{levelDifficulty:t,completedProblems:n=new Set}=e;const r=ee(),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(new Set(["topic-0"]));(0,i.useEffect)(()=>{d()},[t]);const d=async()=>{l(!0);try{const e=(await(async()=>{try{const e=(0,ml.rJ)(fl.db,"problems");return(await(0,ml.GG)(e)).docs.map(e=>(0,Me.A)({id:e.id},e.data()))}catch(e){throw console.error("Error fetching all problems:",e),e}})()).filter(e=>"Beginner"===t?"Easy"===e.difficulty:"Intermediate"===t?"Medium"===e.difficulty:"Advanced"===t&&"Hard"===e.difficulty);a(e)}catch(e){console.error("Error loading problems:",e),a([])}finally{l(!1)}},h=s.reduce((e,t)=>{const n=t.concept||"Other";return e[n]||(e[n]=[]),e[n].push(t),e},{});return o?(0,Re.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Re.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):0===s.length?(0,Re.jsxs)("div",{className:"bg-gray-800/40 rounded-xl border border-gray-700/50 p-8 text-center",children:[(0,Re.jsx)(Vl,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,Re.jsx)("p",{className:"text-gray-400",children:"No problems found for this level."}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try populating Firebase from the data management page."})]}):(0,Re.jsx)("div",{className:"space-y-6",children:Object.entries(h).map((e,t)=>{let[i,s]=e;const a="topic-".concat(t),o=c.has(a),l=s.filter(e=>n.has(e.id)).length,d=l/s.length*100;return(0,Re.jsxs)("div",{className:"bg-gray-800/40 rounded-xl border border-gray-700/50 overflow-hidden",children:[(0,Re.jsxs)("button",{onClick:()=>(e=>{u(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(a),className:"w-full px-6 py-5 flex items-center justify-between hover:bg-gray-800/60 transition-colors",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-lg",children:t+1}),(0,Re.jsxs)("div",{className:"text-left flex-1",children:[(0,Re.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:i}),(0,Re.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,Re.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Re.jsx)(Vl,{className:"w-4 h-4"}),s.length," Problems"]}),(0,Re.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Re.jsx)(Gl,{className:"w-4 h-4"}),s.reduce((e,t)=>e+(t.estimatedTime||30),0)," min"]})]})]}),(0,Re.jsxs)("div",{className:"text-right mr-4",children:[(0,Re.jsxs)("div",{className:"text-sm text-gray-400 mb-1",children:[l," / ",s.length," completed"]}),(0,Re.jsx)("div",{className:"w-32 bg-gray-700/50 rounded-full h-2",children:(0,Re.jsx)(Wo.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(d,"%")},transition:{duration:.5}})}),(0,Re.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(d),"%"]})]})]}),(0,Re.jsx)(Wo.div,{animate:{rotate:o?180:0},transition:{duration:.3},children:(0,Re.jsx)(hc,{className:"w-6 h-6 text-gray-400"})})]}),(0,Re.jsx)($o,{children:o&&(0,Re.jsx)(Wo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,Re.jsx)("div",{className:"px-6 py-4 border-t border-gray-700/50",children:(0,Re.jsx)("div",{className:"grid gap-4",children:s.map((e,t)=>{const i=n.has(e.id),s=(e=>{switch(e){case"Easy":default:return 50;case"Medium":return 100;case"Hard":return 200}})(e.difficulty);return(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"\n                              relative bg-gradient-to-br from-gray-800/60 to-gray-900/60 rounded-xl p-5 border\n                              ".concat(i?"border-green-500/30 bg-green-900/10":"border-gray-700/50","\n                              hover:border-blue-500/50 transition-all duration-300 group\n                            "),children:[i&&(0,Re.jsx)("div",{className:"absolute top-3 right-3",children:(0,Re.jsx)("div",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:"\u2713 Completed"})}),(0,Re.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Re.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30 flex items-center justify-center font-bold text-blue-400",children:t+1}),(0,Re.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Re.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-3",children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold text-white group-hover:text-blue-400 transition-colors",children:e.title}),(0,Re.jsx)("span",{className:"\n                                    px-3 py-1 rounded-full text-xs font-semibold flex-shrink-0\n                                    ".concat("Easy"===e.difficulty?"bg-green-500/20 text-green-400":"Medium"===e.difficulty?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400","\n                                  "),children:e.difficulty})]}),(e.objective||e.learningObjective)&&(0,Re.jsxs)("div",{className:"flex items-start gap-2 mb-3 text-sm text-gray-300",children:[(0,Re.jsx)(Ll,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),(0,Re.jsx)("span",{children:e.objective||e.learningObjective})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-400",children:[e.estimatedTime&&(0,Re.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Re.jsx)(Gl,{className:"w-4 h-4"}),e.estimatedTime," min"]}),(0,Re.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Re.jsx)(Dl,{className:"w-4 h-4 text-yellow-400"}),(0,Re.jsxs)("span",{className:"text-yellow-400 font-semibold",children:[s," XP"]})]})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsxs)("button",{onClick:()=>r("/learn-problem/".concat(e.id)),className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2.5 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 group/btn",children:[(0,Re.jsx)(Vl,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform"}),(0,Re.jsx)("span",{children:"Learn"})]}),(0,Re.jsxs)("button",{onClick:()=>r("/learn-problem/".concat(e.id,"?tab=understand")),className:"flex-1 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 px-4 py-2.5 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 group/btn",children:[(0,Re.jsx)(Xl,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform"}),(0,Re.jsx)("span",{children:"Understand"})]}),(0,Re.jsxs)("button",{onClick:()=>r("/learn-problem/".concat(e.id,"?tab=code")),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 px-4 py-2.5 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 group/btn",children:[(0,Re.jsx)(pc,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform"}),(0,Re.jsx)("span",{children:"Code"})]})]})]})]})]},e.id)})})})})})]},a)})})},fc=()=>{const e=ee(),{userStats:t}=vl(),{lessons:n,getProgressByLevel:r,getTotalProgress:s,getNextAvailableLesson:a}=Sl(),[o,l]=(0,i.useState)(1),c=n.length,u=n.filter(e=>e.completed),d=s(),h=u.reduce((e,t)=>e+t.xpReward,0),p=a(),m={1:{title:"Beginner",subtitle:"Array Fundamentals",description:"Master the basics of arrays, indexing, and simple operations",color:"from-green-500 to-emerald-600",bgGradient:"from-green-900/20 via-emerald-900/10 to-teal-900/20",borderColor:"border-green-500/30",icon:(0,Re.jsx)(tc,{size:32,animation:"float",delay:0}),lessons:n.filter(e=>1===e.level),progress:r(1),badge:"\ud83c\udf31 Novice"},2:{title:"Intermediate",subtitle:"Algorithms & Techniques",description:"Learn advanced search algorithms and optimization techniques",color:"from-yellow-500 to-orange-500",bgGradient:"from-yellow-900/20 via-orange-900/10 to-red-900/20",borderColor:"border-yellow-500/30",icon:(0,Re.jsx)(ac,{size:32,animation:"wobble",delay:0}),lessons:n.filter(e=>2===e.level),progress:r(2),badge:"\u26a1 Explorer"},3:{title:"Advanced",subtitle:"2D Arrays & Complex Problems",description:"Master matrices, complex algorithms, and optimization challenges",color:"from-red-500 to-pink-600",bgGradient:"from-red-900/20 via-pink-900/10 to-purple-900/20",borderColor:"border-red-500/30",icon:(0,Re.jsx)(oc,{size:32,animation:"pulse",delay:0}),lessons:n.filter(e=>3===e.level),progress:r(3),badge:"\ud83d\udc51 Master"}},f=m[o];return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsxs)("div",{className:"relative bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 py-16 overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMSIgZmlsbD0iIzMzM2VkMiIgZmlsbC1vcGFjaXR5PSIwLjEiLz4KPC9zdmc+')] opacity-40"}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 relative",children:(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,Re.jsxs)(uc,{animation:"slideIn",delay:0,className:"flex items-center justify-center mb-6 space-x-4",children:[(0,Re.jsx)(lc,{size:48,animation:"float",delay:0}),(0,Re.jsxs)("div",{className:"text-left",children:[(0,Re.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Array Mastery Quest"}),(0,Re.jsx)("p",{className:"text-gray-300 text-lg mt-2",children:"Master Data Structures Through Interactive Learning"})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Re.jsx)(ic,{size:24,animation:"bounce"})}),(0,Re.jsx)("div",{className:"text-2xl font-bold text-white",children:u.length}),(0,Re.jsx)("div",{className:"text-gray-300 text-sm",children:"Completed"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Re.jsx)(Dl,{className:"w-6 h-6 text-yellow-400"})}),(0,Re.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:h}),(0,Re.jsx)("div",{className:"text-gray-300 text-sm",children:"XP Earned"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Re.jsx)(Ll,{className:"w-6 h-6 text-green-400"})}),(0,Re.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[Math.round(d),"%"]}),(0,Re.jsx)("div",{className:"text-gray-300 text-sm",children:"Progress"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Re.jsx)(Fl,{className:"w-6 h-6 text-orange-400"})}),(0,Re.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:t.streakDays}),(0,Re.jsx)("div",{className:"text-gray-300 text-sm",children:"Day Streak"})]})]}),(0,Re.jsxs)("div",{className:"mt-8 max-w-2xl mx-auto",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Re.jsx)("span",{className:"text-gray-300",children:"Course Progress"}),(0,Re.jsxs)("span",{className:"text-white font-medium",children:[u.length," / ",c]})]}),(0,Re.jsx)("div",{className:"bg-gray-700/50 rounded-full h-3 overflow-hidden",children:(0,Re.jsx)(Wo.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full",initial:{width:0},animate:{width:"".concat(d,"%")},transition:{duration:1.5,delay:.6}})})]})]})})]}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 -mt-8 relative z-10",children:(0,Re.jsx)("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-xl p-2 border border-gray-700/50",children:(0,Re.jsx)("div",{className:"flex space-x-2",children:Object.entries(m).map(e=>{let[t,n]=e;const i=parseInt(t),s=o===i,a=1===i||2===i||r(2)>=80;return(0,Re.jsxs)(Wo.button,{whileHover:{scale:a?1.02:1},whileTap:{scale:a?.98:1},onClick:()=>a&&l(i),className:"\n                    flex-1 px-6 py-4 rounded-lg transition-all duration-200 relative overflow-hidden\n                    ".concat(s?"bg-gradient-to-r ".concat(n.color," text-white shadow-lg"):a?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 hover:text-white":"bg-gray-800/50 text-gray-500 cursor-not-allowed","\n                  "),disabled:!a,children:[(0,Re.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[n.icon,(0,Re.jsxs)("div",{className:"text-left",children:[(0,Re.jsx)("div",{className:"font-semibold",children:n.title}),(0,Re.jsx)("div",{className:"text-sm opacity-80",children:n.badge})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsxs)("div",{className:"text-sm opacity-80",children:[Math.round(n.progress),"%"]}),(0,Re.jsx)("div",{className:"w-16 bg-white/20 rounded-full h-1 mt-1",children:(0,Re.jsx)("div",{className:"bg-white h-1 rounded-full transition-all duration-300",style:{width:"".concat(n.progress,"%")}})})]})]}),s&&(0,Re.jsx)(Wo.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gradient-to-r from-white/5 to-transparent rounded-lg"})]},t)})})})}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,Re.jsx)($o,{mode:"wait",children:(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,Re.jsx)("div",{className:"bg-gradient-to-r ".concat(f.bgGradient," rounded-xl p-8 border ").concat(f.borderColor," mb-8"),children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[f.icon,(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Level ",o,": ",f.title]}),(0,Re.jsx)("p",{className:"text-xl text-gray-300 mb-2",children:f.subtitle}),(0,Re.jsx)("p",{className:"text-gray-400",children:f.description})]})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[Math.round(f.progress),"%"]}),(0,Re.jsx)("div",{className:"text-gray-300 text-sm mb-3",children:"Complete"}),(0,Re.jsx)(cc,{color:"white",bgColor:f.color.split(" ")[1].replace("to-",""),children:f.badge})]})]})}),(0,Re.jsxs)("div",{className:"space-y-8",children:[f.lessons.filter(e=>"concept"===e.type).length>0&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)(Vl,{className:"w-6 h-6 text-blue-400"}),(0,Re.jsx)("h3",{className:"text-2xl font-bold",children:"Concept Lessons"}),(0,Re.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-400/50 to-transparent"})]}),(0,Re.jsx)("div",{className:"grid gap-6",children:f.lessons.filter(e=>"concept"===e.type).map((e,t)=>(0,Re.jsx)(dc,{lesson:e,index:t},e.id))})]}),f.lessons.filter(e=>"playground"===e.type).length>0&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)(Ul,{className:"w-6 h-6 text-emerald-400"}),(0,Re.jsx)("h3",{className:"text-2xl font-bold",children:"Practice Problems"}),(0,Re.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-emerald-400/50 to-transparent"})]}),(0,Re.jsx)("div",{className:"grid gap-6",children:f.lessons.filter(e=>"playground"===e.type).map((e,t)=>(0,Re.jsx)(dc,{lesson:e,index:t},e.id))})]}),f.lessons.filter(e=>"revision"===e.type||"mastery"===e.type).length>0&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)(zl,{className:"w-6 h-6 text-orange-400"}),(0,Re.jsx)("h3",{className:"text-2xl font-bold",children:"Assessments"}),(0,Re.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-orange-400/50 to-transparent"})]}),(0,Re.jsx)("div",{className:"grid gap-6",children:f.lessons.filter(e=>"revision"===e.type||"mastery"===e.type).map((e,t)=>(0,Re.jsx)(dc,{lesson:e,index:t},e.id))})]}),(0,Re.jsxs)("div",{className:"mt-12",children:[(0,Re.jsx)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-purple-900/30 via-blue-900/30 to-indigo-900/30 rounded-xl p-6 border border-purple-500/30 mb-6",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,Re.jsx)(Vl,{className:"w-6 h-6 text-purple-400"})}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:[f.title," - All Problems"]}),(0,Re.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Complete problems loaded from Firebase with XP rewards"})]})]}),(0,Re.jsxs)("div",{className:"text-right hidden md:block",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Learn \u2192 Understand \u2192 Code"}),(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,Re.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),(0,Re.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]})]})}),(0,Re.jsx)(mc,{levelDifficulty:f.title,completedProblems:new Set})]})]})]},o)})}),p&&(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 pb-8",children:(0,Re.jsx)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-xl p-8 border border-purple-500/30",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)(rc,{size:40,animation:"bounce"}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Continue Your Journey"}),(0,Re.jsxs)("p",{className:"text-gray-300",children:["Next up: ",p.title]})]})]}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{switch(p.type){case"concept":e("/lesson/".concat(p.id));break;case"playground":e("/playground/".concat(p.id));break;case"revision":e("/revision/".concat(p.level));break;case"mastery":e("/mastery-test")}},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-8 py-4 rounded-lg font-semibold text-lg transition-colors flex items-center space-x-3",children:[(0,Re.jsx)("span",{children:"Continue Learning"}),(0,Re.jsx)(Bl,{className:"w-5 h-5"})]})]})})}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 pb-12",children:(0,Re.jsx)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 rounded-xl p-6 border border-gray-700/50",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,Re.jsx)(ql,{className:"w-6 h-6 text-blue-400"})}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"text-lg font-bold text-white mb-1 flex items-center gap-2",children:["Firebase Data Management",(0,Re.jsx)(Hl,{className:"w-4 h-4 text-gray-400"})]}),(0,Re.jsx)("p",{className:"text-gray-400 text-sm",children:"Populate or migrate your problem database"})]})]}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/migrate-problems"),className:"bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 border border-gray-600/50",children:[(0,Re.jsx)(ql,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"Manage Data"})]})]})})})]})},gc=(0,Zo.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var yc=n(683);const vc=(0,Zo.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),xc=(0,Zo.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var bc=n(356);const wc=()=>{var e,t;const{id:n}=te(),r=ee(),{getLessonById:s,updateLessonProgress:a}=Sl(),o=ll.find(e=>e.id===n),l=null===o||void 0===o?void 0:o.playgroundConfig,[c,u]=(0,i.useState)((null===l||void 0===l?void 0:l.starterCode)||""),[d,h]=(0,i.useState)(!1),[p,m]=(0,i.useState)(0),[f,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)([]),x=(0,i.useMemo)(()=>"array-basics-playground"===(null===o||void 0===o?void 0:o.id)?[{name:"Basic case",input:[1,2,3,4,5],expected:[1,5]},{name:"Single element",input:[42],expected:[42]},{name:"Empty array",input:[],expected:[]}]:null!==l&&void 0!==l&&l.testCases&&l.testCases.length>0?l.testCases.map((e,t)=>{try{const n=e.match(/(\w+)\((.+?)\)\s+should return\s+(.+)/);if(n){const[,e,r,i]=n,s=new Function("return [".concat(r,"]"))(),a=new Function("return ".concat(i))();return{name:"Test ".concat(t+1),input:1===s.length?s[0]:s,expected:a,fnName:e}}}catch(Wc){console.error("Failed to parse test case:",e,Wc)}return null}).filter(Boolean):[],[null===o||void 0===o?void 0:o.id,l]);if(!o)return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Lesson Not Found"}),(0,Re.jsx)("button",{onClick:()=>r("/arrays"),className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition-colors",children:"Back to Course"})]})});const b=y.filter(e=>e.passed).length;return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsx)("div",{className:"bg-gradient-to-r from-emerald-900/30 to-teal-900/30 border-b border-emerald-500/20",children:(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("/arrays"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,Re.jsx)(gc,{className:"w-5 h-5"})}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)(ac,{size:32,animation:"wobble"}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold",children:o.title}),(0,Re.jsx)("p",{className:"text-emerald-300",children:o.description})]})]})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-400",children:[(0,Re.jsx)(Dl,{className:"w-5 h-5"}),(0,Re.jsxs)("span",{className:"font-medium",children:[o.xpReward," XP"]})]}),(0,Re.jsxs)("div",{className:"text-sm text-gray-400",children:[o.difficulty," \u2022 ",o.duration," min"]})]})]})})}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[l?(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700/60",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-700/60",children:[(0,Re.jsx)("span",{className:"text-sm text-gray-300",children:"Editor"}),(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsxs)("button",{onClick:()=>{u((null===l||void 0===l?void 0:l.starterCode)||""),v([]),m(0)},className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-sm flex items-center gap-1",children:[(0,Re.jsx)(nl,{className:"w-4 h-4"})," Reset"]}),(0,Re.jsxs)("button",{onClick:async()=>{h(!0);try{const e=c.match(/function\s+(\w+)\s*\(/),t=x.length>0&&x[0].fnName?x[0].fnName:null,n=(null===e||void 0===e?void 0:e[1])||t||"solve",r='"use strict";\n'.concat(c,"\nreturn (typeof ").concat(n," !== 'undefined') ? ").concat(n," : undefined;"),i=new Function(r)();if("function"!==typeof i)throw new Error("No function exported from your code. Define a function like: function ".concat(n,"(...) { ... }"));const l=x.map(e=>{try{const t=Array.isArray(e.input)&&!Array.isArray(e.input[0])&&e.input.length>1?i(...e.input):i(e.input),n=JSON.stringify(t)===JSON.stringify(e.expected);return{name:e.name,passed:n,expected:e.expected,received:t}}catch(Wc){return{name:e.name,passed:!1,expected:e.expected,received:void 0,error:(null===Wc||void 0===Wc?void 0:Wc.message)||String(Wc)}}});v(l);const u=l.length>0&&l.every(e=>e.passed);if(o&&u){const e=s(o.id);!e||e.completed||f||(a(o.id,!0,100),g(!0))}}catch(e){v([{name:"Runtime error",passed:!1,expected:"No error",received:"Error",error:(null===e||void 0===e?void 0:e.message)||String(e)}])}finally{h(!1)}},disabled:d,className:"px-3 py-1.5 rounded bg-emerald-600 hover:bg-emerald-700 disabled:opacity-60 text-sm flex items-center gap-1",children:[(0,Re.jsx)(tl.A,{className:"w-4 h-4"})," ",d?"Running...":"Run"]})]})]}),(0,Re.jsx)("div",{className:"h-[420px]",children:(0,Re.jsx)(bc.Ay,{height:"100%",defaultLanguage:"javascript",theme:"vs-dark",value:c,onChange:e=>u(e||""),options:{fontSize:14,minimap:{enabled:!1},automaticLayout:!0,scrollBeyondLastLine:!1}})})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700/60 p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(yc.A,{className:"w-5 h-5 text-yellow-400"}),(0,Re.jsx)("span",{className:"font-medium",children:"Hints"})]}),(0,Re.jsx)("div",{className:"space-y-2",children:l.hints.slice(0,p+1).map((e,t)=>(0,Re.jsxs)("div",{className:"text-sm text-gray-300",children:["\u2022 ",e]},t))}),p<((null===(e=l.hints)||void 0===e?void 0:e.length)||0)-1&&(0,Re.jsx)("button",{onClick:()=>m(e=>e+1),className:"mt-3 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-sm",children:"Show next hint"})]})]}),(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700/60 p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)(vc,{className:"w-5 h-5 text-blue-400"}),(0,Re.jsx)("span",{className:"font-medium",children:"Test Results"})]}),(0,Re.jsx)("div",{className:"text-sm ".concat(y.length&&b===y.length?"text-green-400":"text-gray-400"),children:y.length?"".concat(b,"/").concat(y.length," Passed"):"Not run yet"})]}),o&&((null===(t=s(o.id))||void 0===t?void 0:t.completed)||f)&&(0,Re.jsx)("div",{className:"mb-3 text-emerald-300 text-sm",children:"\u2705 All tests passed! XP awarded and lesson marked complete."}),(0,Re.jsxs)("div",{className:"space-y-2",children:[0===y.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-400",children:"Click Run to execute tests."}),y.map((e,t)=>(0,Re.jsxs)("div",{className:"flex items-start gap-2 bg-gray-900/50 rounded p-3 border border-gray-700/50",children:[e.passed?(0,Re.jsx)(Ql,{className:"w-4 h-4 text-green-400 mt-0.5"}):(0,Re.jsx)(xc,{className:"w-4 h-4 text-red-400 mt-0.5"}),(0,Re.jsxs)("div",{className:"text-sm",children:[(0,Re.jsx)("div",{className:"font-medium",children:e.name}),e.error?(0,Re.jsxs)("div",{className:"text-red-300",children:["Error: ",e.error]}):(0,Re.jsxs)("div",{className:"text-gray-300",children:["Expected: ",(0,Re.jsx)("code",{className:"text-blue-300",children:JSON.stringify(e.expected)})," \u2022 Got:",(0,Re.jsxs)("code",{className:"text-yellow-300",children:[" ",JSON.stringify(e.received)]})]})]})]},t))]})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700/60 p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Ul,{className:"w-5 h-5 text-emerald-400"}),(0,Re.jsx)("span",{className:"font-medium",children:"Instructions"})]}),(0,Re.jsx)("p",{className:"text-sm text-gray-300",children:l.description})]})]})]}):(0,Re.jsx)("div",{className:"text-gray-300",children:"This lesson is not a playground."}),(0,Re.jsx)("div",{className:"mt-8",children:(0,Re.jsxs)("button",{onClick:()=>r("/arrays"),className:"bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-semibold flex items-center gap-2",children:[(0,Re.jsx)(gc,{className:"w-5 h-5"})," Back to Course"]})})]})]})},kc=(0,Zo.A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Sc=(0,Zo.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Ec=()=>{const{level:e}=te(),t=ee(),n=parseInt(e||"1"),r=cl(n).find(e=>"revision"===e.type),i={1:{title:"Beginner Level Assessment",subtitle:"Array Fundamentals Quiz",description:"Test your understanding of basic array concepts and operations",color:"from-green-500 to-emerald-600",bgGradient:"from-green-900/20 via-emerald-900/10 to-teal-900/20",borderColor:"border-green-500/30"},2:{title:"Intermediate Level Assessment",subtitle:"Algorithms & Techniques Quiz",description:"Challenge yourself with search algorithms and optimization problems",color:"from-yellow-500 to-orange-500",bgGradient:"from-yellow-900/20 via-orange-900/10 to-red-900/20",borderColor:"border-yellow-500/30"},3:{title:"Advanced Level Assessment",subtitle:"Complex Algorithms Quiz",description:"Master advanced 2D array algorithms and complex problem solving",color:"from-red-500 to-pink-600",bgGradient:"from-red-900/20 via-pink-900/10 to-purple-900/20",borderColor:"border-red-500/30"}}[n];return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsx)("div",{className:"bg-gradient-to-r ".concat(i.bgGradient," border-b ").concat(i.borderColor),children:(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/arrays"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,Re.jsx)(gc,{className:"w-5 h-5"})}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)(ic,{size:32,animation:"bounce"}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold",children:i.title}),(0,Re.jsx)("p",{className:"text-orange-300",children:i.subtitle})]})]})]}),(0,Re.jsx)("div",{className:"flex items-center space-x-4",children:r&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-400",children:[(0,Re.jsx)(Dl,{className:"w-5 h-5"}),(0,Re.jsxs)("span",{className:"font-medium",children:[r.xpReward," XP"]})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,Re.jsx)(Gl,{className:"w-5 h-5"}),(0,Re.jsxs)("span",{className:"font-medium",children:[r.duration," min"]})]})]})})]})})}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,Re.jsx)(uc,{animation:"slideIn",className:"flex justify-center mb-8",children:(0,Re.jsxs)("div",{className:"bg-gradient-to-r ".concat(i.bgGradient," rounded-2xl p-12 border ").concat(i.borderColor),children:[(0,Re.jsx)(ic,{size:64,animation:"bounce"}),(0,Re.jsx)("h2",{className:"text-4xl font-bold mt-6 mb-4",children:"Quiz System Under Development"}),(0,Re.jsxs)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:[i.description,". We're building an engaging quiz platform with instant feedback and detailed explanations!"]})]})}),(0,Re.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-12",children:[(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-4",children:(0,Re.jsx)(kc,{className:"w-8 h-8 text-blue-400"})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-3 text-blue-300",children:"Multiple Choice Questions"}),(0,Re.jsx)("p",{className:"text-gray-400",children:"Interactive MCQs with instant feedback and detailed explanations for each answer."})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-4",children:(0,Re.jsx)(Ul,{className:"w-8 h-8 text-emerald-400"})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-3 text-emerald-300",children:"Coding Challenges"}),(0,Re.jsx)("p",{className:"text-gray-400",children:"Mini coding problems to test your practical implementation skills."})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-4",children:(0,Re.jsx)(Sc,{className:"w-8 h-8 text-yellow-400"})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-3 text-yellow-300",children:"Performance Tracking"}),(0,Re.jsx)("p",{className:"text-gray-400",children:"Detailed analytics on your progress with areas for improvement."})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/30 rounded-xl p-8 border border-gray-700/30 max-w-5xl mx-auto",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Re.jsx)("h3",{className:"text-2xl font-bold",children:"Coming Soon: Interactive Assessments"}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"In Development"})]})]}),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-6 border border-gray-600/30",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Question 1 of 5"}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Gl,{className:"w-4 h-4 text-orange-400"}),(0,Re.jsx)("span",{className:"text-sm text-orange-400",children:"2:30 remaining"})]})]}),(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"What is the time complexity of accessing an element by index in an array?"}),(0,Re.jsx)("div",{className:"space-y-3",children:["O(1) - Constant time","O(n) - Linear time","O(log n) - Logarithmic time","O(n\xb2) - Quadratic time"].map((e,t)=>(0,Re.jsx)("button",{className:"w-full p-3 text-left bg-gray-800/50 hover:bg-gray-700/50 rounded-lg border border-gray-600/30 transition-colors",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 rounded-full"}),(0,Re.jsx)("span",{children:e})]})},t))})]}),(0,Re.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-6 border border-gray-600/30",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Coding Challenge"}),(0,Re.jsxs)("div",{className:"text-sm text-emerald-400 flex items-center space-x-1",children:[(0,Re.jsx)(Ul,{className:"w-4 h-4"}),(0,Re.jsx)("span",{children:"40 points"})]})]}),(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Write a function to find the maximum element in an array"}),(0,Re.jsxs)("div",{className:"bg-gray-950/50 rounded p-4 font-mono text-sm",children:[(0,Re.jsx)("div",{className:"text-purple-400",children:"function"}),(0,Re.jsxs)("div",{className:"text-blue-400 ml-2",children:["findMax(arr) ","{"]}),(0,Re.jsx)("div",{className:"text-gray-500 ml-4",children:"// Your code here..."}),(0,Re.jsx)("div",{className:"text-blue-400",children:"}"})]})]})]}),(0,Re.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Progress"}),(0,Re.jsx)("div",{className:"w-48 bg-gray-700 rounded-full h-2",children:(0,Re.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:"40%"}})}),(0,Re.jsx)("span",{className:"text-sm text-white",children:"2/5"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Ll,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{className:"text-sm text-green-400",children:"Pass: 70%"})]})]})]}),(0,Re.jsxs)("div",{className:"mt-12 flex items-center justify-center space-x-4",children:[(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/arrays"),className:"bg-orange-600 hover:bg-orange-700 px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-colors",children:[(0,Re.jsx)(gc,{className:"w-5 h-5"}),(0,Re.jsx)("span",{children:"Back to Course"})]}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-700 hover:bg-gray-600 px-8 py-3 rounded-lg font-semibold flex items-center space-x-2 transition-colors",children:[(0,Re.jsx)(nc,{size:20,animation:"pulse"}),(0,Re.jsx)("span",{children:"Notify Me When Ready"})]})]})]})})]})},Cc=(0,Zo.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Tc=e=>{let{size:t=24,animation:n="glow"}=e;return(0,Re.jsx)(Wo.div,{animate:{filter:["drop-shadow(0 0 0px #FFD700)","drop-shadow(0 0 12px #FFD700)","drop-shadow(0 0 0px #FFD700)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"inline-block",children:(0,Re.jsx)(Wl,{size:t,color:"#FFD700"})})},Ac=()=>{const e=ee(),t=ll.find(e=>"mastery"===e.type);return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsxs)("div",{className:"relative bg-gradient-to-br from-purple-900 via-pink-900 to-red-900 py-16 overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMSIgZmlsbD0iI0ZGRDcwMCIgZmlsbC1vcGFjaXR5PSIwLjEiLz4KPC9zdmc+')] opacity-30"}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-6 relative",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Re.jsx)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/arrays"),className:"p-3 hover:bg-white/10 rounded-lg transition-colors",children:(0,Re.jsx)(gc,{className:"w-6 h-6"})}),(0,Re.jsx)("div",{className:"flex items-center space-x-4",children:t&&(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-400",children:[(0,Re.jsx)(Dl,{className:"w-5 h-5"}),(0,Re.jsxs)("span",{className:"font-medium",children:[t.xpReward," XP"]})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,Re.jsx)(Gl,{className:"w-5 h-5"}),(0,Re.jsxs)("span",{className:"font-medium",children:[t.duration," min"]})]})]})})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,Re.jsxs)(uc,{animation:"slideIn",className:"flex items-center justify-center mb-8 space-x-6",children:[(0,Re.jsx)(Tc,{size:80}),(0,Re.jsxs)("div",{className:"text-left",children:[(0,Re.jsx)("h1",{className:"text-6xl font-bold bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:"Final Mastery Test"}),(0,Re.jsx)("p",{className:"text-2xl text-gray-300 mt-4",children:"The Ultimate Array Challenge"}),(0,Re.jsx)(cc,{color:"white",bgColor:"#FFD700",animation:"glow",children:"\ud83c\udfc6 Certification Level"})]})]}),(0,Re.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8",children:"Prove your mastery of arrays with our comprehensive final assessment. This challenging test covers everything from basic operations to advanced algorithms."}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[(0,Re.jsxs)(Wo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,Re.jsx)(Xl,{className:"w-8 h-8 text-purple-400"})}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-white",children:"15-20"}),(0,Re.jsx)("div",{className:"text-gray-300",children:"Questions"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,Re.jsx)(Ul,{className:"w-8 h-8 text-emerald-400"})}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-emerald-400",children:"5-7"}),(0,Re.jsx)("div",{className:"text-gray-300",children:"Coding"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,Re.jsx)(Ll,{className:"w-8 h-8 text-orange-400"})}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-orange-400",children:"80%"}),(0,Re.jsx)("div",{className:"text-gray-300",children:"Pass Rate"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,Re.jsx)(Sc,{className:"w-8 h-8 text-yellow-400"})}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:"Certificate"}),(0,Re.jsx)("div",{className:"text-gray-300",children:"Reward"})]})]})]})]})]}),(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-16",children:(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center",children:[(0,Re.jsx)(uc,{animation:"slideIn",className:"flex justify-center mb-12",children:(0,Re.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/40 to-pink-900/40 rounded-3xl p-16 border border-purple-500/30",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[(0,Re.jsx)(rc,{size:48,animation:"bounce"}),(0,Re.jsx)(Cc,{className:"w-12 h-12 text-pink-400"}),(0,Re.jsx)(ic,{size:48,animation:"glow"})]}),(0,Re.jsx)("h2",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Coming Soon!"}),(0,Re.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"We're crafting the ultimate array mastery test that will challenge every aspect of your knowledge. From algorithmic thinking to optimization techniques, this comprehensive assessment will certify your expertise in array data structures."})]})}),(0,Re.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:[(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-800/50 rounded-xl p-8 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-6",children:(0,Re.jsx)(Xl,{className:"w-12 h-12 text-purple-400"})}),(0,Re.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-purple-300",children:"Conceptual Mastery"}),(0,Re.jsx)("p",{className:"text-gray-400 leading-relaxed",children:"Deep understanding questions covering time complexity, space optimization, and algorithmic strategies for various array operations."})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gray-800/50 rounded-xl p-8 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-6",children:(0,Re.jsx)(Ul,{className:"w-12 h-12 text-emerald-400"})}),(0,Re.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-emerald-300",children:"Practical Implementation"}),(0,Re.jsx)("p",{className:"text-gray-400 leading-relaxed",children:"Advanced coding challenges including two-pointer techniques, sliding windows, matrix manipulations, and complex algorithmic patterns."})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800/50 rounded-xl p-8 border border-gray-700/50",children:[(0,Re.jsx)("div",{className:"flex justify-center mb-6",children:(0,Re.jsx)(zl,{className:"w-12 h-12 text-yellow-400"})}),(0,Re.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-yellow-300",children:"Certification Ready"}),(0,Re.jsx)("p",{className:"text-gray-400 leading-relaxed",children:"Industry-standard assessment that validates your array expertise for technical interviews and professional development."})]})]}),(0,Re.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 rounded-2xl p-12 border border-yellow-500/30 mb-12",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,Re.jsx)(Wo.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:(0,Re.jsx)(Sc,{className:"w-20 h-20 text-yellow-400"})})}),(0,Re.jsx)("h3",{className:"text-3xl font-bold mb-6 text-yellow-300",children:"Array Mastery Certificate"}),(0,Re.jsx)("p",{className:"text-xl text-gray-300 mb-8",children:"Upon successful completion, you'll receive a verified certificate demonstrating your proficiency in array data structures and algorithms."}),(0,Re.jsxs)("div",{className:"flex items-center justify-center space-x-8 text-sm text-gray-400",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{children:"Comprehensive Assessment"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{children:"Industry Recognition"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{children:"Portfolio Ready"})]})]})]}),(0,Re.jsxs)("div",{className:"flex items-center justify-center space-x-6",children:[(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/arrays"),className:"bg-purple-600 hover:bg-purple-700 px-10 py-4 rounded-lg font-semibold text-lg flex items-center space-x-3 transition-colors",children:[(0,Re.jsx)(gc,{className:"w-6 h-6"}),(0,Re.jsx)("span",{children:"Back to Course"})]}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 px-10 py-4 rounded-lg font-semibold text-lg flex items-center space-x-3 transition-colors",children:[(0,Re.jsx)(sc,{size:24,animation:"glow"}),(0,Re.jsx)("span",{children:"Notify Me When Ready"})]})]})]})})]})},Nc=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),{signInWithGoogle:d,signInWithEmail:h,signUpWithEmail:p,user:m}=(0,pl.A)(),f=ee(),g=$();(0,i.useEffect)(()=>{if(m){var e,t;const n=(null===(e=g.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";f(n,{replace:!0})}},[m,f,g]);return(0,Re.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,Re.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-6",children:(0,Re.jsx)("span",{className:"text-white font-bold text-xl",children:"CP"})}),(0,Re.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome to Code Pilot"}),(0,Re.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Master algorithms through interactive learning"})]}),(0,Re.jsx)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-xl border border-gray-100",children:(0,Re.jsxs)("div",{className:"space-y-6",children:[n&&(0,Re.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Re.jsx)("p",{className:"text-red-600 text-sm",children:n})}),(0,Re.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{t(!0),r(null),c?await p(s,o):await h(s,o)}catch(n){console.error("Auth error:",n),r(n.message||"Authentication failed")}finally{t(!1)}},className:"space-y-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Re.jsx)("input",{id:"email",type:"email",required:!0,value:s,onChange:e=>a(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Re.jsx)("input",{id:"password",type:"password",required:!0,value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,Re.jsx)("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:e?"Processing...":c?"Sign Up":"Sign In"})]}),(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Re.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Re.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Re.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,Re.jsx)("button",{onClick:async()=>{try{t(!0),r(null),await fl.j2.signOut();const e=d(),n=new Promise((e,t)=>setTimeout(()=>t(new Error("Sign-in timeout")),6e4));await Promise.race([e,n])}catch(n){switch(console.error("Sign-in error:",n),n.code){case"auth/popup-closed-by-user":r("Please keep the sign-in window open to complete authentication.");break;case"auth/popup-blocked":r("Please allow pop-ups for this site and try again.");break;case"auth/cancelled-popup-request":r("Previous sign-in attempt in progress. Please wait.");break;case"auth/network-request-failed":r("Network error. Please check your internet connection.");break;default:r(n.message||"Failed to sign in with Google. Please try again.")}}finally{t(!1)}},disabled:e,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600"}),(0,Re.jsx)("span",{className:"text-gray-700",children:"Signing in..."})]}):(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,Re.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Re.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Re.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Re.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Re.jsx)("span",{className:"text-gray-700 font-medium",children:"Sign in with Google"})]})}),(0,Re.jsx)("div",{className:"text-center",children:(0,Re.jsx)("button",{type:"button",onClick:()=>u(!c),className:"text-sm text-indigo-600 hover:text-indigo-500",children:c?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})}),(0,Re.jsx)("div",{className:"text-center",children:(0,Re.jsx)("p",{className:"text-sm text-gray-500",children:"Ready to start your coding journey?"})})]})})},_c=(0,Zo.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jc=[{id:"largest-element",title:"Find the Largest Element in an Array",difficulty:"Easy",category:"Array Basics",learnContent:{concept:"Array Traversal & Maximum Finding",explanation:'\n        Finding the largest element in an array is one of the most fundamental operations. \n        The key idea is to traverse through all elements once while keeping track of the \n        maximum value seen so far. This is called a "linear scan" or "single-pass traversal".\n        \n        Think of it like looking through a stack of papers to find the one with the highest score - \n        you need to look at each paper once, remembering the highest score as you go.\n      ',algorithmSteps:["Initialize a variable to store the maximum value (start with the first element or negative infinity)","Iterate through each element in the array","For each element, compare it with the current maximum","If the current element is greater than the maximum, update the maximum","After checking all elements, return the maximum value"],timeComplexity:"O(n) - We visit each element exactly once",spaceComplexity:"O(1) - We only use one variable to track the maximum",visualExample:{description:"Let's find the largest element in [3, 7, 2, 9, 1]",steps:[{step:1,description:"Initialize max with first element",visualization:"\nArray: [3, 7, 2, 9, 1]\n        \u2191\n      max = 3\n            ",code:"let max = arr[0]; // max = 3"},{step:2,description:"Check second element (7)",visualization:"\nArray: [3, 7, 2, 9, 1]\n           \u2191\n7 > 3? YES \u2192 max = 7\n            ",code:"if (arr[1] > max) max = arr[1]; // max = 7"},{step:3,description:"Check third element (2)",visualization:"\nArray: [3, 7, 2, 9, 1]\n              \u2191\n2 > 7? NO \u2192 max stays 7\n            ",code:"if (arr[2] > max) max = arr[2]; // max stays 7"},{step:4,description:"Check fourth element (9)",visualization:"\nArray: [3, 7, 2, 9, 1]\n                 \u2191\n9 > 7? YES \u2192 max = 9\n            ",code:"if (arr[3] > max) max = arr[3]; // max = 9"},{step:5,description:"Check last element (1)",visualization:"\nArray: [3, 7, 2, 9, 1]\n                    \u2191\n1 > 9? NO \u2192 max stays 9\n\nFinal Answer: 9\n            ",code:"if (arr[4] > max) max = arr[4]; // max stays 9"}]},keyPoints:["Always initialize your maximum before the loop","Use a single pass through the array for efficiency","No need to sort the array - that would be slower","Handle edge case: empty array"],commonMistakes:["Forgetting to initialize the maximum value","Using arr.sort() which is O(n log n) when O(n) is possible","Not handling empty arrays"]},problemStatement:"\n      Given an array of integers, find and return the largest element.\n      \n      Your task is to implement a function that finds the maximum value in the array\n      using the single-pass traversal technique you just learned.\n    ",constraints:["1 \u2264 array.length \u2264 10^5","-10^9 \u2264 array[i] \u2264 10^9"],examples:[{input:"[3, 7, 2, 9, 1]",output:"9",explanation:"9 is the largest element in the array"},{input:"[-5, -2, -10, -1]",output:"-1",explanation:"Among negative numbers, -1 is the largest"},{input:"[42]",output:"42",explanation:"Single element array returns that element"}],starterCode:"function findLargest(arr) {\n  // Your code here\n  // Remember: Single pass, keep track of max\n  \n}",solution:"function findLargest(arr) {\n  if (arr.length === 0) return null;\n  \n  let max = arr[0];\n  \n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i] > max) {\n      max = arr[i];\n    }\n  }\n  \n  return max;\n}",testCases:[{input:[3,7,2,9,1],expectedOutput:9},{input:[-5,-2,-10,-1],expectedOutput:-1},{input:[42],expectedOutput:42},{input:[1,1,1,1],expectedOutput:1}],tags:["array","basics","traversal","beginner-friendly"],relatedProblems:["second-largest","find-minimum"]},{id:"two-sum",title:"Two Sum",difficulty:"Medium",category:"Hash Map & Arrays",learnContent:{concept:"Hash Map for O(n) Lookups",explanation:"\n        The Two Sum problem asks us to find two numbers that add up to a target.\n        The naive approach is to check every pair (nested loops) - that's O(n\xb2).\n        \n        But we can do better! Using a hash map, we can solve it in O(n) time.\n        \n        The key insight: For each number X, we need to find if (target - X) exists.\n        Instead of searching the array repeatedly, we store each number in a hash map\n        as we go, so lookups become O(1).\n        \n        Think of it like keeping a phonebook - instead of calling everyone to find a number,\n        you just look it up instantly.\n      ",algorithmSteps:["Create an empty hash map to store {number: index}","For each element in the array:","  - Calculate complement = target - current element","  - Check if complement exists in hash map","  - If yes: return [map[complement], current index]","  - If no: add current element to hash map","If no pair found, return empty or null"],timeComplexity:"O(n) - Single pass through the array",spaceComplexity:"O(n) - Hash map can store up to n elements",visualExample:{description:"Find two numbers that sum to 9 in [2, 7, 11, 15]",steps:[{step:1,description:"Initialize empty hash map",visualization:"\nArray:  [2, 7, 11, 15]    Target: 9\n         \u2191\nMap: {}\n            ",code:"const map = new Map();"},{step:2,description:"Check first element (2)",visualization:"\nElement: 2\nComplement: 9 - 2 = 7\nIs 7 in map? NO\n\nAdd 2 to map:\nMap: {2: 0}\n            ",code:"\nconst complement = 9 - 2; // 7\nif (map.has(7)) return [map.get(7), 0];\nmap.set(2, 0);\n            "},{step:3,description:"Check second element (7)",visualization:"\nElement: 7\nComplement: 9 - 7 = 2\nIs 2 in map? YES! \u2713\n\nFound at index 0\nCurrent index: 1\n\nAnswer: [0, 1]\n            ",code:"\nconst complement = 9 - 7; // 2\nif (map.has(2)) return [map.get(2), 1]; // Found!\n// Returns [0, 1]\n            "}]},keyPoints:["Hash map provides O(1) lookup time","We only need one pass through the array","Store number\u2192index mapping for returning indices","Check for complement BEFORE adding to map to avoid using same element twice"],commonMistakes:["Using nested loops (O(n\xb2)) instead of hash map","Adding to map before checking for complement","Not handling the case where same element can't be used twice","Forgetting to return indices instead of values"]},problemStatement:"\n      Given an array of integers nums and an integer target, return indices of the \n      two numbers such that they add up to target.\n      \n      You may assume that each input would have exactly one solution, and you may \n      not use the same element twice.\n      \n      Implement this using the hash map technique you just learned for O(n) time complexity.\n    ",constraints:["2 \u2264 nums.length \u2264 10^4","-10^9 \u2264 nums[i] \u2264 10^9","-10^9 \u2264 target \u2264 10^9","Only one valid answer exists"],examples:[{input:"nums = [2,7,11,15], target = 9",output:"[0,1]",explanation:"nums[0] + nums[1] = 2 + 7 = 9"},{input:"nums = [3,2,4], target = 6",output:"[1,2]",explanation:"nums[1] + nums[2] = 2 + 4 = 6"},{input:"nums = [3,3], target = 6",output:"[0,1]",explanation:"Two different elements (both happen to be 3)"}],starterCode:"function twoSum(nums, target) {\n  // Your code here\n  // Remember: Use hash map for O(1) lookups\n  \n}",solution:"function twoSum(nums, target) {\n  const map = new Map();\n  \n  for (let i = 0; i < nums.length; i++) {\n    const complement = target - nums[i];\n    \n    if (map.has(complement)) {\n      return [map.get(complement), i];\n    }\n    \n    map.set(nums[i], i);\n  }\n  \n  return []; // No solution found\n}",testCases:[{input:{nums:[2,7,11,15],target:9},expectedOutput:[0,1]},{input:{nums:[3,2,4],target:6},expectedOutput:[1,2]},{input:{nums:[3,3],target:6},expectedOutput:[0,1]}],tags:["array","hash-map","two-pointers","optimization"],relatedProblems:["three-sum","four-sum"],resources:{videoUrl:"https://youtube.com/watch?v=example",articleUrl:"https://example.com/two-sum"}}],Ic={topic:"Arrays",totalLevels:3,totalProblems:44,estimatedHours:43,levels:[{id:"arrays-beginner",name:"Arrays - Level 1: Beginner",description:"Master array fundamentals, basic operations, and simple problem-solving patterns",difficulty:"Beginner",totalProblems:13,estimatedHours:8,subtopics:[{id:"basics-easy",name:"Array Basics & Easy Operations",difficulty:"Easy",learningObjective:"Learn basic array traversal, finding elements, and simple operations",questionCount:6,estimatedTime:120,problems:[{id:"largest-element",title:"Find the Largest Element in an Array",difficulty:"Easy",learningObjective:"Learn basic array traversal and comparison",tags:["array","basics","traversal"],hasVideo:!0,hasArticle:!0},{id:"second-largest",title:"Find Second Smallest and Second Largest Element",difficulty:"Easy",learningObjective:"Handle multiple comparisons in a single pass",tags:["array","traversal","optimization"],hasVideo:!0,hasArticle:!0},{id:"check-sorted",title:"Check if Array is Sorted",difficulty:"Easy",learningObjective:"Validate array properties through sequential checking",tags:["array","sorted","validation"],hasVideo:!0,hasArticle:!0},{id:"remove-duplicates-sorted",title:"Remove Duplicates from Sorted Array",difficulty:"Easy",learningObjective:"Master in-place array manipulation with two pointers",tags:["array","two-pointers","in-place","sorted"],hasVideo:!0,hasArticle:!0},{id:"left-rotate-by-one",title:"Left Rotate Array by One Place",difficulty:"Easy",learningObjective:"Understand array rotation mechanics",tags:["array","rotation","shifting"],hasVideo:!0,hasArticle:!0},{id:"left-rotate-by-d",title:"Left Rotate Array by D Places",difficulty:"Easy",learningObjective:"Apply rotation algorithms with modular arithmetic",tags:["array","rotation","algorithm"],hasVideo:!0,hasArticle:!0}]},{id:"manipulation-easy",name:"Array Manipulation & Arrangement",difficulty:"Easy",learningObjective:"Practice moving, arranging, and organizing array elements",questionCount:4,estimatedTime:100,problems:[{id:"move-zeros",title:"Move All Zeros to End",difficulty:"Easy",learningObjective:"Efficiently rearrange elements while maintaining order",tags:["array","two-pointers","arrangement"],hasVideo:!0,hasArticle:!0},{id:"linear-search",title:"Linear Search",difficulty:"Easy",learningObjective:"Implement basic search algorithm",tags:["array","search","basics"],hasVideo:!0,hasArticle:!0},{id:"union-sorted-arrays",title:"Union of Two Sorted Arrays",difficulty:"Easy",learningObjective:"Merge arrays while handling duplicates",tags:["array","merge","sorted","two-pointers"],hasVideo:!0,hasArticle:!0},{id:"intersection-sorted-arrays",title:"Intersection of Two Sorted Arrays",difficulty:"Easy",learningObjective:"Find common elements using two-pointer technique",tags:["array","two-pointers","sorted"],hasVideo:!0,hasArticle:!0}]},{id:"problem-solving-easy",name:"Basic Problem Solving",difficulty:"Easy",learningObjective:"Apply array knowledge to solve simple real-world problems",questionCount:3,estimatedTime:90,problems:[{id:"missing-number",title:"Find the Missing Number",difficulty:"Easy",learningObjective:"Use mathematical properties to solve array problems",tags:["array","math","sum"],hasVideo:!0,hasArticle:!0},{id:"max-consecutive-ones",title:"Maximum Consecutive Ones",difficulty:"Easy",learningObjective:"Track sequences in arrays",tags:["array","sequence","counting"],hasVideo:!0,hasArticle:!0},{id:"single-number",title:"Find the Number that Appears Once",difficulty:"Easy",learningObjective:"Learn XOR properties for array problems",tags:["array","xor","bit-manipulation"],hasVideo:!0,hasArticle:!0}]}]},{id:"arrays-intermediate",name:"Arrays - Level 2: Intermediate",description:"Master two-pointers, sliding window, and important array patterns",difficulty:"Intermediate",totalProblems:16,estimatedHours:15,subtopics:[{id:"two-pointers-medium",name:"Two Pointers & Pair Problems",difficulty:"Medium",learningObjective:"Master two-pointer technique for pair and triplet problems",questionCount:5,estimatedTime:180,problems:[{id:"two-sum",title:"Two Sum Problem",difficulty:"Medium",learningObjective:"Use hash maps for O(n) pair finding",tags:["array","hash-map","two-pointers","pairs"],hasVideo:!0,hasArticle:!0},{id:"sort-012",title:"Sort Array of 0s, 1s and 2s (Dutch National Flag)",difficulty:"Medium",learningObjective:"Apply three-way partitioning algorithm",tags:["array","sorting","three-pointers","partitioning"],hasVideo:!0,hasArticle:!0},{id:"majority-element",title:"Majority Element (>n/2 times)",difficulty:"Medium",learningObjective:"Learn Moore's Voting Algorithm",tags:["array","voting-algorithm","frequency"],hasVideo:!0,hasArticle:!0},{id:"kadanes-algorithm",title:"Maximum Subarray Sum (Kadane's Algorithm)",difficulty:"Medium",learningObjective:"Master dynamic programming approach for subarrays",tags:["array","dp","kadanes","subarray"],hasVideo:!0,hasArticle:!0},{id:"best-time-stock",title:"Best Time to Buy and Sell Stock",difficulty:"Medium",learningObjective:"Track running minimum for optimization problems",tags:["array","greedy","profit","optimization"],hasVideo:!0,hasArticle:!0}]},{id:"rearrangement-medium",name:"Rearrangement & Permutations",difficulty:"Medium",learningObjective:"Handle complex array rearrangement patterns",questionCount:4,estimatedTime:150,problems:[{id:"rearrange-sign",title:"Rearrange Array Elements by Sign",difficulty:"Medium",learningObjective:"Maintain relative order while rearranging",tags:["array","arrangement","two-pointers"],hasVideo:!0,hasArticle:!0},{id:"next-permutation",title:"Next Permutation",difficulty:"Medium",learningObjective:"Find lexicographically next arrangement",tags:["array","permutation","algorithm"],hasVideo:!0,hasArticle:!0},{id:"leaders-array",title:"Leaders in an Array",difficulty:"Medium",learningObjective:"Scan array from right to find leaders",tags:["array","traversal","optimization"],hasVideo:!0,hasArticle:!0},{id:"longest-consecutive",title:"Longest Consecutive Sequence",difficulty:"Medium",learningObjective:"Use hash sets for O(n) sequence finding",tags:["array","hash-set","sequence"],hasVideo:!0,hasArticle:!0}]},{id:"matrix-medium",name:"Matrix & 2D Arrays",difficulty:"Medium",learningObjective:"Navigate and manipulate 2D arrays efficiently",questionCount:4,estimatedTime:180,problems:[{id:"set-matrix-zeros",title:"Set Matrix Zeros",difficulty:"Medium",learningObjective:"Optimize space using matrix itself as markers",tags:["matrix","2d-array","in-place"],hasVideo:!0,hasArticle:!0},{id:"rotate-matrix-90",title:"Rotate Matrix by 90 Degrees",difficulty:"Medium",learningObjective:"Transform matrix using transpose and reverse",tags:["matrix","rotation","transformation"],hasVideo:!0,hasArticle:!0},{id:"spiral-traversal",title:"Print Matrix in Spiral Form",difficulty:"Medium",learningObjective:"Master boundary-based matrix traversal",tags:["matrix","traversal","simulation"],hasVideo:!0,hasArticle:!0},{id:"pascals-triangle",title:"Pascal's Triangle",difficulty:"Medium",learningObjective:"Generate patterns using combinatorics",tags:["matrix","math","pattern"],hasVideo:!0,hasArticle:!0}]},{id:"subarray-medium",name:"Subarray Problems",difficulty:"Medium",learningObjective:"Work with contiguous subarrays and their properties",questionCount:3,estimatedTime:120,problems:[{id:"count-subarrays-sum-k",title:"Count Subarrays with Sum K",difficulty:"Medium",learningObjective:"Use prefix sum with hash maps",tags:["array","subarray","prefix-sum","hash-map"],hasVideo:!0,hasArticle:!0},{id:"longest-subarray-sum-k",title:"Longest Subarray with Sum K",difficulty:"Medium",learningObjective:"Apply sliding window for positives, prefix sum for negatives",tags:["array","subarray","sliding-window"],hasVideo:!0,hasArticle:!0},{id:"subarray-xor-k",title:"Count Subarrays with XOR K",difficulty:"Medium",learningObjective:"Extend prefix sum concept to XOR",tags:["array","xor","prefix-xor","hash-map"],hasVideo:!0,hasArticle:!0}]}]},{id:"arrays-advanced",name:"Arrays - Level 3: Advanced",description:"Tackle hard problems involving multiple pointers, merging, and complex patterns",difficulty:"Advanced",totalProblems:15,estimatedHours:20,subtopics:[{id:"three-four-sum",name:"Multiple Pointers & K-Sum Problems",difficulty:"Hard",learningObjective:"Extend two-pointer technique to 3-sum and 4-sum problems",questionCount:3,estimatedTime:180,problems:[{id:"three-sum",title:"3 Sum Problem",difficulty:"Hard",learningObjective:"Find all unique triplets that sum to zero",tags:["array","three-pointers","triplets","sorting"],hasVideo:!0,hasArticle:!0},{id:"four-sum",title:"4 Sum Problem",difficulty:"Hard",learningObjective:"Extend to quadruplets with efficient pruning",tags:["array","four-pointers","quadruplets","sorting"],hasVideo:!0,hasArticle:!0},{id:"largest-subarray-zero-sum",title:"Largest Subarray with Zero Sum",difficulty:"Hard",learningObjective:"Use prefix sum for zero-sum detection",tags:["array","prefix-sum","hash-map","subarray"],hasVideo:!0,hasArticle:!0}]},{id:"merge-intervals",name:"Merging & Overlapping Intervals",difficulty:"Hard",learningObjective:"Handle interval merging and overlapping logic",questionCount:3,estimatedTime:150,problems:[{id:"merge-overlapping-intervals",title:"Merge Overlapping Intervals",difficulty:"Hard",learningObjective:"Sort and merge intervals efficiently",tags:["array","intervals","sorting","merging"],hasVideo:!0,hasArticle:!0},{id:"merge-sorted-arrays",title:"Merge Two Sorted Arrays Without Extra Space",difficulty:"Hard",learningObjective:"Use gap method or two-pointer from end",tags:["array","merge","in-place","sorting"],hasVideo:!0,hasArticle:!0},{id:"find-missing-repeating",title:"Find Missing and Repeating Numbers",difficulty:"Hard",learningObjective:"Apply mathematical equations or XOR",tags:["array","math","xor","equations"],hasVideo:!0,hasArticle:!0}]},{id:"advanced-patterns",name:"Advanced Problem Patterns",difficulty:"Hard",learningObjective:"Master complex algorithmic patterns on arrays",questionCount:5,estimatedTime:240,problems:[{id:"inversion-count",title:"Count Inversions",difficulty:"Hard",learningObjective:"Use merge sort to count inversions in O(n log n)",tags:["array","merge-sort","divide-conquer","inversions"],hasVideo:!0,hasArticle:!0},{id:"reverse-pairs",title:"Count Reverse Pairs",difficulty:"Hard",learningObjective:"Modify merge sort for pair counting",tags:["array","merge-sort","pairs"],hasVideo:!0,hasArticle:!0},{id:"max-product-subarray",title:"Maximum Product Subarray",difficulty:"Hard",learningObjective:"Track both max and min products due to negatives",tags:["array","dp","subarray","product"],hasVideo:!0,hasArticle:!0},{id:"majority-element-n3",title:"Majority Element (>n/3 times)",difficulty:"Hard",learningObjective:"Extend Boyer-Moore to find two majority elements",tags:["array","voting-algorithm","frequency"],hasVideo:!0,hasArticle:!0},{id:"longest-substring-without-repeat",title:"Longest Substring Without Repeating Characters",difficulty:"Hard",learningObjective:"Use sliding window with hash set",tags:["array","sliding-window","hash-set","string"],hasVideo:!0,hasArticle:!0}]},{id:"hard-optimizations",name:"Hard Optimization Problems",difficulty:"Hard",learningObjective:"Solve challenging problems requiring creative optimizations",questionCount:4,estimatedTime:200,problems:[{id:"trapping-rain-water",title:"Trapping Rain Water",difficulty:"Hard",learningObjective:"Use two pointers to calculate trapped water",tags:["array","two-pointers","water","optimization"],hasVideo:!0,hasArticle:!0},{id:"container-most-water",title:"Container With Most Water",difficulty:"Hard",learningObjective:"Apply greedy two-pointer approach",tags:["array","two-pointers","greedy","area"],hasVideo:!0,hasArticle:!0},{id:"find-duplicate",title:"Find the Duplicate Number",difficulty:"Hard",learningObjective:"Use Floyd's cycle detection on array",tags:["array","cycle-detection","linked-list-in-array"],hasVideo:!0,hasArticle:!0},{id:"repeat-missing",title:"Repeat and Missing Number",difficulty:"Hard",learningObjective:"Solve using sum and sum of squares",tags:["array","math","equations"],hasVideo:!0,hasArticle:!0}]}]}]},Pc=()=>{const e=[];return Ic.levels.forEach(t=>{t.subtopics.forEach(t=>{e.push(...t.problems)})}),e},Rc=Ic,Oc=()=>{const{problemId:e}=te(),t=ee(),[n,r]=(0,i.useState)("learn"),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(0),[d,h]=(0,i.useState)(0),[p,m]=(0,i.useState)(!1);let f=jc.find(t=>t.id===e);const g=f?null:Pc().find(t=>t.id===e);if(!f&&g)return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center max-w-2xl",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold mb-4",children:g.title}),(0,Re.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-xl p-6 mb-6",children:[(0,Re.jsx)("p",{className:"text-yellow-400 font-semibold mb-2",children:"Learn-First Content Coming Soon!"}),(0,Re.jsx)("p",{className:"text-gray-300",children:"This problem is available in the curriculum, but detailed learn-first content is being prepared."}),(0,Re.jsx)("p",{className:"text-gray-400 text-sm mt-3",children:"Currently available with full learn content:"}),(0,Re.jsxs)("ul",{className:"text-sm text-gray-400 mt-2 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 Find the Largest Element"}),(0,Re.jsx)("li",{children:"\u2022 Two Sum"})]})]}),(0,Re.jsx)("button",{onClick:()=>t("/arrays"),className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg",children:"Back to Course"})]})});if(!f&&!g)return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Problem Not Found"}),(0,Re.jsx)("button",{onClick:()=>t("/arrays"),className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg",children:"Back to Course"})]})});i.useEffect(()=>{a(f.starterCode)},[f]);const y=(()=>{const e=[];if(f.learnContent.keyPoints.length>0&&e.push("\ud83d\udca1 Remember: ".concat(f.learnContent.keyPoints[0])),f.learnContent.algorithmSteps.forEach((t,n)=>{n<3&&e.push("Step ".concat(n+1,": ").concat(t))}),o.length>0&&!o.every(e=>e.passed)){o.filter(e=>!e.passed).length>0&&(e.push("\ud83d\udd0d Some tests are failing. Double-check your logic for edge cases."),e.push("\u26a1 Expected complexity: ".concat(f.learnContent.timeComplexity.split("-")[0]," - are you using the right approach?")))}return f.learnContent.commonMistakes.length>0&&e.push("\u26a0\ufe0f Common mistake to avoid: ".concat(f.learnContent.commonMistakes[0])),e.push('\ud83c\udfaf This problem uses the "'.concat(f.learnContent.concept,'" pattern')),e})();return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,Re.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-10",children:(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("button",{onClick:()=>t("/arrays"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[(0,Re.jsx)(gc,{className:"w-5 h-5"}),(0,Re.jsx)("span",{children:"Back to Course"})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded ".concat("learn"===n?"bg-blue-600":"bg-gray-700"),children:[(0,Re.jsx)(Vl,{className:"w-4 h-4"}),(0,Re.jsx)("span",{className:"text-sm",children:"Learn"})]}),(0,Re.jsx)(Bl,{className:"w-4 h-4 text-gray-500"}),(0,Re.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded ".concat("understand"===n?"bg-purple-600":"bg-gray-700"),children:[(0,Re.jsx)(yc.A,{className:"w-4 h-4"}),(0,Re.jsx)("span",{className:"text-sm",children:"Understand"})]}),(0,Re.jsx)(Bl,{className:"w-4 h-4 text-gray-500"}),(0,Re.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded ".concat("code"===n?"bg-green-600":"bg-gray-700"),children:[(0,Re.jsx)(Ul,{className:"w-4 h-4"}),(0,Re.jsx)("span",{className:"text-sm",children:"Code"})]})]}),(0,Re.jsx)("div",{className:"px-3 py-1 rounded text-sm ".concat("Easy"===f.difficulty?"bg-green-500/20 text-green-400":"Medium"===f.difficulty?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:f.difficulty})]})})}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,Re.jsx)("h1",{className:"text-3xl font-bold mb-2",children:f.title}),(0,Re.jsx)("p",{className:"text-gray-400 mb-8",children:f.category}),(0,Re.jsxs)($o,{mode:"wait",children:["learn"===n&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"bg-gradient-to-r from-blue-900/50 to-purple-900/50 rounded-xl p-6 border border-blue-500/30",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Re.jsx)(Vl,{className:"w-6 h-6 text-blue-400"}),(0,Re.jsxs)("h2",{className:"text-2xl font-bold",children:["Concept: ",f.learnContent.concept]})]}),(0,Re.jsx)("p",{className:"text-gray-300 whitespace-pre-line",children:f.learnContent.explanation})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-6 border border-gray-700",children:[(0,Re.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),"Algorithm Steps"]}),(0,Re.jsx)("ol",{className:"space-y-3",children:f.learnContent.algorithmSteps.map((e,t)=>(0,Re.jsxs)("li",{className:"flex gap-3",children:[(0,Re.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-sm",children:t+1}),(0,Re.jsx)("span",{className:"text-gray-300",children:e})]},t))})]}),f.learnContent.visualExample&&(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-6 border border-gray-700",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Visual Walkthrough"}),(0,Re.jsx)("p",{className:"text-gray-400 mb-6",children:f.learnContent.visualExample.description}),(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Re.jsxs)("button",{onClick:()=>u(Math.max(0,c-1)),disabled:0===c,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 rounded-lg flex items-center gap-2",children:[(0,Re.jsx)(gc,{className:"w-4 h-4"}),"Previous"]}),(0,Re.jsxs)("span",{className:"text-gray-400",children:["Step ",c+1," of ",f.learnContent.visualExample.steps.length]}),(0,Re.jsxs)("button",{onClick:()=>u(Math.min(f.learnContent.visualExample.steps.length-1,c+1)),disabled:c===f.learnContent.visualExample.steps.length-1,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 rounded-lg flex items-center gap-2",children:["Next",(0,Re.jsx)(Bl,{className:"w-4 h-4"})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-6",children:[(0,Re.jsxs)("div",{className:"mb-4",children:[(0,Re.jsxs)("span",{className:"text-blue-400 font-semibold",children:["Step ",f.learnContent.visualExample.steps[c].step]}),(0,Re.jsx)("p",{className:"text-gray-300 mt-2",children:f.learnContent.visualExample.steps[c].description})]}),f.learnContent.visualExample.steps[c].visualization&&(0,Re.jsx)("pre",{className:"bg-gray-800 p-4 rounded-lg text-green-400 font-mono text-sm overflow-x-auto mb-4",children:f.learnContent.visualExample.steps[c].visualization}),f.learnContent.visualExample.steps[c].code&&(0,Re.jsx)("pre",{className:"bg-gray-800 p-4 rounded-lg text-blue-300 font-mono text-sm overflow-x-auto",children:f.learnContent.visualExample.steps[c].code})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-4 border border-gray-700",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Gl,{className:"w-5 h-5 text-orange-400"}),(0,Re.jsx)("h4",{className:"font-semibold",children:"Time Complexity"})]}),(0,Re.jsx)("p",{className:"text-gray-300",children:f.learnContent.timeComplexity})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-4 border border-gray-700",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Dl,{className:"w-5 h-5 text-yellow-400"}),(0,Re.jsx)("h4",{className:"font-semibold",children:"Space Complexity"})]}),(0,Re.jsx)("p",{className:"text-gray-300",children:f.learnContent.spaceComplexity})]})]}),(0,Re.jsxs)("div",{className:"bg-green-900/20 rounded-xl p-6 border border-green-500/30",children:[(0,Re.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Re.jsx)(yc.A,{className:"w-5 h-5 text-green-400"}),"Key Points to Remember"]}),(0,Re.jsx)("ul",{className:"space-y-2",children:f.learnContent.keyPoints.map((e,t)=>(0,Re.jsxs)("li",{className:"flex gap-3 text-gray-300",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,Re.jsx)("span",{children:e})]},t))})]}),f.learnContent.commonMistakes&&f.learnContent.commonMistakes.length>0&&(0,Re.jsxs)("div",{className:"bg-red-900/20 rounded-xl p-6 border border-red-500/30",children:[(0,Re.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,Re.jsx)(_c,{className:"w-5 h-5 text-red-400"}),"Common Mistakes to Avoid"]}),(0,Re.jsx)("ul",{className:"space-y-2",children:f.learnContent.commonMistakes.map((e,t)=>(0,Re.jsxs)("li",{className:"flex gap-3 text-gray-300",children:[(0,Re.jsx)("span",{className:"text-red-400",children:"\u274c"}),(0,Re.jsx)("span",{children:e})]},t))})]}),(0,Re.jsx)("div",{className:"flex justify-end pt-4",children:(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("understand"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-8 py-4 rounded-lg font-semibold flex items-center gap-2",children:["Next: See the Problem",(0,Re.jsx)(Bl,{className:"w-5 h-5"})]})})]},"learn"),"understand"===n&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-6 border border-gray-700",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Problem Statement"}),(0,Re.jsx)("p",{className:"text-gray-300 whitespace-pre-line",children:f.problemStatement})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-6 border border-gray-700",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Examples"}),(0,Re.jsx)("div",{className:"space-y-4",children:f.examples.map((e,t)=>(0,Re.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[(0,Re.jsx)("div",{className:"mb-2",children:(0,Re.jsxs)("span",{className:"text-blue-400 font-semibold",children:["Example ",t+1,":"]})}),(0,Re.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"text-gray-400",children:"Input:"}),(0,Re.jsx)("code",{className:"ml-2 text-green-400",children:e.input})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"text-gray-400",children:"Output:"}),(0,Re.jsx)("code",{className:"ml-2 text-orange-400",children:e.output})]}),e.explanation&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("span",{className:"text-gray-400",children:"Explanation:"}),(0,Re.jsx)("span",{className:"ml-2 text-gray-300",children:e.explanation})]})]})]},t))})]}),(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-6 border border-gray-700",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Constraints"}),(0,Re.jsx)("ul",{className:"space-y-2",children:f.constraints.map((e,t)=>(0,Re.jsxs)("li",{className:"text-gray-300 flex gap-2",children:[(0,Re.jsx)("span",{className:"text-blue-400",children:"\u2022"}),(0,Re.jsx)("code",{className:"text-sm",children:e})]},t))})]}),(0,Re.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,Re.jsxs)("button",{onClick:()=>r("learn"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center gap-2",children:[(0,Re.jsx)(gc,{className:"w-5 h-5"}),"Back to Learn"]}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r("code"),className:"bg-gradient-to-r from-purple-600 to-green-600 hover:from-purple-700 hover:to-green-700 px-8 py-4 rounded-lg font-semibold flex items-center gap-2",children:["Start Coding",(0,Re.jsx)(Ul,{className:"w-5 h-5"})]})]})]},"understand"),"code"===n&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl border border-gray-700 overflow-hidden",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-700",children:[(0,Re.jsx)("span",{className:"text-sm text-gray-300",children:"Code Editor"}),(0,Re.jsxs)("button",{onClick:()=>{try{const e=s.match(/function\s+(\w+)/),t=e?e[1]:"solve",n="".concat(s,"\nreturn ").concat(t,";"),r=new Function(n)(),i=f.testCases.map((e,t)=>{try{const n=Array.isArray(e.input)?r(...e.input):r(e.input),i=JSON.stringify(n)===JSON.stringify(e.expectedOutput);return{name:"Test ".concat(t+1),passed:i,expected:e.expectedOutput,received:n}}catch(Wc){return{name:"Test ".concat(t+1),passed:!1,expected:e.expectedOutput,received:null,error:Wc.message}}});l(i)}catch(Wc){l([{name:"Runtime Error",passed:!1,error:Wc.message}])}},className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg flex items-center gap-2 text-sm",children:[(0,Re.jsx)(tl.A,{className:"w-4 h-4"}),"Run Tests"]})]}),(0,Re.jsx)("div",{className:"h-[500px]",children:(0,Re.jsx)(bc.Ay,{height:"100%",defaultLanguage:"javascript",theme:"vs-dark",value:s,onChange:e=>a(e||""),options:{fontSize:14,minimap:{enabled:!1},automaticLayout:!0}})})]}),(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"bg-gray-800/60 rounded-xl p-4 border border-gray-700",children:[(0,Re.jsx)("h3",{className:"font-semibold mb-4",children:"Test Results"}),0===o.length?(0,Re.jsx)("p",{className:"text-gray-400 text-sm",children:"Run tests to see results"}):(0,Re.jsx)("div",{className:"space-y-3",children:o.map((e,t)=>(0,Re.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.passed?"bg-green-900/30 border border-green-500/30":"bg-red-900/30 border border-red-500/30"),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Re.jsx)("span",{className:"font-medium",children:e.name}),e.passed?(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}):(0,Re.jsx)(_c,{className:"w-5 h-5 text-red-400"})]}),!e.passed&&(0,Re.jsx)("div",{className:"text-sm space-y-1",children:e.error?(0,Re.jsxs)("div",{className:"text-red-300",children:["Error: ",e.error]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("div",{className:"text-gray-300",children:["Expected: ",(0,Re.jsx)("code",{children:JSON.stringify(e.expected)})]}),(0,Re.jsxs)("div",{className:"text-gray-300",children:["Got: ",(0,Re.jsx)("code",{children:JSON.stringify(e.received)})]})]})})]},t))})]}),(0,Re.jsxs)("div",{className:"bg-blue-900/20 rounded-xl p-4 border border-blue-500/30",children:[(0,Re.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,Re.jsx)(yc.A,{className:"w-4 h-4 text-blue-400"}),"Quick Reference"]}),(0,Re.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[(0,Re.jsxs)("li",{children:["\u2022 Time: ",f.learnContent.timeComplexity.split("-")[0]]}),(0,Re.jsxs)("li",{children:["\u2022 Space: ",f.learnContent.spaceComplexity.split("-")[0]]}),(0,Re.jsxs)("li",{children:["\u2022 Pattern: ",f.learnContent.concept]})]})]}),(0,Re.jsxs)("div",{className:"bg-purple-900/20 rounded-xl p-4 border border-purple-500/30",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,Re.jsx)(yc.A,{className:"w-4 h-4 text-purple-400"}),"Hints ",p&&"(".concat(d+1,"/").concat(y.length,")")]}),d<y.length-1&&(0,Re.jsxs)("button",{onClick:()=>{p?d<y.length-1&&h(e=>e+1):(m(!0),h(0))},className:"px-3 py-1.5 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[(0,Re.jsx)(Cc,{className:"w-3 h-3"}),p?"Next Hint":"Show Hint"]})]}),p?(0,Re.jsxs)("div",{className:"space-y-2",children:[y.slice(0,d+1).map((e,t)=>(0,Re.jsx)(Wo.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"text-sm text-gray-300 bg-gray-900/50 rounded-lg p-3 border border-purple-500/20",children:e},t)),d===y.length-1&&(0,Re.jsx)("p",{className:"text-xs text-gray-500 italic mt-2",children:"No more hints available. Review the Learn section if needed!"})]}):(0,Re.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,Re.jsx)("p",{className:"mb-2",children:"Stuck? Get progressive hints to guide you through the solution."}),(0,Re.jsxs)("p",{className:"text-xs text-gray-500",children:["\ud83d\udca1 ",y.length," hints available"]})]})]})]})]}),(0,Re.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,Re.jsxs)("button",{onClick:()=>r("understand"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center gap-2",children:[(0,Re.jsx)(gc,{className:"w-5 h-5"}),"Back to Problem"]}),o.length>0&&o.every(e=>e.passed)&&(0,Re.jsxs)(Wo.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},onClick:()=>t("/arrays"),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 px-8 py-4 rounded-lg font-semibold flex items-center gap-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5"}),"Complete & Continue"]})]})]},"code")]})]})]})},Mc={title:"Complete Arrays Mastery",subtitle:"From Zero to Hero - Unified Learning Path",version:"2.0.0",totalLevels:3,totalProblems:51,totalLessons:12,estimatedTotalHours:50,levels:[{id:"beginner",level:"Beginner",levelNumber:1,name:"Beginner - Fundamentals & Basics",description:"Master array fundamentals through concepts, lessons, and practice",icon:"\ud83d\udfe2",totalProblems:17,estimatedHours:12,conceptLessons:[{id:"arrays-introduction",title:"Introduction to Arrays",description:"Learn the fundamentals of arrays with interactive visualizations",level:"Beginner",estimatedTime:30,steps:[{id:"step1",title:"What is an Array?",content:"\n          <p>An array is like a row of boxes, each containing a value. Every box has a number (called an index) that helps us find what's inside.</p>\n          <p>Arrays are <strong>zero-indexed</strong>, meaning the first position is labeled 0, not 1!</p>\n        ",visualization:{title:"Array Structure",description:"Each element has a value and an index position",animationType:"static",initialArray:[42,17,89,3,56],codeExample:"// Creating an array\nconst numbers = [42, 17, 89, 3, 56];\n// Array indices:  0   1   2   3   4"}},{id:"step2",title:"Accessing Array Elements",content:"\n          <p>To get a value from an array, we use its index inside square brackets: <code>array[index]</code></p>\n          <p><strong>Key Point:</strong> Array access is O(1) - constant time!</p>\n        ",visualization:{title:"Accessing Elements",description:"Watch as we access each element by its index",animationType:"access",initialArray:[42,17,89,3,56],codeExample:"console.log(numbers[0]); // Output: 42\nconsole.log(numbers[2]); // Output: 89"},quiz:{question:"What is the value at index 2 in [10, 20, 30, 40]?",options:["10","20","30","40"],correctAnswer:2,explanation:"Index 2 refers to the third element, which is 30."}}]}],courseLessons:[{id:"array-basics-concept",title:"Array Basics",description:"Understanding arrays, indices, and basic operations",type:"concept",level:1,difficulty:"Easy",duration:15,xpReward:50,order:1,locked:!1},{id:"array-basics-playground",title:"Array Basics - Practice",description:"Practice finding elements in arrays",type:"playground",level:1,difficulty:"Easy",duration:20,xpReward:100,order:2,playgroundConfig:{description:"Write a function that returns the first and last elements of an array",starterCode:"function getFirstAndLast(arr) {\n  // Your code here\n  \n}",hints:["Use array[0] to get the first element","Use array[array.length - 1] to get the last element","Return them as an array"],testCases:["getFirstAndLast([1, 2, 3, 4, 5]) should return [1, 5]","getFirstAndLast([42]) should return [42, 42]","getFirstAndLast([]) should return []"]}}],topics:[{id:"array-introduction",name:"1. Introduction to Arrays",concept:"Array Basics & Structure",difficulty:"Easy",learningObjective:"Understand arrays and basic traversal",estimatedTime:90,problems:[{id:"array-max",title:"Find Maximum Value",difficulty:"Easy",concept:"Array Traversal",objective:"Learn to scan an array and track a value",description:"Write a function that finds the maximum value in an array of numbers.",tags:["arrays","traversal","basics"],hasVideo:!0,hasArticle:!0,estimatedTime:15,starterCode:"function findMaximum(arr) {\n  // Your code here\n  \n}",solution:"function findMaximum(arr) {\n  if (arr.length === 0) return null;\n  \n  let max = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i] > max) {\n      max = arr[i];\n    }\n  }\n  return max;\n}",testCases:[{input:[1,3,5,7,9],expectedOutput:9},{input:[-5,-3,-1],expectedOutput:-1},{input:[100],expectedOutput:100},{input:[],expectedOutput:null}],examples:[{input:[1,3,5,7,9],output:9,explanation:"The maximum value in the array is 9"}],constraints:["Array length: 0 \u2264 n \u2264 10^5","Values: -10^9 \u2264 arr[i] \u2264 10^9"]},{id:"largest-element",title:"Find the Largest Element in an Array",difficulty:"Easy",concept:"Single Pass Iteration",objective:"Master basic array traversal and comparison logic",description:"Given an array, find and return the largest element.",tags:["array","basics","traversal","iteration"],hasVideo:!0,hasArticle:!0,estimatedTime:20,learnContent:{concept:"Array Traversal with Comparison",explanation:"To find the largest element, we scan through the entire array once, keeping track of the maximum value seen so far. This is called a single-pass algorithm.",algorithmSteps:["Initialize max to the first element (or negative infinity)","Iterate through each element starting from index 0","If current element is greater than max, update max","After traversal, max contains the largest element","Return max"],timeComplexity:"O(n) - We visit each element exactly once",spaceComplexity:"O(1) - We only use one variable for tracking",visualExample:{description:"Finding largest in [3, 7, 2, 9, 1]",steps:[{step:1,description:"Initialize max = 3 (first element)",visualization:"[3\u0332, 7, 2, 9, 1] max = 3",code:"let max = arr[0];"},{step:2,description:"Compare 7 > 3, update max = 7",visualization:"[3, 7\u0332, 2, 9, 1] max = 7",code:"if (arr[1] > max) max = arr[1];"},{step:3,description:"Compare 2 < 7, no update",visualization:"[3, 7, 2\u0332, 9, 1] max = 7"},{step:4,description:"Compare 9 > 7, update max = 9",visualization:"[3, 7, 2, 9\u0332, 1] max = 9",code:"if (arr[3] > max) max = arr[3];"},{step:5,description:"Compare 1 < 9, done! Return 9",visualization:"[3, 7, 2, 9, 1\u0332] max = 9 \u2713",code:"return max;"}]},keyPoints:["Only need one pass through the array","Track the maximum value seen so far","Handle edge cases (empty array)","O(1) space - very efficient!"],commonMistakes:["Forgetting to handle empty arrays","Starting max at 0 (fails for negative numbers)","Using O(n) extra space unnecessarily"]},starterCode:"function findLargestElement(arr) {\n  // Your code here\n  \n}",solution:"function findLargestElement(arr) {\n  if (arr.length === 0) return null;\n  \n  let max = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i] > max) {\n      max = arr[i];\n    }\n  }\n  return max;\n}",testCases:[{input:[3,7,2,9,1],expectedOutput:9},{input:[-10,-5,-3,-1],expectedOutput:-1},{input:[5],expectedOutput:5},{input:[],expectedOutput:null}],examples:[{input:[3,7,2,9,1],output:9,explanation:"9 is the largest element"},{input:[-10,-5,-3],output:-3,explanation:"Even with negatives, -3 is largest"}],constraints:["0 \u2264 array.length \u2264 10^5","-10^9 \u2264 array[i] \u2264 10^9"]},{id:"array-reverse",title:"Reverse an Array",difficulty:"Easy",concept:"Two Pointer Basics",objective:"Learn fundamental two-pointer technique",description:"Write a function that reverses an array without using built-in reverse methods.",tags:["arrays","two-pointers","reversal","basics"],hasVideo:!0,hasArticle:!0,estimatedTime:15,starterCode:"function reverseArray(arr) {\n  // Your code here\n  \n}",solution:"function reverseArray(arr) {\n  const result = [];\n  for (let i = arr.length - 1; i >= 0; i--) {\n    result.push(arr[i]);\n  }\n  return result;\n}",testCases:[{input:[1,2,3,4,5],expectedOutput:[5,4,3,2,1]},{input:["a","b","c"],expectedOutput:["c","b","a"]},{input:[],expectedOutput:[]},{input:[1],expectedOutput:[1]}],examples:[{input:[1,2,3,4,5],output:[5,4,3,2,1],explanation:"Elements are in reverse order"}],constraints:["0 \u2264 array.length \u2264 10^4","Do not use built-in reverse() method"]}]},{id:"basic-operations",name:"2. Basic Array Operations",concept:"Insertion, Deletion, and Rotation",difficulty:"Easy",learningObjective:"Learn how to modify arrays",estimatedTime:120,problems:[{id:"array-rotation",title:"Rotate Array to Right by K Steps",difficulty:"Easy",concept:"Reversal Algorithm",objective:"Master efficient in-place rotation",description:"Write a function to rotate an array to the right by k steps.",tags:["arrays","rotation","in-place","algorithm"],hasVideo:!0,hasArticle:!0,estimatedTime:25,starterCode:"function rotateArray(nums, k) {\n  // Your code here\n  \n}",solution:"function rotateArray(nums, k) {\n  k = k % nums.length;\n  reverse(nums, 0, nums.length - 1);\n  reverse(nums, 0, k - 1);\n  reverse(nums, k, nums.length - 1);\n  return nums;\n}\n\nfunction reverse(nums, start, end) {\n  while (start < end) {\n    [nums[start], nums[end]] = [nums[end], nums[start]];\n    start++;\n    end--;\n  }\n}",testCases:[{input:{nums:[1,2,3,4,5,6,7],k:3},expectedOutput:[5,6,7,1,2,3,4]},{input:{nums:[-1,-100,3,99],k:2},expectedOutput:[3,99,-1,-100]}],examples:[{input:{nums:[1,2,3,4,5,6,7],k:3},output:[5,6,7,1,2,3,4],explanation:"Rotate right by 3 positions"}],constraints:["1 \u2264 nums.length \u2264 10^5","-2^31 \u2264 nums[i] \u2264 2^31 - 1","0 \u2264 k \u2264 10^5"]}]}]},{id:"intermediate",level:"Intermediate",levelNumber:2,name:"Intermediate - Algorithmic Thinking",description:"Master two pointers, sliding window, and advanced patterns",icon:"\ud83d\udfe1",totalProblems:19,estimatedHours:18,conceptLessons:[],courseLessons:[],topics:[{id:"two-pointers-pairs",name:"1. Two Pointer Technique",concept:"Two Pointers for Pair Problems",difficulty:"Medium",learningObjective:"Master two-pointer technique",estimatedTime:150,problems:[{id:"two-sum",title:"Two Sum Problem",difficulty:"Medium",concept:"Hash Map Optimization",objective:"Use hash maps for O(n) time complexity",description:"Given an array of numbers and a target, return indices of two numbers that add up to the target.",tags:["array","hash-map","two-pointers","pairs"],hasVideo:!0,hasArticle:!0,estimatedTime:30,learnContent:{concept:"Hash Map for O(n) Lookup",explanation:"Instead of checking every pair (O(n\xb2)), we use a hash map to store numbers we've seen. For each number, we calculate its complement (target - current) and check if it exists in the map.",algorithmSteps:["Create an empty hash map to store {number: index}","Iterate through array with index","Calculate complement = target - current number","If complement exists in map, return [map[complement], current index]","Otherwise, store current number and index in map","Continue until pair found"],timeComplexity:"O(n) - Single pass through array",spaceComplexity:"O(n) - Hash map stores up to n elements",visualExample:{description:"Finding pair in [2, 7, 11, 15] with target 9",steps:[{step:1,description:"Check 2: complement = 9-2 = 7, not in map yet",visualization:"map = {}\n[2\u0332, 7, 11, 15] \u2192 Store 2\nmap = {2: 0}",code:"map[2] = 0;"},{step:2,description:"Check 7: complement = 9-7 = 2, found in map!",visualization:"map = {2: 0}\n[2, 7\u0332, 11, 15] \u2192 2 exists!\nReturn [0, 1] \u2713",code:"if (2 in map) return [map[2], 1];"},{step:3,description:"Done! Indices [0, 1] give us 2 + 7 = 9",visualization:"[2, 7, 11, 15]\n \u2191  \u2191\n indices 0, 1\n 2 + 7 = 9 \u2713"}]},keyPoints:["Hash maps provide O(1) lookup time for finding complements","Store numbers as you go - one pass is enough","Space-time tradeoff: O(n) space for O(n) time","Works for any target value"],commonMistakes:["Don't use nested loops - that's O(n\xb2) time","Remember to return indices, not values","Handle the case when no solution exists","Don't use the same element twice"]},starterCode:"function twoSum(nums, target) {\n  // Your code here\n  \n}",solution:"function twoSum(nums, target) {\n  const map = {};\n  for (let i = 0; i < nums.length; i++) {\n    const complement = target - nums[i];\n    if (complement in map) {\n      return [map[complement], i];\n    }\n    map[nums[i]] = i;\n  }\n  return null;\n}",testCases:[{input:{nums:[2,7,11,15],target:9},expectedOutput:[0,1]},{input:{nums:[3,2,4],target:6},expectedOutput:[1,2]},{input:{nums:[3,3],target:6},expectedOutput:[0,1]}],examples:[{input:{nums:[2,7,11,15],target:9},output:[0,1],explanation:"nums[0] + nums[1] = 2 + 7 = 9"}],constraints:["2 \u2264 nums.length \u2264 10^4","-10^9 \u2264 nums[i] \u2264 10^9","Only one valid answer exists"]}]}]},{id:"advanced",level:"Advanced",levelNumber:3,name:"Advanced - LeetCode & Competitive Level",description:"Tackle hard problems with advanced techniques",icon:"\ud83d\udd34",totalProblems:15,estimatedHours:20,conceptLessons:[],courseLessons:[],topics:[{id:"k-sum-problems",name:"1. Multiple Pointers - 3Sum & 4Sum",concept:"K-Sum Problems",difficulty:"Hard",learningObjective:"Extend two-pointer to k-sum",estimatedTime:180,problems:[{id:"three-sum",title:"3 Sum Problem",difficulty:"Hard",concept:"Three Pointers with Sorting",objective:"Find all unique triplets that sum to target",description:"Given an array, find all unique triplets that sum to zero.",tags:["array","three-pointers","triplets","sorting"],hasVideo:!0,hasArticle:!0,estimatedTime:50,starterCode:"function threeSum(nums) {\n  // Your code here\n  \n}",testCases:[{input:[-1,0,1,2,-1,-4],expectedOutput:"[[-1,-1,2],[-1,0,1]]",note:"Output is array of triplets"}],examples:[{input:[-1,0,1,2,-1,-4],output:"[[-1,-1,2],[-1,0,1]]",explanation:"Two unique triplets sum to 0"}],constraints:["3 \u2264 nums.length \u2264 3000","-10^5 \u2264 nums[i] \u2264 10^5"]}]}]}]};function Dc(){const e=[];return Mc.levels.forEach(t=>{t.topics.forEach(t=>{e.push(...t.problems)})}),e}const Lc=(0,Zo.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Fc=(0,Zo.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var Vc=n(633);const Uc=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)([]),p=e=>{u(t=>[...t,"[".concat((new Date).toLocaleTimeString(),"] ").concat(e)])},m=e=>{h(t=>[...t,"[".concat((new Date).toLocaleTimeString(),"] ").concat(e)])};return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,Re.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[(0,Re.jsx)(ql,{className:"w-10 h-10 text-blue-400"}),"Firebase Data Management"]}),(0,Re.jsx)("p",{className:"text-gray-400",children:"Populate Firebase with unified curriculum data or migrate existing problems"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-900/20 to-blue-900/20 border border-purple-500/30 rounded-xl p-6 mb-6",children:[(0,Re.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,Re.jsx)(Lc,{className:"w-6 h-6 text-purple-400"}),"Populate Firebase with Unified Curriculum"]}),(0,Re.jsx)("p",{className:"text-gray-300 mb-4",children:"Upload all problems from the comprehensive-arrays-curriculum.ts to Firebase. This includes all 50+ problems organized by difficulty level and topic."}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},onClick:async()=>{r(!0),l(null),h([]),m("\ud83d\ude80 Starting Firebase population...");try{const e=[];Rc.levels.forEach(t=>{t.subtopics.forEach(t=>{t.problems.forEach(n=>{e.push((0,Me.A)((0,Me.A)({},n),{},{concept:n.concept||t.name,objective:n.objective||n.learningObjective,description:n.description||n.learningObjective,estimatedTime:n.estimatedTime||30}))})})}),m("\ud83d\udce6 Found ".concat(e.length," problems in comprehensive curriculum")),m("\u2b06\ufe0f  Uploading problems to Firebase...");const t=await(async e=>{let t=0,n=0;const r=500;for(let s=0;s<e.length;s+=r){const a=(0,ml.wP)(fl.db),o=e.slice(s,s+r);o.forEach(e=>{const t=(0,ml.H9)(fl.db,"problems",e.id);a.set(t,(0,Me.A)((0,Me.A)({},e),{},{createdAt:(0,ml.O5)(),updatedAt:(0,ml.O5)()}))});try{await a.commit(),t+=o.length,console.log("\u2705 Batch ".concat(Math.floor(s/r)+1,": Added ").concat(o.length," problems"))}catch(i){n+=o.length,console.error("\u274c Batch ".concat(Math.floor(s/r)+1," failed:"),i)}}return{success:t,failed:n}})(e);l(t),m(""),m("=".repeat(50)),m("\u2705 Successfully added: ".concat(t.success," problems")),m("\u274c Failed: ".concat(t.failed," problems")),m("=".repeat(50)),0===t.failed?m("\ud83c\udf89 Population completed successfully!"):m("\u26a0\ufe0f  Population completed with errors")}catch(e){m("\ud83d\udca5 Fatal error: ".concat(e.message)),l({success:0,failed:1})}finally{r(!1)}},disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-lg font-semibold text-lg flex items-center justify-center gap-3",children:[(0,Re.jsx)(Lc,{className:"w-5 h-5 ".concat(n?"animate-bounce":"")}),n?"Populating...":"Populate Firebase"]}),o&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-2 gap-4 mt-4",children:[(0,Re.jsxs)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Success"})]}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-green-400",children:o.success})]}),(0,Re.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(xc,{className:"w-5 h-5 text-red-400"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Failed"})]}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-red-400",children:o.failed})]})]}),d.length>0&&(0,Re.jsx)(Wo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 bg-gray-900/50 rounded-lg p-4 max-h-64 overflow-y-auto",children:(0,Re.jsx)("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap",children:d.join("\n")})})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-4 my-8",children:[(0,Re.jsx)("div",{className:"flex-1 h-px bg-gray-700"}),(0,Re.jsx)("span",{className:"text-gray-500 text-sm font-medium",children:"OR"}),(0,Re.jsx)("div",{className:"flex-1 h-px bg-gray-700"})]}),(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 border border-blue-500/30 rounded-xl p-6 mb-6",children:[(0,Re.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,Re.jsx)(Fc,{className:"w-6 h-6 text-blue-400"}),"Migrate Existing Problems"]}),(0,Re.jsx)("p",{className:"text-gray-300 mb-4",children:"Update existing Firebase problems to include concept, objective, and estimatedTime fields."}),(0,Re.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-4",children:(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)(Vc.A,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-1"}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"font-semibold text-yellow-400 mb-2",children:"Important Notes:"}),(0,Re.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1",children:[(0,Re.jsx)("li",{children:"\u2022 This will update ALL problems in your Firebase database"}),(0,Re.jsx)("li",{children:"\u2022 Existing fields will NOT be overwritten"}),(0,Re.jsx)("li",{children:"\u2022 Only new fields (concept, objective, estimatedTime) will be added"}),(0,Re.jsx)("li",{children:"\u2022 The operation is safe and can be run multiple times"})]})]})]})}),(0,Re.jsxs)(Wo.button,{whileHover:{scale:e?1:1.02},whileTap:{scale:e?1:.98},onClick:async()=>{t(!0),a(null),u([]),p("\ud83d\ude80 Starting migration...");try{const t=Dc();p("\ud83d\udce6 Found ".concat(t.length," problems in unified curriculum"));const n=new Map(t.map(e=>[e.id,e])),r=(0,ml.rJ)(fl.db,"problems"),i=await(0,ml.GG)(r);p("\ud83d\udd0d Found ".concat(i.size," problems in Firebase"));let s=0,o=0,l=0;for(const a of i.docs){const t=a.id,r=n.get(t);if(!r){p('\u26a0\ufe0f  "'.concat(t,'" not in unified curriculum')),o++;continue}const i={};if(r.concept&&(i.concept=r.concept),r.objective&&(i.objective=r.objective),r.estimatedTime&&(i.estimatedTime=r.estimatedTime),0!==Object.keys(i).length)try{await(0,ml.mZ)((0,ml.H9)(fl.db,"problems",t),i),p('\u2705 Updated "'.concat(t,'"')),s++}catch(e){p('\u274c Error updating "'.concat(t,'": ').concat(e.message)),l++}else o++}a({updated:s,skipped:o,errors:l,logs:c}),p(""),p("=".repeat(50)),p("\u2705 Updated: ".concat(s," problems")),p("\u21aa\ufe0f  Skipped: ".concat(o," problems")),p("\u274c Errors: ".concat(l," problems")),p("=".repeat(50)),p(0===l?"\ud83c\udf89 Migration completed successfully!":"\u26a0\ufe0f  Migration completed with errors")}catch(e){p("\ud83d\udca5 Fatal error: ".concat(e.message)),a({updated:0,skipped:0,errors:1,logs:c})}finally{t(!1)}},disabled:e,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-lg font-semibold text-lg flex items-center justify-center gap-3",children:[(0,Re.jsx)(Fc,{className:"w-5 h-5 ".concat(e?"animate-spin":"")}),e?"Migrating...":"Start Migration"]}),s&&(0,Re.jsxs)(Wo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4 mt-4",children:[(0,Re.jsxs)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Ql,{className:"w-5 h-5 text-green-400"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Updated"})]}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-green-400",children:s.updated})]}),(0,Re.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(Vc.A,{className:"w-5 h-5 text-yellow-400"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Skipped"})]}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:s.skipped})]}),(0,Re.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-xl p-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Re.jsx)(xc,{className:"w-5 h-5 text-red-400"}),(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"Errors"})]}),(0,Re.jsx)("div",{className:"text-3xl font-bold text-red-400",children:s.errors})]})]}),c.length>0&&(0,Re.jsx)(Wo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 bg-gray-900/50 rounded-lg p-4 max-h-64 overflow-y-auto",children:(0,Re.jsx)("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap",children:c.join("\n")})})]})]})})},zc=(0,i.lazy)(()=>n.e(576).then(n.bind(n,576))),Bc=e=>{let{children:t}=e;const{user:n}=(0,pl.A)();return n?(0,Re.jsx)(Re.Fragment,{children:t}):(0,Re.jsx)(ge,{to:"/login",replace:!0})},qc=()=>(0,Re.jsx)(pl.O,{children:(0,Re.jsx)(wl,{children:(0,Re.jsx)(Tl,{children:(0,Re.jsx)(Ae,{children:(0,Re.jsx)(i.Suspense,{fallback:(0,Re.jsx)("div",{children:"Loading..."}),children:(0,Re.jsxs)(xe,{children:[(0,Re.jsx)(ye,{path:"/login",element:(0,Re.jsx)(Nc,{})}),(0,Re.jsx)(ye,{path:"/",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(Oe,{})})}),(0,Re.jsx)(ye,{path:"/arrays",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(fc,{})})}),(0,Re.jsx)(ye,{path:"/lesson/:lessonId",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(Al,{})})}),(0,Re.jsx)(ye,{path:"/learn-problem/:problemId",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(Oc,{})})}),(0,Re.jsx)(ye,{path:"/profile",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(_l,{})})}),(0,Re.jsx)(ye,{path:"/tutor-dev",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(zc,{})})}),(0,Re.jsx)(ye,{path:"/migrate-problems",element:(0,Re.jsx)(Bc,{children:(0,Re.jsx)(Uc,{})})}),(0,Re.jsx)(ye,{path:"/achievements",element:(0,Re.jsx)(jl,{})}),(0,Re.jsx)(ye,{path:"/daily-challenge",element:(0,Re.jsx)(Il,{})}),(0,Re.jsx)(ye,{path:"/playground",element:(0,Re.jsx)(Pl,{})}),(0,Re.jsx)(ye,{path:"/playground/:id",element:(0,Re.jsx)(wc,{})}),(0,Re.jsx)(ye,{path:"/revision/:level",element:(0,Re.jsx)(Ec,{})}),(0,Re.jsx)(ye,{path:"/mastery-test",element:(0,Re.jsx)(Ac,{})}),(0,Re.jsx)(ye,{path:"/progress",element:(0,Re.jsx)(Ol,{})}),(0,Re.jsx)(ye,{path:"*",element:(0,Re.jsx)(Ml,{})})]})})})})})}),Hc=document.getElementById("root");if(!Hc)throw new Error("Root element not found. Did you forget to add it to your index.html?");(0,a.H)(Hc).render((0,Re.jsx)(i.StrictMode,{children:(0,Re.jsx)(qc,{})}))})();
//# sourceMappingURL=main.dfef1c0b.js.map